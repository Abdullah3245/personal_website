var JT=Object.defineProperty;var m_=p=>{throw TypeError(p)};var t2=(p,e,i)=>e in p?JT(p,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[e]=i;var _t=(p,e,i)=>t2(p,typeof e!="symbol"?e+"":e,i),R0=(p,e,i)=>e.has(p)||m_("Cannot "+i);var c=(p,e,i)=>(R0(p,e,"read from private field"),i?i.call(p):e.get(p)),T=(p,e,i)=>e.has(p)?m_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(p):e.set(p,i),x=(p,e,i,s)=>(R0(p,e,"write to private field"),s?s.call(p,i):e.set(p,i),i),S=(p,e,i)=>(R0(p,e,"access private method"),i);var Ai=(p,e,i,s)=>({set _(r){x(p,e,r,i)},get _(){return c(p,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();function e2(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var M0={exports:{}},qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function i2(){if(b_)return qu;b_=1;var p=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:p,type:s,key:u,ref:r!==void 0?r:null,props:o}}return qu.Fragment=e,qu.jsx=i,qu.jsxs=i,qu}var y_;function n2(){return y_||(y_=1,M0.exports=i2()),M0.exports}var R=n2(),D0={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function s2(){if(v_)return Rt;v_=1;var p=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function L(N,K,tt){this.props=N,this.context=K,this.refs=C,this.updater=tt||_}L.prototype.isReactComponent={},L.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function M(){}M.prototype=L.prototype;function P(N,K,tt){this.props=N,this.context=K,this.refs=C,this.updater=tt||_}var j=P.prototype=new M;j.constructor=P,E(j,L.prototype),j.isPureReactComponent=!0;var z=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function X(N,K,tt,J,ot,Et){return tt=Et.ref,{$$typeof:p,type:N,key:K,ref:tt!==void 0?tt:null,props:Et}}function W(N,K){return X(N.type,K,void 0,void 0,void 0,N.props)}function et(N){return typeof N=="object"&&N!==null&&N.$$typeof===p}function lt(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(tt){return K[tt]})}var at=/\/+/g;function pt(N,K){return typeof N=="object"&&N!==null&&N.key!=null?lt(""+N.key):K.toString(36)}function bt(){}function ft(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(bt,bt):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ht(N,K,tt,J,ot){var Et=typeof N;(Et==="undefined"||Et==="boolean")&&(N=null);var ct=!1;if(N===null)ct=!0;else switch(Et){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(N.$$typeof){case p:case e:ct=!0;break;case b:return ct=N._init,ht(ct(N._payload),K,tt,J,ot)}}if(ct)return ot=ot(N),ct=J===""?"."+pt(N,0):J,z(ot)?(tt="",ct!=null&&(tt=ct.replace(at,"$&/")+"/"),ht(ot,K,tt,"",function(we){return we})):ot!=null&&(et(ot)&&(ot=W(ot,tt+(ot.key==null||N&&N.key===ot.key?"":(""+ot.key).replace(at,"$&/")+"/")+ct)),K.push(ot)),1;ct=0;var wt=J===""?".":J+":";if(z(N))for(var Ht=0;Ht<N.length;Ht++)J=N[Ht],Et=wt+pt(J,Ht),ct+=ht(J,K,tt,Et,ot);else if(Ht=v(N),typeof Ht=="function")for(N=Ht.call(N),Ht=0;!(J=N.next()).done;)J=J.value,Et=wt+pt(J,Ht++),ct+=ht(J,K,tt,Et,ot);else if(Et==="object"){if(typeof N.then=="function")return ht(ft(N),K,tt,J,ot);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ct}function U(N,K,tt){if(N==null)return N;var J=[],ot=0;return ht(N,J,"","",function(Et){return K.call(tt,Et,ot++)}),J}function V(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(tt){(N._status===0||N._status===-1)&&(N._status=1,N._result=tt)},function(tt){(N._status===0||N._status===-1)&&(N._status=2,N._result=tt)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var Z=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function St(){}return Rt.Children={map:U,forEach:function(N,K,tt){U(N,function(){K.apply(this,arguments)},tt)},count:function(N){var K=0;return U(N,function(){K++}),K},toArray:function(N){return U(N,function(K){return K})||[]},only:function(N){if(!et(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Rt.Component=L,Rt.Fragment=i,Rt.Profiler=r,Rt.PureComponent=P,Rt.StrictMode=s,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cloneElement=function(N,K,tt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=E({},N.props),ot=N.key,Et=void 0;if(K!=null)for(ct in K.ref!==void 0&&(Et=void 0),K.key!==void 0&&(ot=""+K.key),K)!H.call(K,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&K.ref===void 0||(J[ct]=K[ct]);var ct=arguments.length-2;if(ct===1)J.children=tt;else if(1<ct){for(var wt=Array(ct),Ht=0;Ht<ct;Ht++)wt[Ht]=arguments[Ht+2];J.children=wt}return X(N.type,ot,void 0,void 0,Et,J)},Rt.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},Rt.createElement=function(N,K,tt){var J,ot={},Et=null;if(K!=null)for(J in K.key!==void 0&&(Et=""+K.key),K)H.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=K[J]);var ct=arguments.length-2;if(ct===1)ot.children=tt;else if(1<ct){for(var wt=Array(ct),Ht=0;Ht<ct;Ht++)wt[Ht]=arguments[Ht+2];ot.children=wt}if(N&&N.defaultProps)for(J in ct=N.defaultProps,ct)ot[J]===void 0&&(ot[J]=ct[J]);return X(N,Et,void 0,void 0,null,ot)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:h,render:N}},Rt.isValidElement=et,Rt.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:V}},Rt.memo=function(N,K){return{$$typeof:g,type:N,compare:K===void 0?null:K}},Rt.startTransition=function(N){var K=I.T,tt={};I.T=tt;try{var J=N(),ot=I.S;ot!==null&&ot(tt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(St,Z)}catch(Et){Z(Et)}finally{I.T=K}},Rt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Rt.use=function(N){return I.H.use(N)},Rt.useActionState=function(N,K,tt){return I.H.useActionState(N,K,tt)},Rt.useCallback=function(N,K){return I.H.useCallback(N,K)},Rt.useContext=function(N){return I.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,K){return I.H.useDeferredValue(N,K)},Rt.useEffect=function(N,K,tt){var J=I.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(N,K)},Rt.useId=function(){return I.H.useId()},Rt.useImperativeHandle=function(N,K,tt){return I.H.useImperativeHandle(N,K,tt)},Rt.useInsertionEffect=function(N,K){return I.H.useInsertionEffect(N,K)},Rt.useLayoutEffect=function(N,K){return I.H.useLayoutEffect(N,K)},Rt.useMemo=function(N,K){return I.H.useMemo(N,K)},Rt.useOptimistic=function(N,K){return I.H.useOptimistic(N,K)},Rt.useReducer=function(N,K,tt){return I.H.useReducer(N,K,tt)},Rt.useRef=function(N){return I.H.useRef(N)},Rt.useState=function(N){return I.H.useState(N)},Rt.useSyncExternalStore=function(N,K,tt){return I.H.useSyncExternalStore(N,K,tt)},Rt.useTransition=function(){return I.H.useTransition()},Rt.version="19.1.0",Rt}var A_;function oy(){return A_||(A_=1,D0.exports=s2()),D0.exports}var it=oy(),L0={exports:{}},Vu={},N0={exports:{}},O0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function a2(){return __||(__=1,function(p){function e(U,V){var Z=U.length;U.push(V);t:for(;0<Z;){var St=Z-1>>>1,N=U[St];if(0<r(N,V))U[St]=V,U[Z]=N,Z=St;else break t}}function i(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var V=U[0],Z=U.pop();if(Z!==V){U[0]=Z;t:for(var St=0,N=U.length,K=N>>>1;St<K;){var tt=2*(St+1)-1,J=U[tt],ot=tt+1,Et=U[ot];if(0>r(J,Z))ot<N&&0>r(Et,J)?(U[St]=Et,U[ot]=Z,St=ot):(U[St]=J,U[tt]=Z,St=tt);else if(ot<N&&0>r(Et,Z))U[St]=Et,U[ot]=Z,St=ot;else break t}}return V}function r(U,V){var Z=U.sortIndex-V.sortIndex;return Z!==0?Z:U.id-V.id}if(p.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;p.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();p.unstable_now=function(){return u.now()-h}}var f=[],g=[],b=1,y=null,v=3,_=!1,E=!1,C=!1,L=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function z(U){for(var V=i(g);V!==null;){if(V.callback===null)s(g);else if(V.startTime<=U)s(g),V.sortIndex=V.expirationTime,e(f,V);else break;V=i(g)}}function I(U){if(C=!1,z(U),!E)if(i(f)!==null)E=!0,H||(H=!0,pt());else{var V=i(g);V!==null&&ht(I,V.startTime-U)}}var H=!1,X=-1,W=5,et=-1;function lt(){return L?!0:!(p.unstable_now()-et<W)}function at(){if(L=!1,H){var U=p.unstable_now();et=U;var V=!0;try{t:{E=!1,C&&(C=!1,P(X),X=-1),_=!0;var Z=v;try{e:{for(z(U),y=i(f);y!==null&&!(y.expirationTime>U&&lt());){var St=y.callback;if(typeof St=="function"){y.callback=null,v=y.priorityLevel;var N=St(y.expirationTime<=U);if(U=p.unstable_now(),typeof N=="function"){y.callback=N,z(U),V=!0;break e}y===i(f)&&s(f),z(U)}else s(f);y=i(f)}if(y!==null)V=!0;else{var K=i(g);K!==null&&ht(I,K.startTime-U),V=!1}}break t}finally{y=null,v=Z,_=!1}V=void 0}}finally{V?pt():H=!1}}}var pt;if(typeof j=="function")pt=function(){j(at)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,ft=bt.port2;bt.port1.onmessage=at,pt=function(){ft.postMessage(null)}}else pt=function(){M(at,0)};function ht(U,V){X=M(function(){U(p.unstable_now())},V)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(U){U.callback=null},p.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},p.unstable_getCurrentPriorityLevel=function(){return v},p.unstable_next=function(U){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var Z=v;v=V;try{return U()}finally{v=Z}},p.unstable_requestPaint=function(){L=!0},p.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=v;v=U;try{return V()}finally{v=Z}},p.unstable_scheduleCallback=function(U,V,Z){var St=p.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?St+Z:St):Z=St,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Z+N,U={id:b++,callback:V,priorityLevel:U,startTime:Z,expirationTime:N,sortIndex:-1},Z>St?(U.sortIndex=Z,e(g,U),i(f)===null&&U===i(g)&&(C?(P(X),X=-1):C=!0,ht(I,Z-St))):(U.sortIndex=N,e(f,U),E||_||(E=!0,H||(H=!0,pt()))),U},p.unstable_shouldYield=lt,p.unstable_wrapCallback=function(U){var V=v;return function(){var Z=v;v=V;try{return U.apply(this,arguments)}finally{v=Z}}}}(O0)),O0}var x_;function r2(){return x_||(x_=1,N0.exports=a2()),N0.exports}var k0={exports:{}},ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function l2(){if(S_)return ui;S_=1;var p=oy();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:g,implementation:b}}var u=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ui.createPortal=function(f,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(f,g,null,b)},ui.flushSync=function(f){var g=u.T,b=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=g,s.p=b,s.d.f()}},ui.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},ui.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},ui.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var b=g.as,y=h(b,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):b==="script"&&s.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ui.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=h(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},ui.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,y=h(b,g.crossOrigin);s.d.L(f,b,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ui.preloadModule=function(f,g){if(typeof f=="string")if(g){var b=h(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},ui.requestFormReset=function(f){s.d.r(f)},ui.unstable_batchedUpdates=function(f,g){return f(g)},ui.useFormState=function(f,g,b){return u.H.useFormState(f,g,b)},ui.useFormStatus=function(){return u.H.useHostTransitionStatus()},ui.version="19.1.0",ui}var E_;function o2(){if(E_)return k0.exports;E_=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(e){console.error(e)}}return p(),k0.exports=l2(),k0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function c2(){if(w_)return Vu;w_=1;var p=r2(),e=oy(),i=o2();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function u(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(o(t)!==t)throw Error(s(188))}function f(t){var n=t.alternate;if(!n){if(n=o(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return h(d),t;if(m===l)return h(d),n;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var A=!1,w=d.child;w;){if(w===a){A=!0,a=d,l=m;break}if(w===l){A=!0,l=d,a=m;break}w=w.sibling}if(!A){for(w=m.child;w;){if(w===a){A=!0,a=m,l=d;break}if(w===l){A=!0,l=m,a=d;break}w=w.sibling}if(!A)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),et=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function pt(t){return t===null||typeof t!="object"?null:(t=at&&t[at]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===bt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case L:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case H:return"SuspenseList";case et:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case j:return(t.displayName||"Context")+".Provider";case P:return(t._context.displayName||"Context")+".Consumer";case z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return n=t.displayName||null,n!==null?n:ft(t.type)||"Memo";case W:n=t._payload,t=t._init;try{return ft(t(n))}catch{}}return null}var ht=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},St=[],N=-1;function K(t){return{current:t}}function tt(t){0>N||(t.current=St[N],St[N]=null,N--)}function J(t,n){N++,St[N]=t.current,t.current=n}var ot=K(null),Et=K(null),ct=K(null),wt=K(null);function Ht(t,n){switch(J(ct,n),J(Et,t),J(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?q1(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=q1(n),t=V1(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(ot),J(ot,t)}function we(){tt(ot),tt(Et),tt(ct)}function Wt(t){t.memoizedState!==null&&J(wt,t);var n=ot.current,a=V1(n,t.type);n!==a&&(J(Et,t),J(ot,a))}function qn(t){Et.current===t&&(tt(ot),tt(Et)),wt.current===t&&(tt(wt),Fu._currentValue=Z)}var ps=Object.prototype.hasOwnProperty,qt=p.unstable_scheduleCallback,oe=p.unstable_cancelCallback,Be=p.unstable_shouldYield,Te=p.unstable_requestPaint,Je=p.unstable_now,br=p.unstable_getCurrentPriorityLevel,kd=p.unstable_ImmediatePriority,Pd=p.unstable_UserBlockingPriority,ms=p.unstable_NormalPriority,gp=p.unstable_LowPriority,jd=p.unstable_IdlePriority,pp=p.log,mp=p.unstable_setDisableYieldValue,yr=null,Ce=null;function Fi(t){if(typeof pp=="function"&&mp(t),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(yr,t)}catch{}}var Ie=Math.clz32?Math.clz32:FE,Yc=Math.log,HE=Math.LN2;function FE(t){return t>>>=0,t===0?32:31-(Yc(t)/HE|0)|0}var zd=256,Hd=4194304;function vr(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fd(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?d=vr(l):(A&=w,A!==0?d=vr(A):a||(a=w&~t,a!==0&&(d=vr(a))))):(w=l&~m,w!==0?d=vr(w):A!==0?d=vr(A):a||(a=l&~t,a!==0&&(d=vr(a)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:d}function Kc(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function UE(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cy(){var t=zd;return zd<<=1,(zd&4194048)===0&&(zd=256),t}function Ry(){var t=Hd;return Hd<<=1,(Hd&62914560)===0&&(Hd=4194304),t}function bp(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function $c(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function BE(t,n,a,l,d,m){var A=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=A&~a;0<a;){var Y=31-Ie(a),Q=1<<Y;w[Y]=0,D[Y]=-1;var G=B[Y];if(G!==null)for(B[Y]=null,Y=0;Y<G.length;Y++){var q=G[Y];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&My(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(A&~n))}function My(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ie(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Dy(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ie(a),d=1<<l;d&n|t[l]&n&&(t[l]|=n),a&=~d}}function yp(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vp(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ly(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:u_(t.type))}function IE(t,n){var a=V.p;try{return V.p=t,n()}finally{V.p=a}}var fa=Math.random().toString(36).slice(2),oi="__reactFiber$"+fa,Ci="__reactProps$"+fa,$l="__reactContainer$"+fa,Ap="__reactEvents$"+fa,GE="__reactListeners$"+fa,qE="__reactHandles$"+fa,Ny="__reactResources$"+fa,Qc="__reactMarker$"+fa;function _p(t){delete t[oi],delete t[Ci],delete t[Ap],delete t[GE],delete t[qE]}function Ql(t){var n=t[oi];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$l]||a[oi]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=$1(t);t!==null;){if(a=t[oi])return a;t=$1(t)}return n}t=a,a=t.parentNode}return null}function Wl(t){if(t=t[oi]||t[$l]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Wc(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Zl(t){var n=t[Ny];return n||(n=t[Ny]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ge(t){t[Qc]=!0}var Oy=new Set,ky={};function Ar(t,n){Jl(t,n),Jl(t+"Capture",n)}function Jl(t,n){for(ky[t]=n,t=0;t<n.length;t++)Oy.add(n[t])}var VE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Py={},jy={};function XE(t){return ps.call(jy,t)?!0:ps.call(Py,t)?!1:VE.test(t)?jy[t]=!0:(Py[t]=!0,!1)}function Ud(t,n,a){if(XE(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Bd(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function bs(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var xp,zy;function to(t){if(xp===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);xp=n&&n[1]||"",zy=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xp+t+zy}var Sp=!1;function Ep(t,n){if(!t||Sp)return"";Sp=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var G=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){G=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){G=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&G&&typeof q.stack=="string")return[q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),A=m[0],w=m[1];if(A&&w){var D=A.split(`
`),B=w.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===B.length)for(l=D.length-1,d=B.length-1;1<=l&&0<=d&&D[l]!==B[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==B[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==B[d]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=d);break}}}finally{Sp=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?to(a):""}function YE(t){switch(t.tag){case 26:case 27:case 5:return to(t.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 15:return Ep(t.type,!1);case 11:return Ep(t.type.render,!1);case 1:return Ep(t.type,!0);case 31:return to("Activity");default:return""}}function Hy(t){try{var n="";do n+=YE(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fy(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function KE(t){var n=Fy(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(A){l=""+A,m.call(this,A)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Id(t){t._valueTracker||(t._valueTracker=KE(t))}function Uy(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fy(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $E=/[\n"\\]/g;function ln(t){return t.replace($E,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wp(t,n,a,l,d,m,A,w){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),n!=null?A==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+rn(n)):t.value!==""+rn(n)&&(t.value=""+rn(n)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),n!=null?Tp(t,A,rn(n)):a!=null?Tp(t,A,rn(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+rn(w):t.removeAttribute("name")}function By(t,n,a,l,d,m,A,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;a=a!=null?""+rn(a):"",n=n!=null?""+rn(n):a,w||n===t.value||(t.value=n),t.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function Tp(t,n,a){n==="number"&&Gd(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function eo(t,n,a,l){if(t=t.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=n.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),n=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function Iy(t,n,a){if(n!=null&&(n=""+rn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+rn(a):""}function Gy(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=rn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function io(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var QE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qy(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||QE.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Vy(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&a[d]!==l&&qy(t,d,l)}else for(var m in n)n.hasOwnProperty(m)&&qy(t,m,n[m])}function Cp(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qd(t){return ZE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rp=null;function Mp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var no=null,so=null;function Xy(t){var n=Wl(t);if(n&&(t=n.stateNode)){var a=t[Ci]||null;t:switch(t=n.stateNode,n.type){case"input":if(wp(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var d=l[Ci]||null;if(!d)throw Error(s(90));wp(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Uy(l)}break t;case"textarea":Iy(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&eo(t,!!a.multiple,n,!1)}}}var Dp=!1;function Yy(t,n,a){if(Dp)return t(n,a);Dp=!0;try{var l=t(n);return l}finally{if(Dp=!1,(no!==null||so!==null)&&(Df(),no&&(n=no,t=so,so=no=null,Xy(n),t)))for(n=0;n<t.length;n++)Xy(t[n])}}function Zc(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ci]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=!1;if(ys)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){Lp=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{Lp=!1}var ga=null,Np=null,Vd=null;function Ky(){if(Vd)return Vd;var t,n=Np,a=n.length,l,d="value"in ga?ga.value:ga.textContent,m=d.length;for(t=0;t<a&&n[t]===d[t];t++);var A=a-t;for(l=1;l<=A&&n[a-l]===d[m-l];l++);return Vd=d.slice(t,1<l?1-l:void 0)}function Xd(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yd(){return!0}function $y(){return!1}function Ri(t){function n(a,l,d,m,A){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=A,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yd:$y,this.isPropagationStopped=$y,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yd)},persist:function(){},isPersistent:Yd}),n}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=Ri(_r),tu=b({},_r,{view:0,detail:0}),JE=Ri(tu),Op,kp,eu,$d=b({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eu&&(eu&&t.type==="mousemove"?(Op=t.screenX-eu.screenX,kp=t.screenY-eu.screenY):kp=Op=0,eu=t),Op)},movementY:function(t){return"movementY"in t?t.movementY:kp}}),Qy=Ri($d),tw=b({},$d,{dataTransfer:0}),ew=Ri(tw),iw=b({},tu,{relatedTarget:0}),Pp=Ri(iw),nw=b({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),sw=Ri(nw),aw=b({},_r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rw=Ri(aw),lw=b({},_r,{data:0}),Wy=Ri(lw),ow={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hw(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=uw[t])?!!n[t]:!1}function jp(){return hw}var dw=b({},tu,{key:function(t){if(t.key){var n=ow[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jp,charCode:function(t){return t.type==="keypress"?Xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fw=Ri(dw),gw=b({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zy=Ri(gw),pw=b({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jp}),mw=Ri(pw),bw=b({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),yw=Ri(bw),vw=b({},$d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Aw=Ri(vw),_w=b({},_r,{newState:0,oldState:0}),xw=Ri(_w),Sw=[9,13,27,32],zp=ys&&"CompositionEvent"in window,iu=null;ys&&"documentMode"in document&&(iu=document.documentMode);var Ew=ys&&"TextEvent"in window&&!iu,Jy=ys&&(!zp||iu&&8<iu&&11>=iu),tv=" ",ev=!1;function iv(t,n){switch(t){case"keyup":return Sw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function ww(t,n){switch(t){case"compositionend":return nv(n);case"keypress":return n.which!==32?null:(ev=!0,tv);case"textInput":return t=n.data,t===tv&&ev?null:t;default:return null}}function Tw(t,n){if(ao)return t==="compositionend"||!zp&&iv(t,n)?(t=Ky(),Vd=Np=ga=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Jy&&n.locale!=="ko"?null:n.data;default:return null}}var Cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Cw[t.type]:n==="textarea"}function av(t,n,a,l){no?so?so.push(l):so=[l]:no=l,n=jf(n,"onChange"),0<n.length&&(a=new Kd("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var nu=null,su=null;function Rw(t){F1(t,0)}function Qd(t){var n=Wc(t);if(Uy(n))return t}function rv(t,n){if(t==="change")return n}var lv=!1;if(ys){var Hp;if(ys){var Fp="oninput"in document;if(!Fp){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),Fp=typeof ov.oninput=="function"}Hp=Fp}else Hp=!1;lv=Hp&&(!document.documentMode||9<document.documentMode)}function cv(){nu&&(nu.detachEvent("onpropertychange",uv),su=nu=null)}function uv(t){if(t.propertyName==="value"&&Qd(su)){var n=[];av(n,su,t,Mp(t)),Yy(Rw,n)}}function Mw(t,n,a){t==="focusin"?(cv(),nu=n,su=a,nu.attachEvent("onpropertychange",uv)):t==="focusout"&&cv()}function Dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qd(su)}function Lw(t,n){if(t==="click")return Qd(n)}function Nw(t,n){if(t==="input"||t==="change")return Qd(n)}function Ow(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ui=typeof Object.is=="function"?Object.is:Ow;function au(t,n){if(Ui(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ps.call(n,d)||!Ui(t[d],n[d]))return!1}return!0}function hv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dv(t,n){var a=hv(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hv(a)}}function fv(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fv(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function gv(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Gd(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Gd(t.document)}return n}function Up(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var kw=ys&&"documentMode"in document&&11>=document.documentMode,ro=null,Bp=null,ru=null,Ip=!1;function pv(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ip||ro==null||ro!==Gd(l)||(l=ro,"selectionStart"in l&&Up(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ru&&au(ru,l)||(ru=l,l=jf(Bp,"onSelect"),0<l.length&&(n=new Kd("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ro)))}function xr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var lo={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Gp={},mv={};ys&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Sr(t){if(Gp[t])return Gp[t];if(!lo[t])return t;var n=lo[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in mv)return Gp[t]=n[a];return t}var bv=Sr("animationend"),yv=Sr("animationiteration"),vv=Sr("animationstart"),Pw=Sr("transitionrun"),jw=Sr("transitionstart"),zw=Sr("transitioncancel"),Av=Sr("transitionend"),_v=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qp.push("scrollEnd");function wn(t,n){_v.set(t,n),Ar(n,[t])}var xv=new WeakMap;function on(t,n){if(typeof t=="object"&&t!==null){var a=xv.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Hy(n)},xv.set(t,n),n)}return{value:t,source:n,stack:Hy(n)}}var cn=[],oo=0,Vp=0;function Wd(){for(var t=oo,n=Vp=oo=0;n<t;){var a=cn[n];cn[n++]=null;var l=cn[n];cn[n++]=null;var d=cn[n];cn[n++]=null;var m=cn[n];if(cn[n++]=null,l!==null&&d!==null){var A=l.pending;A===null?d.next=d:(d.next=A.next,A.next=d),l.pending=d}m!==0&&Sv(a,d,m)}}function Zd(t,n,a,l){cn[oo++]=t,cn[oo++]=n,cn[oo++]=a,cn[oo++]=l,Vp|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xp(t,n,a,l){return Zd(t,n,a,l),Jd(t)}function co(t,n){return Zd(t,null,null,n),Jd(t)}function Sv(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&n!==null&&(d=31-Ie(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[n]:l.push(n),n.lane=a|536870912),m):null}function Jd(t){if(50<Lu)throw Lu=0,Zm=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var uo={};function Hw(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(t,n,a,l){return new Hw(t,n,a,l)}function Yp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vs(t,n){var a=t.alternate;return a===null?(a=Bi(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ev(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function tf(t,n,a,l,d,m){var A=0;if(l=t,typeof t=="function")Yp(t)&&(A=1);else if(typeof t=="string")A=UT(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case et:return t=Bi(31,a,n,d),t.elementType=et,t.lanes=m,t;case E:return Er(a.children,d,m,n);case C:A=8,d|=24;break;case L:return t=Bi(12,a,n,d|2),t.elementType=L,t.lanes=m,t;case I:return t=Bi(13,a,n,d),t.elementType=I,t.lanes=m,t;case H:return t=Bi(19,a,n,d),t.elementType=H,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case j:A=10;break t;case P:A=9;break t;case z:A=11;break t;case X:A=14;break t;case W:A=16,l=null;break t}A=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Bi(A,a,n,d),n.elementType=t,n.type=l,n.lanes=m,n}function Er(t,n,a,l){return t=Bi(7,t,l,n),t.lanes=a,t}function Kp(t,n,a){return t=Bi(6,t,null,n),t.lanes=a,t}function $p(t,n,a){return n=Bi(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ho=[],fo=0,ef=null,nf=0,un=[],hn=0,wr=null,As=1,_s="";function Tr(t,n){ho[fo++]=nf,ho[fo++]=ef,ef=t,nf=n}function wv(t,n,a){un[hn++]=As,un[hn++]=_s,un[hn++]=wr,wr=t;var l=As;t=_s;var d=32-Ie(l)-1;l&=~(1<<d),a+=1;var m=32-Ie(n)+d;if(30<m){var A=d-d%5;m=(l&(1<<A)-1).toString(32),l>>=A,d-=A,As=1<<32-Ie(n)+d|a<<d|l,_s=m+t}else As=1<<m|a<<d|l,_s=t}function Qp(t){t.return!==null&&(Tr(t,1),wv(t,1,0))}function Wp(t){for(;t===ef;)ef=ho[--fo],ho[fo]=null,nf=ho[--fo],ho[fo]=null;for(;t===wr;)wr=un[--hn],un[hn]=null,_s=un[--hn],un[hn]=null,As=un[--hn],un[hn]=null}var vi=null,be=null,It=!1,Cr=null,Vn=!1,Zp=Error(s(519));function Rr(t){var n=Error(s(418,""));throw cu(on(n,t)),Zp}function Tv(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[oi]=t,n[Ci]=l,a){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(a=0;a<Ou.length;a++)jt(Ou[a],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),By(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Id(n);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),Gy(n,l.value,l.defaultValue,l.children),Id(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||G1(n.textContent,a)?(l.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),l.onScroll!=null&&jt("scroll",n),l.onScrollEnd!=null&&jt("scrollend",n),l.onClick!=null&&(n.onclick=zf),n=!0):n=!1,n||Rr(t)}function Cv(t){for(vi=t.return;vi;)switch(vi.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:vi=vi.return}}function lu(t){if(t!==vi)return!1;if(!It)return Cv(t),It=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||g0(t.type,t.memoizedProps)),a=!a),a&&be&&Rr(t),Cv(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){be=Cn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}be=null}}else n===27?(n=be,Da(t.type)?(t=y0,y0=null,be=t):be=n):be=vi?Cn(t.stateNode.nextSibling):null;return!0}function ou(){be=vi=null,It=!1}function Rv(){var t=Cr;return t!==null&&(Li===null?Li=t:Li.push.apply(Li,t),Cr=null),t}function cu(t){Cr===null?Cr=[t]:Cr.push(t)}var Jp=K(null),Mr=null,xs=null;function pa(t,n,a){J(Jp,n._currentValue),n._currentValue=a}function Ss(t){t._currentValue=Jp.current,tt(Jp)}function tm(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function em(t,n,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var A=d.child;m=m.firstContext;t:for(;m!==null;){var w=m;m=d;for(var D=0;D<n.length;D++)if(w.context===n[D]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),tm(m.return,a,t),l||(A=null);break t}m=w.next}}else if(d.tag===18){if(A=d.return,A===null)throw Error(s(341));A.lanes|=a,m=A.alternate,m!==null&&(m.lanes|=a),tm(A,a,t),A=null}else A=d.child;if(A!==null)A.return=d;else for(A=d;A!==null;){if(A===t){A=null;break}if(d=A.sibling,d!==null){d.return=A.return,A=d;break}A=A.return}d=A}}function uu(t,n,a,l){t=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var A=d.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var w=d.type;Ui(d.pendingProps.value,A.value)||(t!==null?t.push(w):t=[w])}}else if(d===wt.current){if(A=d.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Fu):t=[Fu])}d=d.return}t!==null&&em(n,t,a,l),n.flags|=262144}function sf(t){for(t=t.firstContext;t!==null;){if(!Ui(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Mr=t,xs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ci(t){return Mv(Mr,t)}function af(t,n){return Mr===null&&Dr(t),Mv(t,n)}function Mv(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},xs===null){if(t===null)throw Error(s(308));xs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else xs=xs.next=n;return a}var Fw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Uw=p.unstable_scheduleCallback,Bw=p.unstable_NormalPriority,Oe={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new Fw,data:new Map,refCount:0}}function hu(t){t.refCount--,t.refCount===0&&Uw(Bw,function(){t.controller.abort()})}var du=null,nm=0,go=0,po=null;function Iw(t,n){if(du===null){var a=du=[];nm=0,go=a0(),po={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nm++,n.then(Dv,Dv),n}function Dv(){if(--nm===0&&du!==null){po!==null&&(po.status="fulfilled");var t=du;du=null,go=0,po=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Gw(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Lv=U.S;U.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Iw(t,n),Lv!==null&&Lv(t,n)};var Lr=K(null);function sm(){var t=Lr.current;return t!==null?t:ae.pooledCache}function rf(t,n){n===null?J(Lr,Lr.current):J(Lr,n.pool)}function Nv(){var t=sm();return t===null?null:{parent:Oe._currentValue,pool:t}}var fu=Error(s(460)),Ov=Error(s(474)),lf=Error(s(542)),am={then:function(){}};function kv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function of(){}function Pv(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(of,of),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,zv(t),t;default:if(typeof n.status=="string")n.then(of,of);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,zv(t),t}throw gu=n,fu}}var gu=null;function jv(){if(gu===null)throw Error(s(459));var t=gu;return gu=null,t}function zv(t){if(t===fu||t===lf)throw Error(s(483))}var ma=!1;function rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ba(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ya(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=Jd(t),Sv(t,null,a),n}return Zd(t,l,n,a),Jd(t)}function pu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Dy(t,a)}}function om(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=A:m=m.next=A,a=a.next}while(a!==null);m===null?d=m=n:m=m.next=n}else d=m=n;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var cm=!1;function mu(){if(cm){var t=po;if(t!==null)throw t}}function bu(t,n,a,l){cm=!1;var d=t.updateQueue;ma=!1;var m=d.firstBaseUpdate,A=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var D=w,B=D.next;D.next=null,A===null?m=B:A.next=B,A=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==A&&(w===null?Y.firstBaseUpdate=B:w.next=B,Y.lastBaseUpdate=D))}if(m!==null){var Q=d.baseState;A=0,Y=B=D=null,w=m;do{var G=w.lane&-536870913,q=G!==w.lane;if(q?(Ut&G)===G:(l&G)===G){G!==0&&G===go&&(cm=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var At=t,yt=w;G=n;var te=a;switch(yt.tag){case 1:if(At=yt.payload,typeof At=="function"){Q=At.call(te,Q,G);break t}Q=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=yt.payload,G=typeof At=="function"?At.call(te,Q,G):At,G==null)break t;Q=b({},Q,G);break t;case 2:ma=!0}}G=w.callback,G!==null&&(t.flags|=64,q&&(t.flags|=8192),q=d.callbacks,q===null?d.callbacks=[G]:q.push(G))}else q={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(B=Y=q,D=Q):Y=Y.next=q,A|=G;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;q=w,w=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);Y===null&&(D=Q),d.baseState=D,d.firstBaseUpdate=B,d.lastBaseUpdate=Y,m===null&&(d.shared.lanes=0),Ta|=A,t.lanes=A,t.memoizedState=Q}}function Hv(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Fv(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hv(a[t],n)}var mo=K(null),cf=K(0);function Uv(t,n){t=Ds,J(cf,t),J(mo,n),Ds=t|n.baseLanes}function um(){J(cf,Ds),J(mo,mo.current)}function hm(){Ds=cf.current,tt(mo),tt(cf)}var va=0,Lt=null,Zt=null,Re=null,uf=!1,bo=!1,Nr=!1,hf=0,yu=0,yo=null,qw=0;function _e(){throw Error(s(321))}function dm(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ui(t[a],n[a]))return!1;return!0}function fm(t,n,a,l,d,m){return va=m,Lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?SA:EA,Nr=!1,m=a(l,d),Nr=!1,bo&&(m=Iv(n,a,l,d)),Bv(t),m}function Bv(t){U.H=bf;var n=Zt!==null&&Zt.next!==null;if(va=0,Re=Zt=Lt=null,uf=!1,yu=0,yo=null,n)throw Error(s(300));t===null||qe||(t=t.dependencies,t!==null&&sf(t)&&(qe=!0))}function Iv(t,n,a,l){Lt=t;var d=0;do{if(bo&&(yo=null),yu=0,bo=!1,25<=d)throw Error(s(301));if(d+=1,Re=Zt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=Ww,m=n(a,l)}while(bo);return m}function Vw(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?vu(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Lt.flags|=1024),n}function gm(){var t=hf!==0;return hf=0,t}function pm(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mm(t){if(uf){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}uf=!1}va=0,Re=Zt=Lt=null,bo=!1,yu=hf=0,yo=null}function Mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Lt.memoizedState=Re=t:Re=Re.next=t,Re}function Me(){if(Zt===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Re===null?Lt.memoizedState:Re.next;if(n!==null)Re=n,Zt=t;else{if(t===null)throw Lt.alternate===null?Error(s(467)):Error(s(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Re===null?Lt.memoizedState=Re=t:Re=Re.next=t}return Re}function bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(t){var n=yu;return yu+=1,yo===null&&(yo=[]),t=Pv(yo,t,n),n=Lt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?SA:EA),t}function df(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vu(t);if(t.$$typeof===j)return ci(t)}throw Error(s(438,String(t)))}function ym(t){var n=null,a=Lt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=bm(),Lt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=lt;return n.index++,a}function Es(t,n){return typeof n=="function"?n(t):n}function ff(t){var n=Me();return vm(n,Zt,t)}function vm(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var A=d.next;d.next=m.next,m.next=A}n.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{n=d.next;var w=A=null,D=null,B=n,Y=!1;do{var Q=B.lane&-536870913;if(Q!==B.lane?(Ut&Q)===Q:(va&Q)===Q){var G=B.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Q===go&&(Y=!0);else if((va&G)===G){B=B.next,G===go&&(Y=!0);continue}else Q={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=Q,A=m):D=D.next=Q,Lt.lanes|=G,Ta|=G;Q=B.action,Nr&&a(m,Q),m=B.hasEagerState?B.eagerState:a(m,Q)}else G={lane:Q,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=G,A=m):D=D.next=G,Lt.lanes|=Q,Ta|=Q;B=B.next}while(B!==null&&B!==n);if(D===null?A=m:D.next=w,!Ui(m,t.memoizedState)&&(qe=!0,Y&&(a=po,a!==null)))throw a;t.memoizedState=m,t.baseState=A,t.baseQueue=D,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Am(t){var n=Me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=n.memoizedState;if(d!==null){a.pending=null;var A=d=d.next;do m=t(m,A.action),A=A.next;while(A!==d);Ui(m,n.memoizedState)||(qe=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,l]}function Gv(t,n,a){var l=Lt,d=Me(),m=It;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var A=!Ui((Zt||d).memoizedState,a);A&&(d.memoizedState=a,qe=!0),d=d.queue;var w=Xv.bind(null,l,d,t);if(Au(2048,8,w,[t]),d.getSnapshot!==n||A||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,vo(9,gf(),Vv.bind(null,l,d,a,n),null),ae===null)throw Error(s(349));m||(va&124)!==0||qv(l,n,a)}return a}function qv(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Lt.updateQueue,n===null?(n=bm(),Lt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Vv(t,n,a,l){n.value=a,n.getSnapshot=l,Yv(n)&&Kv(t)}function Xv(t,n,a){return a(function(){Yv(n)&&Kv(t)})}function Yv(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ui(t,a)}catch{return!0}}function Kv(t){var n=co(t,2);n!==null&&Xi(n,t,2)}function _m(t){var n=Mi();if(typeof t=="function"){var a=t;if(t=a(),Nr){Fi(!0);try{a()}finally{Fi(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},n}function $v(t,n,a,l){return t.baseState=a,vm(t,Zt,typeof l=="function"?l:Es)}function Xw(t,n,a,l,d){if(mf(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){m.listeners.push(A)}};U.T!==null?a(!0):m.isTransition=!1,l(m),a=n.pending,a===null?(m.next=n.pending=m,Qv(n,m)):(m.next=a.next,n.pending=a.next=m)}}function Qv(t,n){var a=n.action,l=n.payload,d=t.state;if(n.isTransition){var m=U.T,A={};U.T=A;try{var w=a(d,l),D=U.S;D!==null&&D(A,w),Wv(t,n,w)}catch(B){xm(t,n,B)}finally{U.T=m}}else try{m=a(d,l),Wv(t,n,m)}catch(B){xm(t,n,B)}}function Wv(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zv(t,n,l)},function(l){return xm(t,n,l)}):Zv(t,n,a)}function Zv(t,n,a){n.status="fulfilled",n.value=a,Jv(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Qv(t,a)))}function xm(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Jv(n),n=n.next;while(n!==l)}t.action=null}function Jv(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function tA(t,n){return n}function eA(t,n){if(It){var a=ae.formState;if(a!==null){t:{var l=Lt;if(It){if(be){e:{for(var d=be,m=Vn;d.nodeType!==8;){if(!m){d=null;break e}if(d=Cn(d.nextSibling),d===null){d=null;break e}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){be=Cn(d.nextSibling),l=d.data==="F!";break t}}Rr(l)}l=!1}l&&(n=a[0])}}return a=Mi(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tA,lastRenderedState:n},a.queue=l,a=AA.bind(null,Lt,l),l.dispatch=a,l=_m(!1),m=Cm.bind(null,Lt,!1,l.queue),l=Mi(),d={state:n,dispatch:null,action:t,pending:null},l.queue=d,a=Xw.bind(null,Lt,d,m,a),d.dispatch=a,l.memoizedState=t,[n,a,!1]}function iA(t){var n=Me();return nA(n,Zt,t)}function nA(t,n,a){if(n=vm(t,n,tA)[0],t=ff(Es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=vu(n)}catch(A){throw A===fu?lf:A}else l=n;n=Me();var d=n.queue,m=d.dispatch;return a!==n.memoizedState&&(Lt.flags|=2048,vo(9,gf(),Yw.bind(null,d,a),null)),[l,m,t]}function Yw(t,n){t.action=n}function sA(t){var n=Me(),a=Zt;if(a!==null)return nA(n,a,t);Me(),n=n.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function vo(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Lt.updateQueue,n===null&&(n=bm(),Lt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function gf(){return{destroy:void 0,resource:void 0}}function aA(){return Me().memoizedState}function pf(t,n,a,l){var d=Mi();l=l===void 0?null:l,Lt.flags|=t,d.memoizedState=vo(1|n,gf(),a,l)}function Au(t,n,a,l){var d=Me();l=l===void 0?null:l;var m=d.memoizedState.inst;Zt!==null&&l!==null&&dm(l,Zt.memoizedState.deps)?d.memoizedState=vo(n,m,a,l):(Lt.flags|=t,d.memoizedState=vo(1|n,m,a,l))}function rA(t,n){pf(8390656,8,t,n)}function lA(t,n){Au(2048,8,t,n)}function oA(t,n){return Au(4,2,t,n)}function cA(t,n){return Au(4,4,t,n)}function uA(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function hA(t,n,a){a=a!=null?a.concat([t]):null,Au(4,4,uA.bind(null,n,t),a)}function Sm(){}function dA(t,n){var a=Me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&dm(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function fA(t,n){var a=Me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&dm(n,l[1]))return l[0];if(l=t(),Nr){Fi(!0);try{t()}finally{Fi(!1)}}return a.memoizedState=[l,n],l}function Em(t,n,a){return a===void 0||(va&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=m1(),Lt.lanes|=t,Ta|=t,a)}function gA(t,n,a,l){return Ui(a,n)?a:mo.current!==null?(t=Em(t,a,l),Ui(t,n)||(qe=!0),t):(va&42)===0?(qe=!0,t.memoizedState=a):(t=m1(),Lt.lanes|=t,Ta|=t,n)}function pA(t,n,a,l,d){var m=V.p;V.p=m!==0&&8>m?m:8;var A=U.T,w={};U.T=w,Cm(t,!1,n,a);try{var D=d(),B=U.S;if(B!==null&&B(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=Gw(D,l);_u(t,n,Y,Vi(t))}else _u(t,n,l,Vi(t))}catch(Q){_u(t,n,{then:function(){},status:"rejected",reason:Q},Vi())}finally{V.p=m,U.T=A}}function Kw(){}function wm(t,n,a,l){if(t.tag!==5)throw Error(s(476));var d=mA(t).queue;pA(t,d,n,Z,a===null?Kw:function(){return bA(t),a(l)})}function mA(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:Z},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bA(t){var n=mA(t).next.queue;_u(t,n,{},Vi())}function Tm(){return ci(Fu)}function yA(){return Me().memoizedState}function vA(){return Me().memoizedState}function $w(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Vi();t=ba(a);var l=ya(n,t,a);l!==null&&(Xi(l,n,a),pu(l,n,a)),n={cache:im()},t.payload=n;return}n=n.return}}function Qw(t,n,a){var l=Vi();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mf(t)?_A(n,a):(a=Xp(t,n,a,l),a!==null&&(Xi(a,t,l),xA(a,n,l)))}function AA(t,n,a){var l=Vi();_u(t,n,a,l)}function _u(t,n,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mf(t))_A(n,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var A=n.lastRenderedState,w=m(A,a);if(d.hasEagerState=!0,d.eagerState=w,Ui(w,A))return Zd(t,n,d,0),ae===null&&Wd(),!1}catch{}finally{}if(a=Xp(t,n,d,l),a!==null)return Xi(a,t,l),xA(a,n,l),!0}return!1}function Cm(t,n,a,l){if(l={lane:2,revertLane:a0(),action:l,hasEagerState:!1,eagerState:null,next:null},mf(t)){if(n)throw Error(s(479))}else n=Xp(t,a,l,2),n!==null&&Xi(n,t,2)}function mf(t){var n=t.alternate;return t===Lt||n!==null&&n===Lt}function _A(t,n){bo=uf=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function xA(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Dy(t,a)}}var bf={readContext:ci,use:df,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},SA={readContext:ci,use:df,useCallback:function(t,n){return Mi().memoizedState=[t,n===void 0?null:n],t},useContext:ci,useEffect:rA,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,pf(4194308,4,uA.bind(null,n,t),a)},useLayoutEffect:function(t,n){return pf(4194308,4,t,n)},useInsertionEffect:function(t,n){pf(4,2,t,n)},useMemo:function(t,n){var a=Mi();n=n===void 0?null:n;var l=t();if(Nr){Fi(!0);try{t()}finally{Fi(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Mi();if(a!==void 0){var d=a(n);if(Nr){Fi(!0);try{a(n)}finally{Fi(!1)}}}else d=n;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Qw.bind(null,Lt,t),[l.memoizedState,t]},useRef:function(t){var n=Mi();return t={current:t},n.memoizedState=t},useState:function(t){t=_m(t);var n=t.queue,a=AA.bind(null,Lt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Sm,useDeferredValue:function(t,n){var a=Mi();return Em(a,t,n)},useTransition:function(){var t=_m(!1);return t=pA.bind(null,Lt,t.queue,!0,!1),Mi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Lt,d=Mi();if(It){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ae===null)throw Error(s(349));(Ut&124)!==0||qv(l,n,a)}d.memoizedState=a;var m={value:a,getSnapshot:n};return d.queue=m,rA(Xv.bind(null,l,m,t),[t]),l.flags|=2048,vo(9,gf(),Vv.bind(null,l,m,a,n),null),a},useId:function(){var t=Mi(),n=ae.identifierPrefix;if(It){var a=_s,l=As;a=(l&~(1<<32-Ie(l)-1)).toString(32)+a,n=""+n+"R"+a,a=hf++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=qw++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Tm,useFormState:eA,useActionState:eA,useOptimistic:function(t){var n=Mi();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Cm.bind(null,Lt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ym,useCacheRefresh:function(){return Mi().memoizedState=$w.bind(null,Lt)}},EA={readContext:ci,use:df,useCallback:dA,useContext:ci,useEffect:lA,useImperativeHandle:hA,useInsertionEffect:oA,useLayoutEffect:cA,useMemo:fA,useReducer:ff,useRef:aA,useState:function(){return ff(Es)},useDebugValue:Sm,useDeferredValue:function(t,n){var a=Me();return gA(a,Zt.memoizedState,t,n)},useTransition:function(){var t=ff(Es)[0],n=Me().memoizedState;return[typeof t=="boolean"?t:vu(t),n]},useSyncExternalStore:Gv,useId:yA,useHostTransitionStatus:Tm,useFormState:iA,useActionState:iA,useOptimistic:function(t,n){var a=Me();return $v(a,Zt,t,n)},useMemoCache:ym,useCacheRefresh:vA},Ww={readContext:ci,use:df,useCallback:dA,useContext:ci,useEffect:lA,useImperativeHandle:hA,useInsertionEffect:oA,useLayoutEffect:cA,useMemo:fA,useReducer:Am,useRef:aA,useState:function(){return Am(Es)},useDebugValue:Sm,useDeferredValue:function(t,n){var a=Me();return Zt===null?Em(a,t,n):gA(a,Zt.memoizedState,t,n)},useTransition:function(){var t=Am(Es)[0],n=Me().memoizedState;return[typeof t=="boolean"?t:vu(t),n]},useSyncExternalStore:Gv,useId:yA,useHostTransitionStatus:Tm,useFormState:sA,useActionState:sA,useOptimistic:function(t,n){var a=Me();return Zt!==null?$v(a,Zt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ym,useCacheRefresh:vA},Ao=null,xu=0;function yf(t){var n=xu;return xu+=1,Ao===null&&(Ao=[]),Pv(Ao,t,n)}function Su(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function vf(t,n){throw n.$$typeof===y?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function wA(t){var n=t._init;return n(t._payload)}function TA(t){function n(k,O){if(t){var F=k.deletions;F===null?(k.deletions=[O],k.flags|=16):F.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function d(k,O){return k=vs(k,O),k.index=0,k.sibling=null,k}function m(k,O,F){return k.index=F,t?(F=k.alternate,F!==null?(F=F.index,F<O?(k.flags|=67108866,O):F):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function A(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function w(k,O,F,$){return O===null||O.tag!==6?(O=Kp(F,k.mode,$),O.return=k,O):(O=d(O,F),O.return=k,O)}function D(k,O,F,$){var ut=F.type;return ut===E?Y(k,O,F.props.children,$,F.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===W&&wA(ut)===O.type)?(O=d(O,F.props),Su(O,F),O.return=k,O):(O=tf(F.type,F.key,F.props,null,k.mode,$),Su(O,F),O.return=k,O)}function B(k,O,F,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=$p(F,k.mode,$),O.return=k,O):(O=d(O,F.children||[]),O.return=k,O)}function Y(k,O,F,$,ut){return O===null||O.tag!==7?(O=Er(F,k.mode,$,ut),O.return=k,O):(O=d(O,F),O.return=k,O)}function Q(k,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Kp(""+O,k.mode,F),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return F=tf(O.type,O.key,O.props,null,k.mode,F),Su(F,O),F.return=k,F;case _:return O=$p(O,k.mode,F),O.return=k,O;case W:var $=O._init;return O=$(O._payload),Q(k,O,F)}if(ht(O)||pt(O))return O=Er(O,k.mode,F,null),O.return=k,O;if(typeof O.then=="function")return Q(k,yf(O),F);if(O.$$typeof===j)return Q(k,af(k,O),F);vf(k,O)}return null}function G(k,O,F,$){var ut=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ut!==null?null:w(k,O,""+F,$);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return F.key===ut?D(k,O,F,$):null;case _:return F.key===ut?B(k,O,F,$):null;case W:return ut=F._init,F=ut(F._payload),G(k,O,F,$)}if(ht(F)||pt(F))return ut!==null?null:Y(k,O,F,$,null);if(typeof F.then=="function")return G(k,O,yf(F),$);if(F.$$typeof===j)return G(k,O,af(k,F),$);vf(k,F)}return null}function q(k,O,F,$,ut){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(F)||null,w(O,k,""+$,ut);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return k=k.get($.key===null?F:$.key)||null,D(O,k,$,ut);case _:return k=k.get($.key===null?F:$.key)||null,B(O,k,$,ut);case W:var Ot=$._init;return $=Ot($._payload),q(k,O,F,$,ut)}if(ht($)||pt($))return k=k.get(F)||null,Y(O,k,$,ut,null);if(typeof $.then=="function")return q(k,O,F,yf($),ut);if($.$$typeof===j)return q(k,O,F,af(O,$),ut);vf(O,$)}return null}function At(k,O,F,$){for(var ut=null,Ot=null,gt=O,vt=O=0,Xe=null;gt!==null&&vt<F.length;vt++){gt.index>vt?(Xe=gt,gt=null):Xe=gt.sibling;var Bt=G(k,gt,F[vt],$);if(Bt===null){gt===null&&(gt=Xe);break}t&&gt&&Bt.alternate===null&&n(k,gt),O=m(Bt,O,vt),Ot===null?ut=Bt:Ot.sibling=Bt,Ot=Bt,gt=Xe}if(vt===F.length)return a(k,gt),It&&Tr(k,vt),ut;if(gt===null){for(;vt<F.length;vt++)gt=Q(k,F[vt],$),gt!==null&&(O=m(gt,O,vt),Ot===null?ut=gt:Ot.sibling=gt,Ot=gt);return It&&Tr(k,vt),ut}for(gt=l(gt);vt<F.length;vt++)Xe=q(gt,k,vt,F[vt],$),Xe!==null&&(t&&Xe.alternate!==null&&gt.delete(Xe.key===null?vt:Xe.key),O=m(Xe,O,vt),Ot===null?ut=Xe:Ot.sibling=Xe,Ot=Xe);return t&&gt.forEach(function(Pa){return n(k,Pa)}),It&&Tr(k,vt),ut}function yt(k,O,F,$){if(F==null)throw Error(s(151));for(var ut=null,Ot=null,gt=O,vt=O=0,Xe=null,Bt=F.next();gt!==null&&!Bt.done;vt++,Bt=F.next()){gt.index>vt?(Xe=gt,gt=null):Xe=gt.sibling;var Pa=G(k,gt,Bt.value,$);if(Pa===null){gt===null&&(gt=Xe);break}t&&gt&&Pa.alternate===null&&n(k,gt),O=m(Pa,O,vt),Ot===null?ut=Pa:Ot.sibling=Pa,Ot=Pa,gt=Xe}if(Bt.done)return a(k,gt),It&&Tr(k,vt),ut;if(gt===null){for(;!Bt.done;vt++,Bt=F.next())Bt=Q(k,Bt.value,$),Bt!==null&&(O=m(Bt,O,vt),Ot===null?ut=Bt:Ot.sibling=Bt,Ot=Bt);return It&&Tr(k,vt),ut}for(gt=l(gt);!Bt.done;vt++,Bt=F.next())Bt=q(gt,k,vt,Bt.value,$),Bt!==null&&(t&&Bt.alternate!==null&&gt.delete(Bt.key===null?vt:Bt.key),O=m(Bt,O,vt),Ot===null?ut=Bt:Ot.sibling=Bt,Ot=Bt);return t&&gt.forEach(function(ZT){return n(k,ZT)}),It&&Tr(k,vt),ut}function te(k,O,F,$){if(typeof F=="object"&&F!==null&&F.type===E&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case v:t:{for(var ut=F.key;O!==null;){if(O.key===ut){if(ut=F.type,ut===E){if(O.tag===7){a(k,O.sibling),$=d(O,F.props.children),$.return=k,k=$;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===W&&wA(ut)===O.type){a(k,O.sibling),$=d(O,F.props),Su($,F),$.return=k,k=$;break t}a(k,O);break}else n(k,O);O=O.sibling}F.type===E?($=Er(F.props.children,k.mode,$,F.key),$.return=k,k=$):($=tf(F.type,F.key,F.props,null,k.mode,$),Su($,F),$.return=k,k=$)}return A(k);case _:t:{for(ut=F.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){a(k,O.sibling),$=d(O,F.children||[]),$.return=k,k=$;break t}else{a(k,O);break}else n(k,O);O=O.sibling}$=$p(F,k.mode,$),$.return=k,k=$}return A(k);case W:return ut=F._init,F=ut(F._payload),te(k,O,F,$)}if(ht(F))return At(k,O,F,$);if(pt(F)){if(ut=pt(F),typeof ut!="function")throw Error(s(150));return F=ut.call(F),yt(k,O,F,$)}if(typeof F.then=="function")return te(k,O,yf(F),$);if(F.$$typeof===j)return te(k,O,af(k,F),$);vf(k,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(a(k,O.sibling),$=d(O,F),$.return=k,k=$):(a(k,O),$=Kp(F,k.mode,$),$.return=k,k=$),A(k)):a(k,O)}return function(k,O,F,$){try{xu=0;var ut=te(k,O,F,$);return Ao=null,ut}catch(gt){if(gt===fu||gt===lf)throw gt;var Ot=Bi(29,gt,null,k.mode);return Ot.lanes=$,Ot.return=k,Ot}finally{}}}var _o=TA(!0),CA=TA(!1),dn=K(null),Xn=null;function Aa(t){var n=t.alternate;J(ke,ke.current&1),J(dn,t),Xn===null&&(n===null||mo.current!==null||n.memoizedState!==null)&&(Xn=t)}function RA(t){if(t.tag===22){if(J(ke,ke.current),J(dn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else _a()}function _a(){J(ke,ke.current),J(dn,dn.current)}function ws(t){tt(dn),Xn===t&&(Xn=null),tt(ke)}var ke=K(0);function Af(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||b0(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Rm(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mm={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Vi(),d=ba(l);d.payload=n,a!=null&&(d.callback=a),n=ya(t,d,l),n!==null&&(Xi(n,t,l),pu(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Vi(),d=ba(l);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=ya(t,d,l),n!==null&&(Xi(n,t,l),pu(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Vi(),l=ba(a);l.tag=2,n!=null&&(l.callback=n),n=ya(t,l,a),n!==null&&(Xi(n,t,a),pu(n,t,a))}};function MA(t,n,a,l,d,m,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,A):n.prototype&&n.prototype.isPureReactComponent?!au(a,l)||!au(d,m):!0}function DA(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Mm.enqueueReplaceState(n,n.state,null)}function Or(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var _f=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function LA(t){_f(t)}function NA(t){console.error(t)}function OA(t){_f(t)}function xf(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function kA(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Dm(t,n,a){return a=ba(a),a.tag=3,a.payload={element:null},a.callback=function(){xf(t,n)},a}function PA(t){return t=ba(t),t.tag=3,t}function jA(t,n,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){kA(n,a,l)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){kA(n,a,l),typeof d!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Zw(t,n,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&uu(n,a,d,!0),a=dn.current,a!==null){switch(a.tag){case 13:return Xn===null?t0():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===am?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),i0(t,l,d)),!1;case 22:return a.flags|=65536,l===am?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),i0(t,l,d)),!1}throw Error(s(435,a.tag))}return i0(t,l,d),t0(),!1}if(It)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==Zp&&(t=Error(s(422),{cause:l}),cu(on(t,a)))):(l!==Zp&&(n=Error(s(423),{cause:l}),cu(on(n,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=on(l,a),d=Dm(t.stateNode,l,d),om(t,d),ye!==4&&(ye=2)),!1;var m=Error(s(520),{cause:l});if(m=on(m,a),Du===null?Du=[m]:Du.push(m),ye!==4&&(ye=2),n===null)return!0;l=on(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Dm(a.stateNode,l,t),om(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ca===null||!Ca.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=PA(d),jA(d,t,a,l),om(a,d),!1}a=a.return}while(a!==null);return!1}var zA=Error(s(461)),qe=!1;function ti(t,n,a,l){n.child=t===null?CA(n,null,a,l):_o(n,t.child,a,l)}function HA(t,n,a,l,d){a=a.render;var m=n.ref;if("ref"in l){var A={};for(var w in l)w!=="ref"&&(A[w]=l[w])}else A=l;return Dr(n),l=fm(t,n,a,A,m,d),w=gm(),t!==null&&!qe?(pm(t,n,d),Ts(t,n,d)):(It&&w&&Qp(n),n.flags|=1,ti(t,n,l,d),n.child)}function FA(t,n,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!Yp(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,UA(t,n,m,l,d)):(t=tf(a.type,null,l,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Hm(t,d)){var A=m.memoizedProps;if(a=a.compare,a=a!==null?a:au,a(A,l)&&t.ref===n.ref)return Ts(t,n,d)}return n.flags|=1,t=vs(m,l),t.ref=n.ref,t.return=n,n.child=t}function UA(t,n,a,l,d){if(t!==null){var m=t.memoizedProps;if(au(m,l)&&t.ref===n.ref)if(qe=!1,n.pendingProps=l=m,Hm(t,d))(t.flags&131072)!==0&&(qe=!0);else return n.lanes=t.lanes,Ts(t,n,d)}return Lm(t,n,a,l,d)}function BA(t,n,a){var l=n.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=n.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;n.childLanes=m&~l}else n.childLanes=0,n.child=null;return IA(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&rf(n,m!==null?m.cachePool:null),m!==null?Uv(n,m):um(),RA(n);else return n.lanes=n.childLanes=536870912,IA(t,n,m!==null?m.baseLanes|a:a,a)}else m!==null?(rf(n,m.cachePool),Uv(n,m),_a(),n.memoizedState=null):(t!==null&&rf(n,null),um(),_a());return ti(t,n,d,a),n.child}function IA(t,n,a,l){var d=sm();return d=d===null?null:{parent:Oe._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&rf(n,null),um(),RA(n),t!==null&&uu(t,n,l,!0),null}function Sf(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Lm(t,n,a,l,d){return Dr(n),a=fm(t,n,a,l,void 0,d),l=gm(),t!==null&&!qe?(pm(t,n,d),Ts(t,n,d)):(It&&l&&Qp(n),n.flags|=1,ti(t,n,a,d),n.child)}function GA(t,n,a,l,d,m){return Dr(n),n.updateQueue=null,a=Iv(n,l,a,d),Bv(t),l=gm(),t!==null&&!qe?(pm(t,n,m),Ts(t,n,m)):(It&&l&&Qp(n),n.flags|=1,ti(t,n,a,m),n.child)}function qA(t,n,a,l,d){if(Dr(n),n.stateNode===null){var m=uo,A=a.contextType;typeof A=="object"&&A!==null&&(m=ci(A)),m=new a(l,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Mm,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=l,m.state=n.memoizedState,m.refs={},rm(n),A=a.contextType,m.context=typeof A=="object"&&A!==null?ci(A):uo,m.state=n.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Rm(n,a,A,l),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(A=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),A!==m.state&&Mm.enqueueReplaceState(m,m.state,null),bu(n,l,m,d),mu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){m=n.stateNode;var w=n.memoizedProps,D=Or(a,w);m.props=D;var B=m.context,Y=a.contextType;A=uo,typeof Y=="object"&&Y!==null&&(A=ci(Y));var Q=a.getDerivedStateFromProps;Y=typeof Q=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||B!==A)&&DA(n,m,l,A),ma=!1;var G=n.memoizedState;m.state=G,bu(n,l,m,d),mu(),B=n.memoizedState,w||G!==B||ma?(typeof Q=="function"&&(Rm(n,a,Q,l),B=n.memoizedState),(D=ma||MA(n,a,D,l,G,B,A))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),m.props=l,m.state=B,m.context=A,l=D):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{m=n.stateNode,lm(t,n),A=n.memoizedProps,Y=Or(a,A),m.props=Y,Q=n.pendingProps,G=m.context,B=a.contextType,D=uo,typeof B=="object"&&B!==null&&(D=ci(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A!==Q||G!==D)&&DA(n,m,l,D),ma=!1,G=n.memoizedState,m.state=G,bu(n,l,m,d),mu();var q=n.memoizedState;A!==Q||G!==q||ma||t!==null&&t.dependencies!==null&&sf(t.dependencies)?(typeof w=="function"&&(Rm(n,a,w,l),q=n.memoizedState),(Y=ma||MA(n,a,Y,l,G,q,D)||t!==null&&t.dependencies!==null&&sf(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,q,D)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||A===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),m.props=l,m.state=q,m.context=D,l=Y):(typeof m.componentDidUpdate!="function"||A===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return m=l,Sf(t,n),l=(n.flags&128)!==0,m||l?(m=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&l?(n.child=_o(n,t.child,null,d),n.child=_o(n,null,a,d)):ti(t,n,a,d),n.memoizedState=m.state,t=n.child):t=Ts(t,n,d),t}function VA(t,n,a,l){return ou(),n.flags|=256,ti(t,n,a,l),n.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(t){return{baseLanes:t,cachePool:Nv()}}function km(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=fn),t}function XA(t,n,a){var l=n.pendingProps,d=!1,m=(n.flags&128)!==0,A;if((A=m)||(A=t!==null&&t.memoizedState===null?!1:(ke.current&2)!==0),A&&(d=!0,n.flags&=-129),A=(n.flags&32)!==0,n.flags&=-33,t===null){if(It){if(d?Aa(n):_a(),It){var w=be,D;if(D=w){t:{for(D=w,w=Vn;D.nodeType!==8;){if(!w){w=null;break t}if(D=Cn(D.nextSibling),D===null){w=null;break t}}w=D}w!==null?(n.memoizedState={dehydrated:w,treeContext:wr!==null?{id:As,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},D=Bi(18,null,null,0),D.stateNode=w,D.return=n,n.child=D,vi=n,be=null,D=!0):D=!1}D||Rr(n)}if(w=n.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return b0(w)?n.lanes=32:n.lanes=536870912,null;ws(n)}return w=l.children,l=l.fallback,d?(_a(),d=n.mode,w=Ef({mode:"hidden",children:w},d),l=Er(l,d,a,null),w.return=n,l.return=n,w.sibling=l,n.child=w,d=n.child,d.memoizedState=Om(a),d.childLanes=km(t,A,a),n.memoizedState=Nm,l):(Aa(n),Pm(n,w))}if(D=t.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(m)n.flags&256?(Aa(n),n.flags&=-257,n=jm(t,n,a)):n.memoizedState!==null?(_a(),n.child=t.child,n.flags|=128,n=null):(_a(),d=l.fallback,w=n.mode,l=Ef({mode:"visible",children:l.children},w),d=Er(d,w,a,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,_o(n,t.child,null,a),l=n.child,l.memoizedState=Om(a),l.childLanes=km(t,A,a),n.memoizedState=Nm,n=d);else if(Aa(n),b0(w)){if(A=w.nextSibling&&w.nextSibling.dataset,A)var B=A.dgst;A=B,l=Error(s(419)),l.stack="",l.digest=A,cu({value:l,source:null,stack:null}),n=jm(t,n,a)}else if(qe||uu(t,n,a,!1),A=(a&t.childLanes)!==0,qe||A){if(A=ae,A!==null&&(l=a&-a,l=(l&42)!==0?1:yp(l),l=(l&(A.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,co(t,l),Xi(A,t,l),zA;w.data==="$?"||t0(),n=jm(t,n,a)}else w.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,be=Cn(w.nextSibling),vi=n,It=!0,Cr=null,Vn=!1,t!==null&&(un[hn++]=As,un[hn++]=_s,un[hn++]=wr,As=t.id,_s=t.overflow,wr=n),n=Pm(n,l.children),n.flags|=4096);return n}return d?(_a(),d=l.fallback,w=n.mode,D=t.child,B=D.sibling,l=vs(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?d=vs(B,d):(d=Er(d,w,a,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,w=t.child.memoizedState,w===null?w=Om(a):(D=w.cachePool,D!==null?(B=Oe._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=Nv(),w={baseLanes:w.baseLanes|a,cachePool:D}),d.memoizedState=w,d.childLanes=km(t,A,a),n.memoizedState=Nm,l):(Aa(n),a=t.child,t=a.sibling,a=vs(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(A=n.deletions,A===null?(n.deletions=[t],n.flags|=16):A.push(t)),n.child=a,n.memoizedState=null,a)}function Pm(t,n){return n=Ef({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ef(t,n){return t=Bi(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function jm(t,n,a){return _o(n,t.child,null,a),t=Pm(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function YA(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),tm(t.return,n,a)}function zm(t,n,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function KA(t,n,a){var l=n.pendingProps,d=l.revealOrder,m=l.tail;if(ti(t,n,l.children,a),l=ke.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YA(t,a,n);else if(t.tag===19)YA(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(ke,l),d){case"forwards":for(a=n.child,d=null;a!==null;)t=a.alternate,t!==null&&Af(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),zm(n,!1,d,a,m);break;case"backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&Af(t)===null){n.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}zm(n,!0,a,null,m);break;case"together":zm(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ts(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ta|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(uu(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=vs(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=vs(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Hm(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&sf(t)))}function Jw(t,n,a){switch(n.tag){case 3:Ht(n,n.stateNode.containerInfo),pa(n,Oe,t.memoizedState.cache),ou();break;case 27:case 5:Wt(n);break;case 4:Ht(n,n.stateNode.containerInfo);break;case 10:pa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Aa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?XA(t,n,a):(Aa(n),t=Ts(t,n,a),t!==null?t.sibling:null);Aa(n);break;case 19:var d=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(uu(t,n,a,!1),l=(a&n.childLanes)!==0),d){if(l)return KA(t,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(ke,ke.current),l)break;return null;case 22:case 23:return n.lanes=0,BA(t,n,a);case 24:pa(n,Oe,t.memoizedState.cache)}return Ts(t,n,a)}function $A(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)qe=!0;else{if(!Hm(t,a)&&(n.flags&128)===0)return qe=!1,Jw(t,n,a);qe=(t.flags&131072)!==0}else qe=!1,It&&(n.flags&1048576)!==0&&wv(n,nf,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")Yp(l)?(t=Or(l,t),n.tag=1,n=qA(null,n,l,t,a)):(n.tag=0,n=Lm(null,n,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===z){n.tag=11,n=HA(null,n,l,t,a);break t}else if(d===X){n.tag=14,n=FA(null,n,l,t,a);break t}}throw n=ft(l)||l,Error(s(306,n,""))}}return n;case 0:return Lm(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,d=Or(l,n.pendingProps),qA(t,n,l,d,a);case 3:t:{if(Ht(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var m=n.memoizedState;d=m.element,lm(t,n),bu(n,l,null,a);var A=n.memoizedState;if(l=A.cache,pa(n,Oe,l),l!==m.cache&&em(n,[Oe],a,!0),mu(),l=A.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:A.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=VA(t,n,l,a);break t}else if(l!==d){d=on(Error(s(424)),n),cu(d),n=VA(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(be=Cn(t.firstChild),vi=n,It=!0,Cr=null,Vn=!0,a=CA(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ou(),l===d){n=Ts(t,n,a);break t}ti(t,n,l,a)}n=n.child}return n;case 26:return Sf(t,n),t===null?(a=J1(n.type,null,n.pendingProps,null))?n.memoizedState=a:It||(a=n.type,t=n.pendingProps,l=Hf(ct.current).createElement(a),l[oi]=n,l[Ci]=t,ii(l,a,t),Ge(l),n.stateNode=l):n.memoizedState=J1(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wt(n),t===null&&It&&(l=n.stateNode=Q1(n.type,n.pendingProps,ct.current),vi=n,Vn=!0,d=be,Da(n.type)?(y0=d,be=Cn(l.firstChild)):be=d),ti(t,n,n.pendingProps.children,a),Sf(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&It&&((d=l=be)&&(l=CT(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,vi=n,be=Cn(l.firstChild),Vn=!1,d=!0):d=!1),d||Rr(n)),Wt(n),d=n.type,m=n.pendingProps,A=t!==null?t.memoizedProps:null,l=m.children,g0(d,m)?l=null:A!==null&&g0(d,A)&&(n.flags|=32),n.memoizedState!==null&&(d=fm(t,n,Vw,null,null,a),Fu._currentValue=d),Sf(t,n),ti(t,n,l,a),n.child;case 6:return t===null&&It&&((t=a=be)&&(a=RT(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,vi=n,be=null,t=!0):t=!1),t||Rr(n)),null;case 13:return XA(t,n,a);case 4:return Ht(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=_o(n,null,l,a):ti(t,n,l,a),n.child;case 11:return HA(t,n,n.type,n.pendingProps,a);case 7:return ti(t,n,n.pendingProps,a),n.child;case 8:return ti(t,n,n.pendingProps.children,a),n.child;case 12:return ti(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,pa(n,n.type,l.value),ti(t,n,l.children,a),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,Dr(n),d=ci(d),l=l(d),n.flags|=1,ti(t,n,l,a),n.child;case 14:return FA(t,n,n.type,n.pendingProps,a);case 15:return UA(t,n,n.type,n.pendingProps,a);case 19:return KA(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Ef(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=vs(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return BA(t,n,a);case 24:return Dr(n),l=ci(Oe),t===null?(d=sm(),d===null&&(d=ae,m=im(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),n.memoizedState={parent:l,cache:d},rm(n),pa(n,Oe,d)):((t.lanes&a)!==0&&(lm(t,n),bu(n,null,null,a),mu()),d=t.memoizedState,m=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),pa(n,Oe,l)):(l=m.cache,pa(n,Oe,l),l!==d.cache&&em(n,[Oe],a,!0))),ti(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Cs(t){t.flags|=4}function QA(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!s_(n)){if(n=dn.current,n!==null&&((Ut&4194048)===Ut?Xn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Xn))throw gu=am,Ov;t.flags|=8192}}function wf(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ry():536870912,t.lanes|=n,wo|=n)}function Eu(t,n){if(!It)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function he(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function tT(t,n,a){var l=n.pendingProps;switch(Wp(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ss(Oe),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(lu(n)?Cs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rv())),he(n),null;case 26:return a=n.memoizedState,t===null?(Cs(n),a!==null?(he(n),QA(n,a)):(he(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Cs(n),he(n),QA(n,a)):(he(n),n.flags&=-16777217):(t.memoizedProps!==l&&Cs(n),he(n),n.flags&=-16777217),null;case 27:qn(n),a=ct.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Cs(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return he(n),null}t=ot.current,lu(n)?Tv(n):(t=Q1(d,l,a),n.stateNode=t,Cs(n))}return he(n),null;case 5:if(qn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Cs(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return he(n),null}if(t=ot.current,lu(n))Tv(n);else{switch(d=Hf(ct.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[oi]=n,t[Ci]=l;t:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;t:switch(ii(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Cs(n)}}return he(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Cs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=ct.current,lu(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,d=vi,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[oi]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||G1(t.nodeValue,a)),t||Rr(n)}else t=Hf(t).createTextNode(l),t[oi]=n,n.stateNode=t}return he(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=lu(n),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[oi]=n}else ou(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),d=!1}else d=Rv(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(ws(n),n):(ws(n),null)}if(ws(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),wf(n,n.updateQueue),he(n),null;case 4:return we(),t===null&&c0(n.stateNode.containerInfo),he(n),null;case 10:return Ss(n.type),he(n),null;case 19:if(tt(ke),d=n.memoizedState,d===null)return he(n),null;if(l=(n.flags&128)!==0,m=d.rendering,m===null)if(l)Eu(d,!1);else{if(ye!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Af(t),m!==null){for(n.flags|=128,Eu(d,!1),t=m.updateQueue,n.updateQueue=t,wf(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Ev(a,t),a=a.sibling;return J(ke,ke.current&1|2),n.child}t=t.sibling}d.tail!==null&&Je()>Rf&&(n.flags|=128,l=!0,Eu(d,!1),n.lanes=4194304)}else{if(!l)if(t=Af(m),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,wf(n,t),Eu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!It)return he(n),null}else 2*Je()-d.renderingStartTime>Rf&&a!==536870912&&(n.flags|=128,l=!0,Eu(d,!1),n.lanes=4194304);d.isBackwards?(m.sibling=n.child,n.child=m):(t=d.last,t!==null?t.sibling=m:n.child=m,d.last=m)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Je(),n.sibling=null,t=ke.current,J(ke,l?t&1|2:t&1),n):(he(n),null);case 22:case 23:return ws(n),hm(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),a=n.updateQueue,a!==null&&wf(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&tt(Lr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ss(Oe),he(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function eT(t,n){switch(Wp(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ss(Oe),we(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return qn(n),null;case 13:if(ws(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ou()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(ke),null;case 4:return we(),null;case 10:return Ss(n.type),null;case 22:case 23:return ws(n),hm(),t!==null&&tt(Lr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ss(Oe),null;case 25:return null;default:return null}}function WA(t,n){switch(Wp(n),n.tag){case 3:Ss(Oe),we();break;case 26:case 27:case 5:qn(n);break;case 4:we();break;case 13:ws(n);break;case 19:tt(ke);break;case 10:Ss(n.type);break;case 22:case 23:ws(n),hm(),t!==null&&tt(Lr);break;case 24:Ss(Oe)}}function wu(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,A=a.inst;l=m(),A.destroy=l}a=a.next}while(a!==d)}}catch(w){ne(n,n.return,w)}}function xa(t,n,a){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var A=l.inst,w=A.destroy;if(w!==void 0){A.destroy=void 0,d=n;var D=a,B=w;try{B()}catch(Y){ne(d,D,Y)}}}l=l.next}while(l!==m)}}catch(Y){ne(n,n.return,Y)}}function ZA(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Fv(n,a)}catch(l){ne(t,t.return,l)}}}function JA(t,n,a){a.props=Or(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ne(t,n,l)}}function Tu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){ne(t,n,d)}}function Yn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ne(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ne(t,n,d)}else a.current=null}function t1(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ne(t,t.return,d)}}function Fm(t,n,a){try{var l=t.stateNode;xT(l,t.type,a,n),l[Ci]=n}catch(d){ne(t,t.return,d)}}function e1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Da(t.type)||t.tag===4}function Um(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||e1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Da(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bm(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zf));else if(l!==4&&(l===27&&Da(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Bm(t,n,a),t=t.sibling;t!==null;)Bm(t,n,a),t=t.sibling}function Tf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Da(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tf(t,n,a),t=t.sibling;t!==null;)Tf(t,n,a),t=t.sibling}function i1(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ii(n,l,a),n[oi]=t,n[Ci]=a}catch(m){ne(t,t.return,m)}}var Rs=!1,xe=!1,Im=!1,n1=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function iT(t,n){if(t=t.containerInfo,d0=qf,t=gv(t),Up(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var A=0,w=-1,D=-1,B=0,Y=0,Q=t,G=null;e:for(;;){for(var q;Q!==a||d!==0&&Q.nodeType!==3||(w=A+d),Q!==m||l!==0&&Q.nodeType!==3||(D=A+l),Q.nodeType===3&&(A+=Q.nodeValue.length),(q=Q.firstChild)!==null;)G=Q,Q=q;for(;;){if(Q===t)break e;if(G===a&&++B===d&&(w=A),G===m&&++Y===l&&(D=A),(q=Q.nextSibling)!==null)break;Q=G,G=Q.parentNode}Q=q}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(f0={focusedElem:t,selectionRange:a},qf=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,m=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var At=Or(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(At,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){ne(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)m0(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":m0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function s1(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sa(t,a),l&4&&wu(5,a);break;case 1:if(Sa(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(A){ne(a,a.return,A)}else{var d=Or(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(A){ne(a,a.return,A)}}l&64&&ZA(a),l&512&&Tu(a,a.return);break;case 3:if(Sa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Fv(t,n)}catch(A){ne(a,a.return,A)}}break;case 27:n===null&&l&4&&i1(a);case 26:case 5:Sa(t,a),n===null&&l&4&&t1(a),l&512&&Tu(a,a.return);break;case 12:Sa(t,a);break;case 13:Sa(t,a),l&4&&l1(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hT.bind(null,a),MT(t,a))));break;case 22:if(l=a.memoizedState!==null||Rs,!l){n=n!==null&&n.memoizedState!==null||xe,d=Rs;var m=xe;Rs=l,(xe=n)&&!m?Ea(t,a,(a.subtreeFlags&8772)!==0):Sa(t,a),Rs=d,xe=m}break;case 30:break;default:Sa(t,a)}}function a1(t){var n=t.alternate;n!==null&&(t.alternate=null,a1(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&_p(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ce=null,Di=!1;function Ms(t,n,a){for(a=a.child;a!==null;)r1(t,n,a),a=a.sibling}function r1(t,n,a){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(yr,a)}catch{}switch(a.tag){case 26:xe||Yn(a,n),Ms(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||Yn(a,n);var l=ce,d=Di;Da(a.type)&&(ce=a.stateNode,Di=!1),Ms(t,n,a),Pu(a.stateNode),ce=l,Di=d;break;case 5:xe||Yn(a,n);case 6:if(l=ce,d=Di,ce=null,Ms(t,n,a),ce=l,Di=d,ce!==null)if(Di)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(m){ne(a,n,m)}else try{ce.removeChild(a.stateNode)}catch(m){ne(a,n,m)}break;case 18:ce!==null&&(Di?(t=ce,K1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Gu(t)):K1(ce,a.stateNode));break;case 4:l=ce,d=Di,ce=a.stateNode.containerInfo,Di=!0,Ms(t,n,a),ce=l,Di=d;break;case 0:case 11:case 14:case 15:xe||xa(2,a,n),xe||xa(4,a,n),Ms(t,n,a);break;case 1:xe||(Yn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&JA(a,n,l)),Ms(t,n,a);break;case 21:Ms(t,n,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,Ms(t,n,a),xe=l;break;default:Ms(t,n,a)}}function l1(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gu(t)}catch(a){ne(n,n.return,a)}}function nT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new n1),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new n1),n;default:throw Error(s(435,t.tag))}}function Gm(t,n){var a=nT(t);n.forEach(function(l){var d=dT.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function Ii(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,A=n,w=A;t:for(;w!==null;){switch(w.tag){case 27:if(Da(w.type)){ce=w.stateNode,Di=!1;break t}break;case 5:ce=w.stateNode,Di=!1;break t;case 3:case 4:ce=w.stateNode.containerInfo,Di=!0;break t}w=w.return}if(ce===null)throw Error(s(160));r1(m,A,d),ce=null,Di=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)o1(n,t),n=n.sibling}var Tn=null;function o1(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ii(n,t),Gi(t),l&4&&(xa(3,t,t.return),wu(3,t),xa(5,t,t.return));break;case 1:Ii(n,t),Gi(t),l&512&&(xe||a===null||Yn(a,a.return)),l&64&&Rs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Tn;if(Ii(n,t),Gi(t),l&512&&(xe||a===null||Yn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;e:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Qc]||m[oi]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),ii(m,l,a),m[oi]=t,Ge(m),l=m;break t;case"link":var A=i_("link","href",d).get(l+(a.href||""));if(A){for(var w=0;w<A.length;w++)if(m=A[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(w,1);break e}}m=d.createElement(l),ii(m,l,a),d.head.appendChild(m);break;case"meta":if(A=i_("meta","content",d).get(l+(a.content||""))){for(w=0;w<A.length;w++)if(m=A[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(w,1);break e}}m=d.createElement(l),ii(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[oi]=t,Ge(m),l=m}t.stateNode=l}else n_(d,t.type,t.stateNode);else t.stateNode=e_(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?n_(d,t.type,t.stateNode):e_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fm(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ii(n,t),Gi(t),l&512&&(xe||a===null||Yn(a,a.return)),a!==null&&l&4&&Fm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ii(n,t),Gi(t),l&512&&(xe||a===null||Yn(a,a.return)),t.flags&32){d=t.stateNode;try{io(d,"")}catch(q){ne(t,t.return,q)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Fm(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Im=!0);break;case 6:if(Ii(n,t),Gi(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){ne(t,t.return,q)}}break;case 3:if(Bf=null,d=Tn,Tn=Ff(n.containerInfo),Ii(n,t),Tn=d,Gi(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Gu(n.containerInfo)}catch(q){ne(t,t.return,q)}Im&&(Im=!1,c1(t));break;case 4:l=Tn,Tn=Ff(t.stateNode.containerInfo),Ii(n,t),Gi(t),Tn=l;break;case 12:Ii(n,t),Gi(t);break;case 13:Ii(n,t),Gi(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($m=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gm(t,l)));break;case 22:d=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Rs,Y=xe;if(Rs=B||d,xe=Y||D,Ii(n,t),xe=Y,Rs=B,Gi(t),l&8192)t:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(a===null||D||Rs||xe||kr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(m=D.stateNode,d)A=m.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{w=D.stateNode;var Q=D.memoizedProps.style,G=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(q){ne(D,D.return,q)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(q){ne(D,D.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gm(t,a))));break;case 19:Ii(n,t),Gi(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gm(t,l)));break;case 30:break;case 21:break;default:Ii(n,t),Gi(t)}}function Gi(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(e1(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,m=Um(t);Tf(t,m,d);break;case 5:var A=a.stateNode;a.flags&32&&(io(A,""),a.flags&=-33);var w=Um(t);Tf(t,w,A);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Um(t);Bm(t,B,D);break;default:throw Error(s(161))}}catch(Y){ne(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function c1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;c1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Sa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)s1(t,n.alternate,n),n=n.sibling}function kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:xa(4,n,n.return),kr(n);break;case 1:Yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&JA(n,n.return,a),kr(n);break;case 27:Pu(n.stateNode);case 26:case 5:Yn(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}t=t.sibling}}function Ea(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=t,m=n,A=m.flags;switch(m.tag){case 0:case 11:case 15:Ea(d,m,a),wu(4,m);break;case 1:if(Ea(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){ne(l,l.return,B)}if(l=m,d=l.updateQueue,d!==null){var w=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)Hv(D[d],w)}catch(B){ne(l,l.return,B)}}a&&A&64&&ZA(m),Tu(m,m.return);break;case 27:i1(m);case 26:case 5:Ea(d,m,a),a&&l===null&&A&4&&t1(m),Tu(m,m.return);break;case 12:Ea(d,m,a);break;case 13:Ea(d,m,a),a&&A&4&&l1(d,m);break;case 22:m.memoizedState===null&&Ea(d,m,a),Tu(m,m.return);break;case 30:break;default:Ea(d,m,a)}n=n.sibling}}function qm(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hu(a))}function Vm(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hu(t))}function Kn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)u1(t,n,a,l),n=n.sibling}function u1(t,n,a,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,a,l),d&2048&&wu(9,n);break;case 1:Kn(t,n,a,l);break;case 3:Kn(t,n,a,l),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hu(t)));break;case 12:if(d&2048){Kn(t,n,a,l),t=n.stateNode;try{var m=n.memoizedProps,A=m.id,w=m.onPostCommit;typeof w=="function"&&w(A,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ne(n,n.return,D)}}else Kn(t,n,a,l);break;case 13:Kn(t,n,a,l);break;case 23:break;case 22:m=n.stateNode,A=n.alternate,n.memoizedState!==null?m._visibility&2?Kn(t,n,a,l):Cu(t,n):m._visibility&2?Kn(t,n,a,l):(m._visibility|=2,xo(t,n,a,l,(n.subtreeFlags&10256)!==0)),d&2048&&qm(A,n);break;case 24:Kn(t,n,a,l),d&2048&&Vm(n.alternate,n);break;default:Kn(t,n,a,l)}}function xo(t,n,a,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=t,A=n,w=a,D=l,B=A.flags;switch(A.tag){case 0:case 11:case 15:xo(m,A,w,D,d),wu(8,A);break;case 23:break;case 22:var Y=A.stateNode;A.memoizedState!==null?Y._visibility&2?xo(m,A,w,D,d):Cu(m,A):(Y._visibility|=2,xo(m,A,w,D,d)),d&&B&2048&&qm(A.alternate,A);break;case 24:xo(m,A,w,D,d),d&&B&2048&&Vm(A.alternate,A);break;default:xo(m,A,w,D,d)}n=n.sibling}}function Cu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,d=l.flags;switch(l.tag){case 22:Cu(a,l),d&2048&&qm(l.alternate,l);break;case 24:Cu(a,l),d&2048&&Vm(l.alternate,l);break;default:Cu(a,l)}n=n.sibling}}var Ru=8192;function So(t){if(t.subtreeFlags&Ru)for(t=t.child;t!==null;)h1(t),t=t.sibling}function h1(t){switch(t.tag){case 26:So(t),t.flags&Ru&&t.memoizedState!==null&&IT(Tn,t.memoizedState,t.memoizedProps);break;case 5:So(t);break;case 3:case 4:var n=Tn;Tn=Ff(t.stateNode.containerInfo),So(t),Tn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ru,Ru=16777216,So(t),Ru=n):So(t));break;default:So(t)}}function d1(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,g1(l,t)}d1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f1(t),t=t.sibling}function f1(t){switch(t.tag){case 0:case 11:case 15:Mu(t),t.flags&2048&&xa(9,t,t.return);break;case 3:Mu(t);break;case 12:Mu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Cf(t)):Mu(t);break;default:Mu(t)}}function Cf(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,g1(l,t)}d1(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:xa(8,n,n.return),Cf(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Cf(n));break;default:Cf(n)}t=t.sibling}}function g1(t,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:xa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=t;Ve!==null;){l=Ve;var d=l.sibling,m=l.return;if(a1(l),l===a){Ve=null;break t}if(d!==null){d.return=m,Ve=d;break t}Ve=m}}}var sT={getCacheForType:function(t){var n=ci(Oe),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},aT=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Pt=null,Ut=0,Yt=0,qi=null,wa=!1,Eo=!1,Xm=!1,Ds=0,ye=0,Ta=0,Pr=0,Ym=0,fn=0,wo=0,Du=null,Li=null,Km=!1,$m=0,Rf=1/0,Mf=null,Ca=null,ei=0,Ra=null,To=null,Co=0,Qm=0,Wm=null,p1=null,Lu=0,Zm=null;function Vi(){if((Xt&2)!==0&&Ut!==0)return Ut&-Ut;if(U.T!==null){var t=go;return t!==0?t:a0()}return Ly()}function m1(){fn===0&&(fn=(Ut&536870912)===0||It?Cy():536870912);var t=dn.current;return t!==null&&(t.flags|=32),fn}function Xi(t,n,a){(t===ae&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(Ro(t,0),Ma(t,Ut,fn,!1)),$c(t,a),((Xt&2)===0||t!==ae)&&(t===ae&&((Xt&2)===0&&(Pr|=a),ye===4&&Ma(t,Ut,fn,!1)),$n(t))}function b1(t,n,a){if((Xt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Kc(t,n),d=l?oT(t,n):e0(t,n,!0),m=l;do{if(d===0){Eo&&!l&&Ma(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!rT(a)){d=e0(t,n,!1),m=!1;continue}if(d===2){if(m=n,t.errorRecoveryDisabledLanes&m)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){n=A;t:{var w=t;d=Du;var D=w.current.memoizedState.isDehydrated;if(D&&(Ro(w,A).flags|=256),A=e0(w,A,!1),A!==2){if(Xm&&!D){w.errorRecoveryDisabledLanes|=m,Pr|=m,d=4;break t}m=Li,Li=d,m!==null&&(Li===null?Li=m:Li.push.apply(Li,m))}d=A}if(m=!1,d!==2)continue}}if(d===1){Ro(t,0),Ma(t,n,0,!0);break}t:{switch(l=t,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ma(l,n,fn,!wa);break t;case 2:Li=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=$m+300-Je(),10<d)){if(Ma(l,n,fn,!wa),Fd(l,0,!0)!==0)break t;l.timeoutHandle=X1(y1.bind(null,l,a,Li,Mf,Km,n,fn,Pr,wo,wa,m,2,-0,0),d);break t}y1(l,a,Li,Mf,Km,n,fn,Pr,wo,wa,m,0,-0,0)}}break}while(!0);$n(t)}function y1(t,n,a,l,d,m,A,w,D,B,Y,Q,G,q){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Hu={stylesheets:null,count:0,unsuspend:BT},h1(n),Q=GT(),Q!==null)){t.cancelPendingCommit=Q(w1.bind(null,t,n,m,a,l,d,A,w,D,Y,1,G,q)),Ma(t,m,A,!B);return}w1(t,n,m,a,l,d,A,w,D)}function rT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Ui(m(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ma(t,n,a,l){n&=~Ym,n&=~Pr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var d=n;0<d;){var m=31-Ie(d),A=1<<m;l[m]=-1,d&=~A}a!==0&&My(t,a,n)}function Df(){return(Xt&6)===0?(Nu(0),!1):!0}function Jm(){if(Pt!==null){if(Yt===0)var t=Pt.return;else t=Pt,xs=Mr=null,mm(t),Ao=null,xu=0,t=Pt;for(;t!==null;)WA(t.alternate,t),t=t.return;Pt=null}}function Ro(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ET(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Jm(),ae=t,Pt=a=vs(t.current,null),Ut=n,Yt=0,qi=null,wa=!1,Eo=Kc(t,n),Xm=!1,wo=fn=Ym=Pr=Ta=ye=0,Li=Du=null,Km=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var d=31-Ie(l),m=1<<d;n|=t[d],l&=~m}return Ds=n,Wd(),a}function v1(t,n){Lt=null,U.H=bf,n===fu||n===lf?(n=jv(),Yt=3):n===Ov?(n=jv(),Yt=4):Yt=n===zA?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qi=n,Pt===null&&(ye=1,xf(t,on(n,t.current)))}function A1(){var t=U.H;return U.H=bf,t===null?bf:t}function _1(){var t=U.A;return U.A=sT,t}function t0(){ye=4,wa||(Ut&4194048)!==Ut&&dn.current!==null||(Eo=!0),(Ta&134217727)===0&&(Pr&134217727)===0||ae===null||Ma(ae,Ut,fn,!1)}function e0(t,n,a){var l=Xt;Xt|=2;var d=A1(),m=_1();(ae!==t||Ut!==n)&&(Mf=null,Ro(t,n)),n=!1;var A=ye;t:do try{if(Yt!==0&&Pt!==null){var w=Pt,D=qi;switch(Yt){case 8:Jm(),A=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Yt;if(Yt=0,qi=null,Mo(t,w,D,B),a&&Eo){A=0;break t}break;default:B=Yt,Yt=0,qi=null,Mo(t,w,D,B)}}lT(),A=ye;break}catch(Y){v1(t,Y)}while(!0);return n&&t.shellSuspendCounter++,xs=Mr=null,Xt=l,U.H=d,U.A=m,Pt===null&&(ae=null,Ut=0,Wd()),A}function lT(){for(;Pt!==null;)x1(Pt)}function oT(t,n){var a=Xt;Xt|=2;var l=A1(),d=_1();ae!==t||Ut!==n?(Mf=null,Rf=Je()+500,Ro(t,n)):Eo=Kc(t,n);t:do try{if(Yt!==0&&Pt!==null){n=Pt;var m=qi;e:switch(Yt){case 1:Yt=0,qi=null,Mo(t,n,m,1);break;case 2:case 9:if(kv(m)){Yt=0,qi=null,S1(n);break}n=function(){Yt!==2&&Yt!==9||ae!==t||(Yt=7),$n(t)},m.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:kv(m)?(Yt=0,qi=null,S1(n)):(Yt=0,qi=null,Mo(t,n,m,7));break;case 5:var A=null;switch(Pt.tag){case 26:A=Pt.memoizedState;case 5:case 27:var w=Pt;if(!A||s_(A)){Yt=0,qi=null;var D=w.sibling;if(D!==null)Pt=D;else{var B=w.return;B!==null?(Pt=B,Lf(B)):Pt=null}break e}}Yt=0,qi=null,Mo(t,n,m,5);break;case 6:Yt=0,qi=null,Mo(t,n,m,6);break;case 8:Jm(),ye=6;break t;default:throw Error(s(462))}}cT();break}catch(Y){v1(t,Y)}while(!0);return xs=Mr=null,U.H=l,U.A=d,Xt=a,Pt!==null?0:(ae=null,Ut=0,Wd(),ye)}function cT(){for(;Pt!==null&&!Be();)x1(Pt)}function x1(t){var n=$A(t.alternate,t,Ds);t.memoizedProps=t.pendingProps,n===null?Lf(t):Pt=n}function S1(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=GA(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=GA(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:mm(n);default:WA(a,n),n=Pt=Ev(n,Ds),n=$A(a,n,Ds)}t.memoizedProps=t.pendingProps,n===null?Lf(t):Pt=n}function Mo(t,n,a,l){xs=Mr=null,mm(n),Ao=null,xu=0;var d=n.return;try{if(Zw(t,d,n,a,Ut)){ye=1,xf(t,on(a,t.current)),Pt=null;return}}catch(m){if(d!==null)throw Pt=d,m;ye=1,xf(t,on(a,t.current)),Pt=null;return}n.flags&32768?(It||l===1?t=!0:Eo||(Ut&536870912)!==0?t=!1:(wa=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),E1(n,t)):Lf(n)}function Lf(t){var n=t;do{if((n.flags&32768)!==0){E1(n,wa);return}t=n.return;var a=tT(n.alternate,n,Ds);if(a!==null){Pt=a;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=t}while(n!==null);ye===0&&(ye=5)}function E1(t,n){do{var a=eT(t.alternate,t);if(a!==null){a.flags&=32767,Pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Pt=t;return}Pt=t=a}while(t!==null);ye=6,Pt=null}function w1(t,n,a,l,d,m,A,w,D){t.cancelPendingCommit=null;do Nf();while(ei!==0);if((Xt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=Vp,BE(t,a,m,A,w,D),t===ae&&(Pt=ae=null,Ut=0),To=n,Ra=t,Co=a,Qm=m,Wm=d,p1=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fT(ms,function(){return D1(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,d=V.p,V.p=2,A=Xt,Xt|=4;try{iT(t,n,a)}finally{Xt=A,V.p=d,U.T=l}}ei=1,T1(),C1(),R1()}}function T1(){if(ei===1){ei=0;var t=Ra,n=To,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=V.p;V.p=2;var d=Xt;Xt|=4;try{o1(n,t);var m=f0,A=gv(t.containerInfo),w=m.focusedElem,D=m.selectionRange;if(A!==w&&w&&w.ownerDocument&&fv(w.ownerDocument.documentElement,w)){if(D!==null&&Up(w)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(Y,w.value.length);else{var Q=w.ownerDocument||document,G=Q&&Q.defaultView||window;if(G.getSelection){var q=G.getSelection(),At=w.textContent.length,yt=Math.min(D.start,At),te=D.end===void 0?yt:Math.min(D.end,At);!q.extend&&yt>te&&(A=te,te=yt,yt=A);var k=dv(w,yt),O=dv(w,te);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var F=Q.createRange();F.setStart(k.node,k.offset),q.removeAllRanges(),yt>te?(q.addRange(F),q.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),q.addRange(F))}}}}for(Q=[],q=w;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Q.length;w++){var $=Q[w];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}qf=!!d0,f0=d0=null}finally{Xt=d,V.p=l,U.T=a}}t.current=n,ei=2}}function C1(){if(ei===2){ei=0;var t=Ra,n=To,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=V.p;V.p=2;var d=Xt;Xt|=4;try{s1(t,n.alternate,n)}finally{Xt=d,V.p=l,U.T=a}}ei=3}}function R1(){if(ei===4||ei===3){ei=0,Te();var t=Ra,n=To,a=Co,l=p1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ei=5:(ei=0,To=Ra=null,M1(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ca=null),vp(a),n=n.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(yr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,d=V.p,V.p=2,U.T=null;try{for(var m=t.onRecoverableError,A=0;A<l.length;A++){var w=l[A];m(w.value,{componentStack:w.stack})}}finally{U.T=n,V.p=d}}(Co&3)!==0&&Nf(),$n(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Zm?Lu++:(Lu=0,Zm=t):Lu=0,Nu(0)}}function M1(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hu(n)))}function Nf(t){return T1(),C1(),R1(),D1()}function D1(){if(ei!==5)return!1;var t=Ra,n=Qm;Qm=0;var a=vp(Co),l=U.T,d=V.p;try{V.p=32>a?32:a,U.T=null,a=Wm,Wm=null;var m=Ra,A=Co;if(ei=0,To=Ra=null,Co=0,(Xt&6)!==0)throw Error(s(331));var w=Xt;if(Xt|=4,f1(m.current),u1(m,m.current,A,a),Xt=w,Nu(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(yr,m)}catch{}return!0}finally{V.p=d,U.T=l,M1(t,n)}}function L1(t,n,a){n=on(a,n),n=Dm(t.stateNode,n,2),t=ya(t,n,2),t!==null&&($c(t,2),$n(t))}function ne(t,n,a){if(t.tag===3)L1(t,t,a);else for(;n!==null;){if(n.tag===3){L1(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ca===null||!Ca.has(l))){t=on(a,t),a=PA(2),l=ya(n,a,2),l!==null&&(jA(a,l,n,t),$c(l,2),$n(l));break}}n=n.return}}function i0(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new aT;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(a)||(Xm=!0,d.add(a),t=uT.bind(null,t,n,a),n.then(t,t))}function uT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ae===t&&(Ut&a)===a&&(ye===4||ye===3&&(Ut&62914560)===Ut&&300>Je()-$m?(Xt&2)===0&&Ro(t,0):Ym|=a,wo===Ut&&(wo=0)),$n(t)}function N1(t,n){n===0&&(n=Ry()),t=co(t,n),t!==null&&($c(t,n),$n(t))}function hT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),N1(t,a)}function dT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),N1(t,a)}function fT(t,n){return qt(t,n)}var Of=null,Do=null,n0=!1,kf=!1,s0=!1,jr=0;function $n(t){t!==Do&&t.next===null&&(Do===null?Of=Do=t:Do=Do.next=t),kf=!0,n0||(n0=!0,pT())}function Nu(t,n){if(!s0&&kf){s0=!0;do for(var a=!1,l=Of;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var A=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Ie(42|t)+1)-1,m&=d&~(A&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,j1(l,m))}else m=Ut,m=Fd(l,l===ae?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Kc(l,m)||(a=!0,j1(l,m));l=l.next}while(a);s0=!1}}function gT(){O1()}function O1(){kf=n0=!1;var t=0;jr!==0&&(ST()&&(t=jr),jr=0);for(var n=Je(),a=null,l=Of;l!==null;){var d=l.next,m=k1(l,n);m===0?(l.next=null,a===null?Of=d:a.next=d,d===null&&(Do=a)):(a=l,(t!==0||(m&3)!==0)&&(kf=!0)),l=d}Nu(t)}function k1(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var A=31-Ie(m),w=1<<A,D=d[A];D===-1?((w&a)===0||(w&l)!==0)&&(d[A]=UE(w,n)):D<=n&&(t.expiredLanes|=w),m&=~w}if(n=ae,a=Ut,a=Fd(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&oe(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kc(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&oe(l),vp(a)){case 2:case 8:a=Pd;break;case 32:a=ms;break;case 268435456:a=jd;break;default:a=ms}return l=P1.bind(null,t),a=qt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&oe(l),t.callbackPriority=2,t.callbackNode=null,2}function P1(t,n){if(ei!==0&&ei!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nf()&&t.callbackNode!==a)return null;var l=Ut;return l=Fd(t,t===ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(b1(t,l,n),k1(t,Je()),t.callbackNode!=null&&t.callbackNode===a?P1.bind(null,t):null)}function j1(t,n){if(Nf())return null;b1(t,n,!0)}function pT(){wT(function(){(Xt&6)!==0?qt(kd,gT):O1()})}function a0(){return jr===0&&(jr=Cy()),jr}function z1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qd(""+t)}function H1(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function mT(t,n,a,l,d){if(n==="submit"&&a&&a.stateNode===d){var m=z1((d[Ci]||null).action),A=l.submitter;A&&(n=(n=A[Ci]||null)?z1(n.formAction):A.getAttribute("formAction"),n!==null&&(m=n,A=null));var w=new Kd("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(jr!==0){var D=A?H1(d,A):new FormData(d);wm(a,{pending:!0,data:D,method:d.method,action:m},null,D)}}else typeof m=="function"&&(w.preventDefault(),D=A?H1(d,A):new FormData(d),wm(a,{pending:!0,data:D,method:d.method,action:m},m,D))},currentTarget:d}]})}}for(var r0=0;r0<qp.length;r0++){var l0=qp[r0],bT=l0.toLowerCase(),yT=l0[0].toUpperCase()+l0.slice(1);wn(bT,"on"+yT)}wn(bv,"onAnimationEnd"),wn(yv,"onAnimationIteration"),wn(vv,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Pw,"onTransitionRun"),wn(jw,"onTransitionStart"),wn(zw,"onTransitionCancel"),wn(Av,"onTransitionEnd"),Jl("onMouseEnter",["mouseout","mouseover"]),Jl("onMouseLeave",["mouseout","mouseover"]),Jl("onPointerEnter",["pointerout","pointerover"]),Jl("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function F1(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;t:{var m=void 0;if(n)for(var A=l.length-1;0<=A;A--){var w=l[A],D=w.instance,B=w.currentTarget;if(w=w.listener,D!==m&&d.isPropagationStopped())break t;m=w,d.currentTarget=B;try{m(d)}catch(Y){_f(Y)}d.currentTarget=null,m=D}else for(A=0;A<l.length;A++){if(w=l[A],D=w.instance,B=w.currentTarget,w=w.listener,D!==m&&d.isPropagationStopped())break t;m=w,d.currentTarget=B;try{m(d)}catch(Y){_f(Y)}d.currentTarget=null,m=D}}}}function jt(t,n){var a=n[Ap];a===void 0&&(a=n[Ap]=new Set);var l=t+"__bubble";a.has(l)||(U1(n,t,2,!1),a.add(l))}function o0(t,n,a){var l=0;n&&(l|=4),U1(a,t,l,n)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function c0(t){if(!t[Pf]){t[Pf]=!0,Oy.forEach(function(a){a!=="selectionchange"&&(vT.has(a)||o0(a,!1,t),o0(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pf]||(n[Pf]=!0,o0("selectionchange",!1,n))}}function U1(t,n,a,l){switch(u_(n)){case 2:var d=XT;break;case 8:d=YT;break;default:d=S0}a=d.bind(null,n,a,t),d=void 0,!Lp||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(n,a,{capture:!0,passive:d}):t.addEventListener(n,a,!0):d!==void 0?t.addEventListener(n,a,{passive:d}):t.addEventListener(n,a,!1)}function u0(t,n,a,l,d){var m=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var A=l.tag;if(A===3||A===4){var w=l.stateNode.containerInfo;if(w===d)break;if(A===4)for(A=l.return;A!==null;){var D=A.tag;if((D===3||D===4)&&A.stateNode.containerInfo===d)return;A=A.return}for(;w!==null;){if(A=Ql(w),A===null)return;if(D=A.tag,D===5||D===6||D===26||D===27){l=m=A;continue t}w=w.parentNode}}l=l.return}Yy(function(){var B=m,Y=Mp(a),Q=[];t:{var G=_v.get(t);if(G!==void 0){var q=Kd,At=t;switch(t){case"keypress":if(Xd(a)===0)break t;case"keydown":case"keyup":q=fw;break;case"focusin":At="focus",q=Pp;break;case"focusout":At="blur",q=Pp;break;case"beforeblur":case"afterblur":q=Pp;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ew;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=mw;break;case bv:case yv:case vv:q=sw;break;case Av:q=yw;break;case"scroll":case"scrollend":q=JE;break;case"wheel":q=Aw;break;case"copy":case"cut":case"paste":q=rw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zy;break;case"toggle":case"beforetoggle":q=xw}var yt=(n&4)!==0,te=!yt&&(t==="scroll"||t==="scrollend"),k=yt?G!==null?G+"Capture":null:G;yt=[];for(var O=B,F;O!==null;){var $=O;if(F=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||F===null||k===null||($=Zc(O,k),$!=null&&yt.push(ku(O,$,F))),te)break;O=O.return}0<yt.length&&(G=new q(G,At,null,a,Y),Q.push({event:G,listeners:yt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",G&&a!==Rp&&(At=a.relatedTarget||a.fromElement)&&(Ql(At)||At[$l]))break t;if((q||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,q?(At=a.relatedTarget||a.toElement,q=B,At=At?Ql(At):null,At!==null&&(te=o(At),yt=At.tag,At!==te||yt!==5&&yt!==27&&yt!==6)&&(At=null)):(q=null,At=B),q!==At)){if(yt=Qy,$="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Zy,$="onPointerLeave",k="onPointerEnter",O="pointer"),te=q==null?G:Wc(q),F=At==null?G:Wc(At),G=new yt($,O+"leave",q,a,Y),G.target=te,G.relatedTarget=F,$=null,Ql(Y)===B&&(yt=new yt(k,O+"enter",At,a,Y),yt.target=F,yt.relatedTarget=te,$=yt),te=$,q&&At)e:{for(yt=q,k=At,O=0,F=yt;F;F=Lo(F))O++;for(F=0,$=k;$;$=Lo($))F++;for(;0<O-F;)yt=Lo(yt),O--;for(;0<F-O;)k=Lo(k),F--;for(;O--;){if(yt===k||k!==null&&yt===k.alternate)break e;yt=Lo(yt),k=Lo(k)}yt=null}else yt=null;q!==null&&B1(Q,G,q,yt,!1),At!==null&&te!==null&&B1(Q,te,At,yt,!0)}}t:{if(G=B?Wc(B):window,q=G.nodeName&&G.nodeName.toLowerCase(),q==="select"||q==="input"&&G.type==="file")var ut=rv;else if(sv(G))if(lv)ut=Nw;else{ut=Dw;var Ot=Mw}else q=G.nodeName,!q||q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&Cp(B.elementType)&&(ut=rv):ut=Lw;if(ut&&(ut=ut(t,B))){av(Q,ut,a,Y);break t}Ot&&Ot(t,G,B),t==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&Tp(G,"number",G.value)}switch(Ot=B?Wc(B):window,t){case"focusin":(sv(Ot)||Ot.contentEditable==="true")&&(ro=Ot,Bp=B,ru=null);break;case"focusout":ru=Bp=ro=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,pv(Q,a,Y);break;case"selectionchange":if(kw)break;case"keydown":case"keyup":pv(Q,a,Y)}var gt;if(zp)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else ao?iv(t,a)&&(vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(Jy&&a.locale!=="ko"&&(ao||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ao&&(gt=Ky()):(ga=Y,Np="value"in ga?ga.value:ga.textContent,ao=!0)),Ot=jf(B,vt),0<Ot.length&&(vt=new Wy(vt,t,null,a,Y),Q.push({event:vt,listeners:Ot}),gt?vt.data=gt:(gt=nv(a),gt!==null&&(vt.data=gt)))),(gt=Ew?ww(t,a):Tw(t,a))&&(vt=jf(B,"onBeforeInput"),0<vt.length&&(Ot=new Wy("onBeforeInput","beforeinput",null,a,Y),Q.push({event:Ot,listeners:vt}),Ot.data=gt)),mT(Q,t,B,a,Y)}F1(Q,n)})}function ku(t,n,a){return{instance:t,listener:n,currentTarget:a}}function jf(t,n){for(var a=n+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Zc(t,a),d!=null&&l.unshift(ku(t,d,m)),d=Zc(t,n),d!=null&&l.push(ku(t,d,m))),t.tag===3)return l;t=t.return}return[]}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B1(t,n,a,l,d){for(var m=n._reactName,A=[];a!==null&&a!==l;){var w=a,D=w.alternate,B=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||B===null||(D=B,d?(B=Zc(a,m),B!=null&&A.unshift(ku(a,B,D))):d||(B=Zc(a,m),B!=null&&A.push(ku(a,B,D)))),a=a.return}A.length!==0&&t.push({event:n,listeners:A})}var AT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function I1(t){return(typeof t=="string"?t:""+t).replace(AT,`
`).replace(_T,"")}function G1(t,n){return n=I1(n),I1(t)===n}function zf(){}function Jt(t,n,a,l,d,m){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||io(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&io(t,""+l);break;case"className":Bd(t,"class",l);break;case"tabIndex":Bd(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bd(t,a,l);break;case"style":Vy(t,l,m);break;case"data":if(n!=="object"){Bd(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qd(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Jt(t,n,"name",d.name,d,null),Jt(t,n,"formEncType",d.formEncType,d,null),Jt(t,n,"formMethod",d.formMethod,d,null),Jt(t,n,"formTarget",d.formTarget,d,null)):(Jt(t,n,"encType",d.encType,d,null),Jt(t,n,"method",d.method,d,null),Jt(t,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qd(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zf);break;case"onScroll":l!=null&&jt("scroll",t);break;case"onScrollEnd":l!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qd(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":jt("beforetoggle",t),jt("toggle",t),Ud(t,"popover",l);break;case"xlinkActuate":bs(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bs(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bs(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bs(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bs(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bs(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bs(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ud(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=WE.get(a)||a,Ud(t,a,l))}}function h0(t,n,a,l,d,m){switch(a){case"style":Vy(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?io(t,l):(typeof l=="number"||typeof l=="bigint")&&io(t,""+l);break;case"onScroll":l!=null&&jt("scroll",t);break;case"onScrollEnd":l!=null&&jt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ky.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),m=t[Ci]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,d);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ud(t,a,l)}}}function ii(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var A=a[m];if(A!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,m,A,a,null)}}d&&Jt(t,n,"srcSet",a.srcSet,a,null),l&&Jt(t,n,"src",a.src,a,null);return;case"input":jt("invalid",t);var w=m=A=d=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":A=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":m=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Jt(t,n,l,Y,a,null)}}By(t,m,w,D,B,A,d,!1),Id(t);return;case"select":jt("invalid",t),l=A=m=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":A=w;break;case"multiple":l=w;default:Jt(t,n,d,w,a,null)}n=m,a=A,t.multiple=!!l,n!=null?eo(t,!!l,n,!1):a!=null&&eo(t,!!l,a,!0);return;case"textarea":jt("invalid",t),m=d=l=null;for(A in a)if(a.hasOwnProperty(A)&&(w=a[A],w!=null))switch(A){case"value":l=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Jt(t,n,A,w,a,null)}Gy(t,l,d,m),Id(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(t,n,D,l,a,null)}return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(l=0;l<Ou.length;l++)jt(Ou[l],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,B,l,a,null)}return;default:if(Cp(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&h0(t,n,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Jt(t,n,w,l,a,null))}function xT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,A=null,w=null,D=null,B=null,Y=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=Q;default:l.hasOwnProperty(q)||Jt(t,n,q,null,l,Q)}}for(var G in l){var q=l[G];if(Q=a[G],l.hasOwnProperty(G)&&(q!=null||Q!=null))switch(G){case"type":m=q;break;case"name":d=q;break;case"checked":B=q;break;case"defaultChecked":Y=q;break;case"value":A=q;break;case"defaultValue":w=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Jt(t,n,G,q,l,Q)}}wp(t,A,w,D,B,Y,m,d);return;case"select":q=A=w=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(m)||Jt(t,n,m,null,l,D)}for(d in l)if(m=l[d],D=a[d],l.hasOwnProperty(d)&&(m!=null||D!=null))switch(d){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":A=m;default:m!==D&&Jt(t,n,d,m,l,D)}n=w,a=A,l=q,G!=null?eo(t,!!a,G,!1):!!l!=!!a&&(n!=null?eo(t,!!a,n,!0):eo(t,!!a,a?[]:"",!1));return;case"textarea":q=G=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Jt(t,n,w,null,l,d)}for(A in l)if(d=l[A],m=a[A],l.hasOwnProperty(A)&&(d!=null||m!=null))switch(A){case"value":G=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&Jt(t,n,A,d,l,m)}Iy(t,G,q);return;case"option":for(var At in a)if(G=a[At],a.hasOwnProperty(At)&&G!=null&&!l.hasOwnProperty(At))switch(At){case"selected":t.selected=!1;break;default:Jt(t,n,At,null,l,G)}for(D in l)if(G=l[D],q=a[D],l.hasOwnProperty(D)&&G!==q&&(G!=null||q!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Jt(t,n,D,G,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)G=a[yt],a.hasOwnProperty(yt)&&G!=null&&!l.hasOwnProperty(yt)&&Jt(t,n,yt,null,l,G);for(B in l)if(G=l[B],q=a[B],l.hasOwnProperty(B)&&G!==q&&(G!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Jt(t,n,B,G,l,q)}return;default:if(Cp(n)){for(var te in a)G=a[te],a.hasOwnProperty(te)&&G!==void 0&&!l.hasOwnProperty(te)&&h0(t,n,te,void 0,l,G);for(Y in l)G=l[Y],q=a[Y],!l.hasOwnProperty(Y)||G===q||G===void 0&&q===void 0||h0(t,n,Y,G,l,q);return}}for(var k in a)G=a[k],a.hasOwnProperty(k)&&G!=null&&!l.hasOwnProperty(k)&&Jt(t,n,k,null,l,G);for(Q in l)G=l[Q],q=a[Q],!l.hasOwnProperty(Q)||G===q||G==null&&q==null||Jt(t,n,Q,G,l,q)}var d0=null,f0=null;function Hf(t){return t.nodeType===9?t:t.ownerDocument}function q1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V1(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function g0(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var p0=null;function ST(){var t=window.event;return t&&t.type==="popstate"?t===p0?!1:(p0=t,!0):(p0=null,!1)}var X1=typeof setTimeout=="function"?setTimeout:void 0,ET=typeof clearTimeout=="function"?clearTimeout:void 0,Y1=typeof Promise=="function"?Promise:void 0,wT=typeof queueMicrotask=="function"?queueMicrotask:typeof Y1<"u"?function(t){return Y1.resolve(null).then(t).catch(TT)}:X1;function TT(t){setTimeout(function(){throw t})}function Da(t){return t==="head"}function K1(t,n){var a=n,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var A=t.ownerDocument;if(a&1&&Pu(A.documentElement),a&2&&Pu(A.body),a&4)for(a=A.head,Pu(a),A=a.firstChild;A;){var w=A.nextSibling,D=A.nodeName;A[Qc]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&A.rel.toLowerCase()==="stylesheet"||a.removeChild(A),A=w}}if(d===0){t.removeChild(m),Gu(n);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Gu(n)}function m0(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":m0(a),_p(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function CT(t,n,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Qc])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function RT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Cn(t.nextSibling),t===null))return null;return t}function b0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function MT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Cn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var y0=null;function $1(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Q1(t,n,a){switch(n=Hf(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Pu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);_p(t)}var gn=new Map,W1=new Set;function Ff(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ls=V.d;V.d={f:DT,r:LT,D:NT,C:OT,L:kT,m:PT,X:zT,S:jT,M:HT};function DT(){var t=Ls.f(),n=Df();return t||n}function LT(t){var n=Wl(t);n!==null&&n.tag===5&&n.type==="form"?bA(n):Ls.r(t)}var No=typeof document>"u"?null:document;function Z1(t,n,a){var l=No;if(l&&typeof n=="string"&&n){var d=ln(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),W1.has(d)||(W1.add(d),t={rel:t,crossOrigin:a,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),ii(n,"link",t),Ge(n),l.head.appendChild(n)))}}function NT(t){Ls.D(t),Z1("dns-prefetch",t,null)}function OT(t,n){Ls.C(t,n),Z1("preconnect",t,n)}function kT(t,n,a){Ls.L(t,n,a);var l=No;if(l&&t&&n){var d='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+ln(a.imageSizes)+'"]')):d+='[href="'+ln(t)+'"]';var m=d;switch(n){case"style":m=Oo(t);break;case"script":m=ko(t)}gn.has(m)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),gn.set(m,t),l.querySelector(d)!==null||n==="style"&&l.querySelector(ju(m))||n==="script"&&l.querySelector(zu(m))||(n=l.createElement("link"),ii(n,"link",t),Ge(n),l.head.appendChild(n)))}}function PT(t,n){Ls.m(t,n);var a=No;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(t)}if(!gn.has(m)&&(t=b({rel:"modulepreload",href:t},n),gn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zu(m)))return}l=a.createElement("link"),ii(l,"link",t),Ge(l),a.head.appendChild(l)}}}function jT(t,n,a){Ls.S(t,n,a);var l=No;if(l&&t){var d=Zl(l).hoistableStyles,m=Oo(t);n=n||"default";var A=d.get(m);if(!A){var w={loading:0,preload:null};if(A=l.querySelector(ju(m)))w.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=gn.get(m))&&v0(t,a);var D=A=l.createElement("link");Ge(D),ii(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Uf(A,n,l)}A={type:"stylesheet",instance:A,count:1,state:w},d.set(m,A)}}}function zT(t,n){Ls.X(t,n);var a=No;if(a&&t){var l=Zl(a).hoistableScripts,d=ko(t),m=l.get(d);m||(m=a.querySelector(zu(d)),m||(t=b({src:t,async:!0},n),(n=gn.get(d))&&A0(t,n),m=a.createElement("script"),Ge(m),ii(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function HT(t,n){Ls.M(t,n);var a=No;if(a&&t){var l=Zl(a).hoistableScripts,d=ko(t),m=l.get(d);m||(m=a.querySelector(zu(d)),m||(t=b({src:t,async:!0,type:"module"},n),(n=gn.get(d))&&A0(t,n),m=a.createElement("script"),Ge(m),ii(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function J1(t,n,a,l){var d=(d=ct.current)?Ff(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Oo(a.href),a=Zl(d).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Oo(a.href);var m=Zl(d).hoistableStyles,A=m.get(t);if(A||(d=d.ownerDocument||d,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,A),(m=d.querySelector(ju(t)))&&!m._p&&(A.instance=m,A.state.loading=5),gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gn.set(t,a),m||FT(d,t,a,A.state))),n&&l===null)throw Error(s(528,""));return A}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ko(a),a=Zl(d).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Oo(t){return'href="'+ln(t)+'"'}function ju(t){return'link[rel="stylesheet"]['+t+"]"}function t_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function FT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ii(n,"link",a),Ge(n),t.head.appendChild(n))}function ko(t){return'[src="'+ln(t)+'"]'}function zu(t){return"script[async]"+t}function e_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return n.instance=l,Ge(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ge(l),ii(l,"style",d),Uf(l,a.precedence,t),n.instance=l;case"stylesheet":d=Oo(a.href);var m=t.querySelector(ju(d));if(m)return n.state.loading|=4,n.instance=m,Ge(m),m;l=t_(a),(d=gn.get(d))&&v0(l,d),m=(t.ownerDocument||t).createElement("link"),Ge(m);var A=m;return A._p=new Promise(function(w,D){A.onload=w,A.onerror=D}),ii(m,"link",l),n.state.loading|=4,Uf(m,a.precedence,t),n.instance=m;case"script":return m=ko(a.src),(d=t.querySelector(zu(m)))?(n.instance=d,Ge(d),d):(l=a,(d=gn.get(m))&&(l=b({},a),A0(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ge(d),ii(d,"link",l),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Uf(l,a.precedence,t));return n.instance}function Uf(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,A=0;A<l.length;A++){var w=l[A];if(w.dataset.precedence===n)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function v0(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function A0(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bf=null;function i_(t,n,a){if(Bf===null){var l=new Map,d=Bf=new Map;d.set(a,l)}else d=Bf,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Qc]||m[oi]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var A=m.getAttribute(n)||"";A=t+A;var w=l.get(A);w?w.push(m):l.set(A,[m])}}return l}function n_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function UT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function s_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Hu=null;function BT(){}function IT(t,n,a){if(Hu===null)throw Error(s(475));var l=Hu;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Oo(a.href),m=t.querySelector(ju(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=If.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=m,Ge(m);return}m=t.ownerDocument||t,a=t_(a),(d=gn.get(d))&&v0(a,d),m=m.createElement("link"),Ge(m);var A=m;A._p=new Promise(function(w,D){A.onload=w,A.onerror=D}),ii(m,"link",a),n.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=If.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function GT(){if(Hu===null)throw Error(s(475));var t=Hu;return t.stylesheets&&t.count===0&&_0(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&_0(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function If(){if(this.count--,this.count===0){if(this.stylesheets)_0(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gf=null;function _0(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gf=new Map,n.forEach(qT,t),Gf=null,If.call(t))}function qT(t,n){if(!(n.state.loading&4)){var a=Gf.get(t);if(a)var l=a.get(null);else{a=new Map,Gf.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var A=d[m];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),l=A)}l&&a.set(null,l)}d=n.instance,A=d.getAttribute("data-precedence"),m=a.get(A)||l,m===l&&a.set(null,d),a.set(A,d),this.count++,l=If.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var Fu={$$typeof:j,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function VT(t,n,a,l,d,m,A,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bp(0),this.hiddenUpdates=bp(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function a_(t,n,a,l,d,m,A,w,D,B,Y,Q){return t=new VT(t,n,a,A,w,D,B,Q),n=1,m===!0&&(n|=24),m=Bi(3,null,null,n),t.current=m,m.stateNode=t,n=im(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:n},rm(m),t}function r_(t){return t?(t=uo,t):uo}function l_(t,n,a,l,d,m){d=r_(d),l.context===null?l.context=d:l.pendingContext=d,l=ba(n),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ya(t,l,n),a!==null&&(Xi(a,t,n),pu(a,t,n))}function o_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function x0(t,n){o_(t,n),(t=t.alternate)&&o_(t,n)}function c_(t){if(t.tag===13){var n=co(t,67108864);n!==null&&Xi(n,t,67108864),x0(t,67108864)}}var qf=!0;function XT(t,n,a,l){var d=U.T;U.T=null;var m=V.p;try{V.p=2,S0(t,n,a,l)}finally{V.p=m,U.T=d}}function YT(t,n,a,l){var d=U.T;U.T=null;var m=V.p;try{V.p=8,S0(t,n,a,l)}finally{V.p=m,U.T=d}}function S0(t,n,a,l){if(qf){var d=E0(l);if(d===null)u0(t,n,l,Vf,a),h_(t,l);else if($T(d,t,n,a,l))l.stopPropagation();else if(h_(t,l),n&4&&-1<KT.indexOf(t)){for(;d!==null;){var m=Wl(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var A=vr(m.pendingLanes);if(A!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;A;){var D=1<<31-Ie(A);w.entanglements[1]|=D,A&=~D}$n(m),(Xt&6)===0&&(Rf=Je()+500,Nu(0))}}break;case 13:w=co(m,2),w!==null&&Xi(w,m,2),Df(),x0(m,2)}if(m=E0(l),m===null&&u0(t,n,l,Vf,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else u0(t,n,l,null,a)}}function E0(t){return t=Mp(t),w0(t)}var Vf=null;function w0(t){if(Vf=null,t=Ql(t),t!==null){var n=o(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=u(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vf=t,null}function u_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case kd:return 2;case Pd:return 8;case ms:case gp:return 32;case jd:return 268435456;default:return 32}default:return 32}}var T0=!1,La=null,Na=null,Oa=null,Uu=new Map,Bu=new Map,ka=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(t,n){switch(t){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Uu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(n.pointerId)}}function Iu(t,n,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},n!==null&&(n=Wl(n),n!==null&&c_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function $T(t,n,a,l,d){switch(n){case"focusin":return La=Iu(La,t,n,a,l,d),!0;case"dragenter":return Na=Iu(Na,t,n,a,l,d),!0;case"mouseover":return Oa=Iu(Oa,t,n,a,l,d),!0;case"pointerover":var m=d.pointerId;return Uu.set(m,Iu(Uu.get(m)||null,t,n,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Bu.set(m,Iu(Bu.get(m)||null,t,n,a,l,d)),!0}return!1}function d_(t){var n=Ql(t.target);if(n!==null){var a=o(n);if(a!==null){if(n=a.tag,n===13){if(n=u(a),n!==null){t.blockedOn=n,IE(t.priority,function(){if(a.tag===13){var l=Vi();l=yp(l);var d=co(a,l);d!==null&&Xi(d,a,l),x0(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xf(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=E0(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rp=l,a.target.dispatchEvent(l),Rp=null}else return n=Wl(a),n!==null&&c_(n),t.blockedOn=a,!1;n.shift()}return!0}function f_(t,n,a){Xf(t)&&a.delete(n)}function QT(){T0=!1,La!==null&&Xf(La)&&(La=null),Na!==null&&Xf(Na)&&(Na=null),Oa!==null&&Xf(Oa)&&(Oa=null),Uu.forEach(f_),Bu.forEach(f_)}function Yf(t,n){t.blockedOn===n&&(t.blockedOn=null,T0||(T0=!0,p.unstable_scheduleCallback(p.unstable_NormalPriority,QT)))}var Kf=null;function g_(t){Kf!==t&&(Kf=t,p.unstable_scheduleCallback(p.unstable_NormalPriority,function(){Kf===t&&(Kf=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],d=t[n+2];if(typeof l!="function"){if(w0(l||a)===null)continue;break}var m=Wl(a);m!==null&&(t.splice(n,3),n-=3,wm(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Gu(t){function n(D){return Yf(D,t)}La!==null&&Yf(La,t),Na!==null&&Yf(Na,t),Oa!==null&&Yf(Oa,t),Uu.forEach(n),Bu.forEach(n);for(var a=0;a<ka.length;a++){var l=ka[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ka.length&&(a=ka[0],a.blockedOn===null);)d_(a),a.blockedOn===null&&ka.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],A=d[Ci]||null;if(typeof m=="function")A||g_(a);else if(A){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,A=m[Ci]||null)w=A.formAction;else if(w0(d)!==null)continue}else w=A.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),g_(a)}}}function C0(t){this._internalRoot=t}$f.prototype.render=C0.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Vi();l_(a,l,t,n,null,null)},$f.prototype.unmount=C0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;l_(t.current,2,null,t,null,null),Df(),n[$l]=null}};function $f(t){this._internalRoot=t}$f.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ly();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ka.length&&n!==0&&n<ka[a].priority;a++);ka.splice(a,0,t),a===0&&d_(t)}};var p_=e.version;if(p_!=="19.1.0")throw Error(s(527,p_,"19.1.0"));V.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=f(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var WT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{yr=Qf.inject(WT),Ce=Qf}catch{}}return Vu.createRoot=function(t,n){if(!r(t))throw Error(s(299));var a=!1,l="",d=LA,m=NA,A=OA,w=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks)),n=a_(t,1,!1,null,null,a,l,d,m,A,w,null),t[$l]=n.current,c0(t),new C0(n)},Vu.hydrateRoot=function(t,n,a){if(!r(t))throw Error(s(299));var l=!1,d="",m=LA,A=NA,w=OA,D=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=a_(t,1,!0,n,a??null,l,d,m,A,w,D,B),n.context=r_(null),a=n.current,l=Vi(),l=yp(l),d=ba(l),d.callback=null,ya(a,d,l),a=l,n.current.lanes=a,$c(n,a),$n(n),t[$l]=n.current,c0(t),new $f(n)},Vu.version="19.1.0",Vu}var T_;function u2(){if(T_)return L0.exports;T_=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(e){console.error(e)}}return p(),L0.exports=c2(),L0.exports}var h2=u2();/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=p=>p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f2=p=>p.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),C_=p=>{const e=f2(p);return e.charAt(0).toUpperCase()+e.slice(1)},ux=(...p)=>p.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),g2=p=>{for(const e in p)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=it.forwardRef(({color:p="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:u,...h},f)=>it.createElement("svg",{ref:f,...p2,width:e,height:e,stroke:p,strokeWidth:s?Number(i)*24/Number(e):i,className:ux("lucide",r),...!o&&!g2(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,b])=>it.createElement(g,b)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(p,e)=>{const i=it.forwardRef(({className:s,...r},o)=>it.createElement(m2,{ref:o,iconNode:e,className:ux(`lucide-${d2(C_(p))}`,`lucide-${p}`,s),...r}));return i.displayName=C_(p),i};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],y2=me("award",b2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],R_=me("brain",v2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],_2=me("briefcase",A2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hx=me("calendar",x2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],E2=me("cloud",S2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],M_=me("code",w2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],D_=me("database",T2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],R2=me("download",C2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],dx=me("external-link",M2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],fx=me("github",D2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],gx=me("linkedin",L2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cy=me("mail",N2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],px=me("map-pin",O2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],P2=me("menu",k2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],z2=me("palette",j2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],F2=me("phone",H2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],B2=me("rotate-cw",U2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],G2=me("star",I2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],V2=me("users",q2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mx=me("x",X2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],L_=me("wrench",Y2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],$2=me("zoom-in",K2);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],W2=me("zoom-out",Q2);function Z2({activeSection:p,setActiveSection:e,onResumeClick:i}){const[s,r]=it.useState(!1),[o,u]=it.useState(!1),h=[{id:"home",label:"Home"},{id:"experience",label:"Experience"},{id:"projects",label:"Projects"},{id:"skills",label:"Skills"},{id:"contact",label:"Contact"}];it.useEffect(()=>{const g=()=>{u(window.scrollY>50);const b=h.map(E=>{const C=document.getElementById(E.id);if(!C)return{id:E.id,top:0,bottom:0};const L=C.getBoundingClientRect();return{id:E.id,top:L.top+window.scrollY,bottom:L.bottom+window.scrollY,height:L.height}}),y=window.scrollY+100;for(const E of b)if(y>=E.top&&y<E.bottom){p!==E.id&&e(E.id);break}const v=window.innerHeight,_=document.body.scrollHeight;if(window.scrollY+v>=_-50){const E=h[h.length-1].id;p!==E&&e(E)}};return window.addEventListener("scroll",g),g(),()=>{window.removeEventListener("scroll",g)}},[p,e,h]);const f=g=>{e(g),r(!1);const b=document.getElementById(g);b&&b.scrollIntoView({behavior:"smooth"})};return R.jsx("header",{className:`fixed top-0 left-0 right-0 transition-all duration-300 z-50 ${o?"bg-white/90 backdrop-blur-md shadow-sm":"bg-white/70 backdrop-blur-sm"} border-b border-gray-200`,children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[R.jsxs("div",{className:"flex justify-between items-center py-4",children:[R.jsx("button",{onClick:i,className:"cursor-pointer text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105",children:"Resume"}),R.jsx("nav",{className:"hidden md:flex space-x-4",children:h.map(g=>R.jsx("button",{onClick:()=>f(g.id),className:`px-4 py-2 cursor-pointer rounded-lg text-base font-medium transition-all duration-300 ${p===g.id?"bg-gradient-to-r from-blue-600/10 to-purple-600/10 text-blue-600 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:g.label},g.id))}),R.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>r(!s),"aria-label":s?"Close menu":"Open menu",children:s?R.jsx(mx,{size:24}):R.jsx(P2,{size:24})})]}),s&&R.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 animate-fadeIn",children:R.jsx("nav",{className:"flex flex-col space-y-2",children:h.map(g=>R.jsx("button",{onClick:()=>f(g.id),className:`px-4 py-3 rounded-lg text-left text-sm font-medium transition-all duration-300 ${p===g.id?"bg-gradient-to-r from-blue-600/10 to-purple-600/10 text-blue-600":"text-gray-700 hover:bg-gray-100"}`,children:g.label},g.id))})})]})})}function J2(){const p=it.useRef(null);return it.useEffect(()=>{const e=p.current;if(!e)return;const i=e.getContext("2d");if(!i)return;const s=()=>{e.width=window.innerWidth,e.height=window.innerHeight};s(),window.addEventListener("resize",s);const r=[];for(let u=0;u<50;u++)r.push({x:Math.random()*e.width,y:Math.random()*e.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*2+1,opacity:Math.random()*.5+.2});const o=()=>{i.clearRect(0,0,e.width,e.height),r.forEach((u,h)=>{u.x+=u.vx,u.y+=u.vy,(u.x<0||u.x>e.width)&&(u.vx*=-1),(u.y<0||u.y>e.height)&&(u.vy*=-1),i.beginPath(),i.arc(u.x,u.y,u.size,0,Math.PI*2),i.fillStyle=`rgba(59, 130, 246, ${u.opacity})`,i.fill(),r.slice(h+1).forEach(f=>{const g=u.x-f.x,b=u.y-f.y,y=Math.sqrt(g*g+b*b);y<100&&(i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(f.x,f.y),i.strokeStyle=`rgba(59, 130, 246, ${.1*(1-y/100)})`,i.stroke())})}),requestAnimationFrame(o)};return o(),()=>{window.removeEventListener("resize",s)}},[]),R.jsx("canvas",{ref:p,className:"absolute inset-0 pointer-events-none",style:{zIndex:1}})}function ep(p=.1){const[e,i]=it.useState(!1),s=it.useRef(null);return it.useEffect(()=>{const r=new IntersectionObserver(([o])=>{o.isIntersecting&&i(!0)},{threshold:p});return s.current&&r.observe(s.current),()=>{s.current&&r.unobserve(s.current)}},[p]),{ref:s,isVisible:e}}function tC(){const{ref:p,isVisible:e}=ep();return R.jsxs("section",{id:"home",className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 pt-16 relative overflow-hidden",children:[R.jsx(J2,{}),R.jsxs("div",{className:"absolute inset-0 overflow-hidden",style:{zIndex:2},children:[R.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse"}),R.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-pink-400/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),R.jsx("div",{ref:p,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:R.jsxs("div",{className:"max-w-3xl mx-auto",children:[R.jsx("div",{className:`transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:R.jsx("div",{className:"relative mb-8 flex justify-center",children:R.jsxs("div",{className:"relative",children:[R.jsx("img",{src:"/files/Abdullah.jpeg",alt:"Profile",className:"w-64 h-64 rounded-full border-4 border-white shadow-2xl hover:scale-110 transition-transform duration-300 relative z-10"}),R.jsx("div",{className:"absolute inset-0 w-64 h-64 rounded-full border-4 border-blue-400 animate-ping opacity-20"})]})})}),R.jsx("div",{className:`transition-all duration-1000 delay-200 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:R.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Hi, I'm"," ",R.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 animate-gradient",children:"Abdullah Goher"})]})}),R.jsx("div",{className:`transition-all duration-1000 delay-400 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:R.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8",children:R.jsx("span",{className:"inline-block animate-typewriter",children:"Junior at University of Pennsylvania"})})}),R.jsx("div",{className:`transition-all duration-1000 delay-600 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:R.jsxs("p",{className:"text-lg text-gray-700 mb-12 max-w-2xl mx-auto",children:["Studying Computer Information Science. ",R.jsx("br",{}),"Passionate about Software Development, machine learning, and creating impact through technology."]})}),R.jsx("div",{className:`transition-all duration-1000 delay-800 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:R.jsx("div",{className:"flex justify-center space-x-6 mb-12",children:[{icon:fx,href:"https://github.com/Abdullah3245",delay:"0ms"},{icon:gx,href:"https://www.linkedin.com/in/abdullah-goher-801ba227b/",delay:"100ms"},{icon:cy,href:"mailto:mgoher@seas.upenn.edu",delay:"200ms"}].map(({icon:i,href:s,delay:r},o)=>R.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-white/80 backdrop-blur-sm rounded-full shadow-lg hover:shadow-2xl hover:scale-110 transition-all duration-300 group",style:{animationDelay:r},children:R.jsx(i,{size:24,className:"text-gray-700 group-hover:text-blue-600 transition-colors"})},o))})}),R.jsx("div",{className:`transition-all duration-1000 delay-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:R.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[R.jsx("button",{onClick:()=>{var i;return(i=document.getElementById("projects"))==null?void 0:i.scrollIntoView({behavior:"smooth"})},className:"cursor-pointer px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl",children:"View My Work"}),R.jsx("a",{href:"/files/Abdullah_resume.docx",download:"Abdullah_resume",target:"_blank",rel:"noreferrer"})]})})]})})]})}function eC(){const{ref:p,isVisible:e}=ep(),i=[{title:"Programming Languages",icon:M_,color:"from-blue-500 to-blue-600",skills:["Python","JavaScript","TypeScript","Java","SQL"]},{title:"Frontend Development",icon:z2,color:"from-purple-500 to-purple-600",skills:["React","Vite","HTML/CSS","Tailwind CSS","Redux","Figma"]},{title:"Backend & Databases",icon:D_,color:"from-green-500 to-green-600",skills:["Node.js","Express","Django","MongoDB","PostgreSQL","DuckDB"]},{title:"Machine Learning & AI",icon:R_,color:"from-orange-500 to-red-600",skills:["PyTorch","TensorFlow","Scikit-Learn","XGBoost","Computer Vision","NLP"]},{title:"Data Science & Analytics",icon:D_,color:"from-teal-500 to-cyan-600",skills:["Pandas","NumPy","Matplotlib","Data Analysis","Statistical Modeling","Feature Engineering"]},{title:"Tools & Technologies",icon:L_,color:"from-gray-600 to-gray-700",skills:["Git","Docker","AWS","Cypress","JUnit","Chrome Extensions","Web Scraping"]}];return R.jsxs("section",{id:"skills",className:"py-20 bg-white relative overflow-hidden",children:[R.jsxs("div",{className:"absolute inset-0",children:[R.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-br from-blue-200/30 to-purple-200/30 rounded-full blur-xl animate-pulse"}),R.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-24 h-24 bg-gradient-to-br from-indigo-200/30 to-pink-200/30 rounded-full blur-xl animate-pulse delay-1000"})]}),R.jsxs("div",{ref:p,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[R.jsxs("div",{className:`text-center mb-16 transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Skills & Technologies"}),R.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Technologies and tools I use to build impactful solutions"})]}),R.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((s,r)=>R.jsxs("div",{className:`bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 hover:shadow-2xl transition-all duration-500 transform hover:scale-105 border border-gray-100 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${r*150}ms`},children:[R.jsxs("div",{className:"flex items-center mb-6",children:[R.jsx("div",{className:`p-3 bg-gradient-to-r ${s.color} rounded-lg shadow-lg mr-4`,children:R.jsx(s.icon,{className:"text-white",size:24})}),R.jsx("h3",{className:"text-xl font-bold text-gray-900",children:s.title})]}),R.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((o,u)=>R.jsx("span",{className:`px-3 py-2 bg-gradient-to-r ${s.color} text-white text-sm rounded-lg shadow-sm hover:shadow-md transition-all duration-300 transform hover:scale-105 cursor-default ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transitionDelay:`${r*150+u*50}ms`},children:o},o))})]},s.title))}),R.jsxs("div",{className:`mt-16 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 transition-all duration-1000 delay-800 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Technical Expertise"}),R.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto",children:"My technical stack spans across full-stack development, machine learning, and data science, enabling me to build end-to-end solutions from research to production."})]}),R.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{number:"7+",label:"Programming Languages",icon:M_},{number:"15+",label:"Frameworks & Libraries",icon:L_},{number:"5+",label:"ML/AI Technologies",icon:R_},{number:"10+",label:"Development Tools",icon:E2}].map((s,r)=>R.jsxs("div",{className:"text-center p-4 bg-white/60 backdrop-blur-sm rounded-lg hover:bg-white/80 transition-all duration-300 transform hover:scale-105",children:[R.jsx("div",{className:"flex justify-center mb-2",children:R.jsx(s.icon,{className:"text-blue-600",size:24})}),R.jsx("div",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 mb-1",children:s.number}),R.jsx("div",{className:"text-gray-600 text-sm font-medium",children:s.label})]},r))})]}),R.jsxs("div",{className:`mt-12 transition-all duration-1000 delay-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[R.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6 text-center",children:"Current Focus Areas"}),R.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:["Computer Vision","Full-Stack Development","Data Science","Research & Development","Machine Learning Engineering","Web Scraping & Automation"].map((s,r)=>R.jsx("span",{className:`px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transitionDelay:`${1e3+r*100}ms`},children:s},s))})]})]})]})}const iC=[{title:"AlumniConnectAI",description:"Alumni can be a great help for current students. AlumniConnectAI allows you to effectively scrape alumni information and connect with them through an intelligent matching system.",image:"./files/AlumniConnectAI.png",technologies:["Vite + React","Web Scraping","Chrome Extension","Stripe"],liveUrl:"https://alumniconnectai.lovable.app/",githubUrl:"https://github.com/Abdullah3245/AlumniConnectAI?tab=readme-ov-file",gradient:"from-blue-500 to-purple-600",category:"Full Stack",status:"Live",highlights:["Chrome extension for seamless LinkedIn integration","Stripe payment processing for premium features","AI-powered alumni matching algorithm"]},{title:"J to RISC-V Compiler",description:"Designed and implemented a compiler (jc) to translate programs written in a stack-oriented language (J) into RISC-V assembly code with full interoperability support.",image:"/files/image.png",technologies:["C","RISC-V Assembly","Compiler Design","Token Parsing"],liveUrl:"#",githubUrl:"#",gradient:"from-purple-500 to-indigo-600",category:"Systems Programming",status:"Completed",highlights:["Token parsing system with modular design (token.h/token.c)","RISC-V assembly generation for arithmetic and logical operations","Standard calling conventions for Clang interoperability"]},{title:"Steam Data Analysis",description:"Collaborated on a comprehensive analysis of Steam dataset with 12M+ records and 90,000+ games to predict game success rates before release using advanced machine learning techniques.",image:"./files/SteamDataSet.png",technologies:["Pandas","Scikit-Learn","Matplotlib","DuckDB","XGBoost"],liveUrl:"https://colab.research.google.com/drive/1hapeUwkCeNfUn-uXfLU99tli3u7seR_M?usp=sharing",githubUrl:"https://github.com/Abdullah3245/Steam_Data_Analysis",gradient:"from-green-500 to-teal-600",category:"Data Science",status:"Completed",highlights:["Processed 12M+ records with advanced data cleaning","Achieved 85%+ accuracy with XGBoost and Random Forest","Comprehensive feature engineering and hyperparameter tuning"]},{title:"Twitter Bot with Markov Chains",description:"Developed a machine learning model to generate tweets using Markov chain algorithms for statistical word sequence calculation, ensuring coherent and contextually relevant content generation.",image:"/files/twitterbot.jpeg",technologies:["Java","Markov Chains","JUnit","Machine Learning"],liveUrl:"#",githubUrl:"https://github.com/Abdullah3245/TwitterBot",gradient:"from-orange-500 to-red-600",category:"Machine Learning",status:"Completed",highlights:["Markov chain algorithm for statistical word sequence calculation","Comprehensive testing and fine-tuning with 90% code coverage","Enhanced engagement through coherent tweet generation"]}],nC=()=>R.jsx("section",{id:"projects",className:"py-12",children:R.jsxs("div",{className:"container mx-auto text-center",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"Featured Projects"}),R.jsx("p",{className:"text-gray-600 mb-8",children:"Here are some of the projects I've worked on:"}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:iC.map((p,e)=>R.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[R.jsx("img",{src:p.image||"/placeholder.svg",alt:p.title,className:"w-full h-48 object-cover"}),R.jsxs("div",{className:"p-4",children:[R.jsx("h3",{className:"text-xl font-semibold mb-2",children:p.title}),R.jsx("p",{className:"text-gray-700 mb-4",children:p.description}),R.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:p.technologies.map((i,s)=>R.jsx("span",{className:"bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700",children:i},s))}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("a",{href:p.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Live Demo"}),R.jsx("a",{href:p.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"GitHub"})]})]})]},e))}),R.jsxs("div",{className:"mt-12",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Stats"}),R.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{number:"4+",label:"Featured Projects",icon:G2},{number:"2",label:"Live Applications",icon:dx},{number:"90%+",label:"Code Coverage",icon:V2},{number:"12M+",label:"Records Processed",icon:hx}].map((p,e)=>R.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 flex flex-col items-center",children:[R.jsx(p.icon,{className:"h-6 w-6 text-gray-500 mb-2"}),R.jsx("div",{className:"text-xl font-bold",children:p.number}),R.jsx("div",{className:"text-gray-600",children:p.label})]},e))})]})]})});function sC(){const{ref:p,isVisible:e}=ep();return R.jsxs("section",{id:"contact",className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50 relative overflow-hidden",children:[R.jsxs("div",{className:"absolute inset-0",children:[R.jsx("div",{className:"absolute top-1/3 right-1/3 w-28 h-28 bg-gradient-to-br from-blue-200/40 to-purple-200/40 rounded-full blur-xl animate-pulse"}),R.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-20 h-20 bg-gradient-to-br from-indigo-200/40 to-pink-200/40 rounded-full blur-xl animate-pulse delay-1000"})]}),R.jsxs("div",{ref:p,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[R.jsxs("div",{className:`text-center mb-16 transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Get In Touch"}),R.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"I'm always open to discussing new opportunities and interesting projects"})]}),R.jsx("div",{className:"max-w-lg mx-auto",children:R.jsxs("div",{className:`transition-all duration-1000 delay-200 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[R.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Let's Connect"}),R.jsx("div",{className:"space-y-6",children:[{icon:cy,title:"Email",info:"mgoher@seas.upenn.edu",color:"from-blue-500 to-blue-600",action:()=>window.open("https://mail.google.com/mail/?view=cm&fs=1&to=mgoher@seas.upenn.edu","_blank")},{icon:F2,title:"Phone",info:"+1 (215) 578-1132",color:"from-green-500 to-green-600",action:()=>window.open("tel:+12155781132","_blank")},{icon:px,title:"Location",info:"Philadelphia, PA",color:"from-purple-500 to-purple-600",action:()=>window.open("https://maps.google.com/?q=Philadelphia,PA","_blank")}].map(({icon:i,title:s,info:r,color:o,action:u},h)=>R.jsxs("div",{onClick:u,className:`flex items-center space-x-4 group transition-all duration-300 delay-${h*100} cursor-pointer hover:bg-white/50 p-4 rounded-lg ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[R.jsx("div",{className:`p-3 bg-gradient-to-r ${o} rounded-lg shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300 flex-shrink-0`,children:R.jsx(i,{className:"text-white",size:24})}),R.jsxs("div",{className:"flex-1",children:[R.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors text-lg",children:s}),R.jsx("p",{className:"text-gray-600",children:r})]})]},h))}),R.jsx("div",{className:"mt-8 text-center",children:R.jsx("button",{onClick:()=>window.open("https://mail.google.com/mail/?view=cm&fs=1&to=mgoher@seas.upenn.edu","_blank"),className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Send Quick Email"})})]})})]})]})}function aC(){return R.jsx("footer",{className:"bg-gray-900 text-white py-12",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[R.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[R.jsxs("div",{className:"mb-6 md:mb-0",children:[R.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Abdullah Goher"}),R.jsx("p",{className:"text-gray-400",children:"Junior at University of Pennsylvania"})]}),R.jsxs("div",{className:"flex space-x-6",children:[R.jsx("a",{href:"https://github.com/Abdullah3245",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:R.jsx(fx,{size:24})}),R.jsx("a",{href:"https://www.linkedin.com/in/abdullah-goher-801ba227b/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:R.jsx(gx,{size:24})}),R.jsx("a",{href:"mailto:mgoher@seas.upenn.edu",className:"text-gray-400 hover:text-white transition-colors",children:R.jsx(cy,{size:24})})]})]}),R.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:R.jsxs("p",{className:"text-gray-400",children:[" ",new Date().getFullYear()," Abdullah Goher. All rights reserved."]})})]})})}function rC(){const{ref:p,isVisible:e}=ep(),[i,s]=it.useState(null),r=[{title:"Research Assistant",company:"Computational Social Science Lab",location:"Philadelphia, PA",period:"05/2025 - Present",type:"Full-time",description:"Working under Post Doc student Pacco Barreras to assist them with their research on human mobility data.",achievements:["Developing a full stack React app which serves as the hub of human mobility data using version control","Implemented extensive testing with 90% code coverage using Cypress","Set up a backend with a MongoDB NoSQL database to store literature related to human mobility data","Assisted in the development of algorithms related to human mobility data"],technologies:["React","Node.js","NoSQL","Cypress","Git"],website:"https://css.seas.upenn.edu/",color:"from-blue-500 to-indigo-600",icon:"research"},{title:"Frontend Developer",company:"Children's Hospital of Philadelphia",location:"Philadelphia, PA",period:"11/2024 - Present",type:"Part-time",description:"Assisted the development of a full stack application working under a Professor at CHOP. Collaborated with a team of 8 people including backend developers and UX/UI designers to create intuitive user experiences.",achievements:["Implemented a secure login using JWT with HttpOnly cookie to protect user info and prevent script attacks","Designed and optimized user interfaces using React-Redux and Tailwind, including a responsive dashboard and data entry forms (editing, deleting, and new entries) to streamline workflows for researchers and clinicians"],technologies:["Vite + React","JavaScript","MongoDB","Django","Figma","Git"],website:"https://www.research.chop.edu/people/birkan-tunc",color:"from-green-500 to-teal-600",icon:"frontend"},{title:"Machine Learning Engineer",company:"Penn Assistive Devices and Prosthetic Technologies",location:"Philadelphia, PA",period:"09/2024 - Present",type:"Full-time",description:"Addressing surgical precision challenges by developing automated tool tracking systems to replace manual counting by nurses during procedures.",achievements:["Developing YOLOv11 and Segment Anything computer vision models to accurately distinguish between surgical tools","Worked with surgeons at Penn Medicine to curate a custom dataset for extensive model training","Trained YOLOv11 deep CNN model on 10,000+ images using custom + Kaggle datasets, achieving 90% accuracy in detecting and classifying surgical tools across varying angles"],technologies:["YOLOv11","Computer Vision","PyTorch","TensorFlow","CUDA"],website:"https://pennadapt.wixsite.com/pennadapt",color:"from-purple-500 to-pink-600",icon:"ml"},{title:"Machine Learning Engineer Intern",company:"Clab AI",location:"Nashville, TN",period:"05/2024 - 08/2024",type:"Full-time",description:"Contributed to the development of an AI platform aimed at assisting students with their university applications, currently used by hundreds of students.",achievements:["Performed exploratory data analysis on data from over 100 universities using Pandas, NumPy, and Matplotlib to identify trends in financial aid distribution and accessibility","Trained Random Forest and Linear Regression models to predict financial aid eligibility for incoming students, with hyperparameter tuning and optimization","Assisted in training the AI co-pilot using reinforcement learning through human feedback"],technologies:["Machine Learning","Data Engineering","Data Analysis","Reinforcement Learning"],website:"https://clabapp.ai/signin",color:"from-orange-500 to-red-600",icon:"intern"}],o=[{number:"1+",label:"Years Experience"},{number:"4",label:"Organizations"},{number:"5+",label:"Projects Delivered"},{number:"10+",label:"Technologies Used"}],u=h=>{switch(h){case"research":return R.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600",children:[R.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),R.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})});case"frontend":return R.jsx("div",{className:"p-2 rounded-full bg-green-100",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600",children:[R.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),R.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),R.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]})});case"ml":return R.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-purple-600",children:[R.jsx("path",{d:"M12 2v8"}),R.jsx("path",{d:"m4.93 10.93 1.41 1.41"}),R.jsx("path",{d:"M2 18h2"}),R.jsx("path",{d:"M20 18h2"}),R.jsx("path",{d:"m19.07 10.93-1.41 1.41"}),R.jsx("path",{d:"M22 22H2"}),R.jsx("path",{d:"m16 6-4 4-4-4"}),R.jsx("path",{d:"M16 18a4 4 0 0 0-8 0"})]})});case"intern":return R.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-orange-600",children:[R.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),R.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]})});default:return R.jsx(_2,{className:"text-blue-600"})}};return R.jsxs("section",{id:"experience",className:"py-20 bg-gradient-to-br from-gray-50 to-indigo-50 relative overflow-hidden",children:[R.jsxs("div",{className:"absolute inset-0",children:[R.jsx("div",{className:"absolute top-1/4 right-1/4 w-40 h-40 bg-gradient-to-br from-blue-200/30 to-purple-200/30 rounded-full blur-2xl animate-float"}),R.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-32 h-32 bg-gradient-to-br from-indigo-200/30 to-pink-200/30 rounded-full blur-2xl animate-float-delayed"})]}),R.jsxs("div",{ref:p,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[R.jsxs("div",{className:`text-center mb-16 transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Professional Experience"}),R.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"My journey through research, development, and machine learning"})]}),R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"absolute left-4 md:left-1/2 transform md:-translate-x-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-500 to-purple-600"}),R.jsx("div",{className:"space-y-12",children:r.map((h,f)=>R.jsxs("div",{className:`relative transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${f*200}ms`},onMouseEnter:()=>s(f),onMouseLeave:()=>s(null),children:[R.jsx("div",{className:`absolute left-2 md:left-1/2 transform md:-translate-x-1/2 w-4 h-4 bg-gradient-to-r ${h.color} rounded-full border-4 border-white shadow-lg z-10 ${i===f?"animate-pulse":""}`}),R.jsx("div",{className:`ml-12 md:ml-0 ${f%2===0?"md:pr-1/2 md:text-right":"md:pl-1/2 md:ml-8"}`,children:R.jsxs("div",{className:`bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 hover:shadow-2xl transition-all duration-300 transform hover:scale-105 group border-l-4 ${h.color.includes("blue")?"border-blue-500":h.color.includes("green")?"border-green-500":h.color.includes("purple")?"border-purple-500":"border-orange-500"}`,children:[R.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[u(h.icon),R.jsxs("div",{children:[R.jsx("h3",{className:"text-xl text-left font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:h.title}),R.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mt-1",children:[R.jsx("span",{className:"font-semibold",children:h.company}),R.jsx("span",{children:""}),R.jsx("span",{className:"text-sm",children:h.type})]})]})]}),R.jsxs("a",{href:h.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-left hover:text-blue-800 transition-colors mt-2 md:mt-0 flex items-center gap-1 group-hover:underline",children:[R.jsx("span",{className:"text-sm",children:"Visit"}),R.jsx(dx,{size:14})]})]}),R.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4 bg-gray-50 p-2 rounded-md",children:[R.jsxs("div",{className:"flex items-center space-x-1",children:[R.jsx(hx,{size:14,className:"text-blue-500"}),R.jsx("span",{children:h.period})]}),R.jsxs("div",{className:"flex items-center space-x-1",children:[R.jsx(px,{size:14,className:"text-blue-500"}),R.jsx("span",{children:h.location})]})]}),R.jsx("p",{className:"text-left text-gray-700 mb-4 leading-relaxed",children:h.description}),R.jsxs("div",{className:"mb-4",children:[R.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[R.jsx(y2,{size:16,className:"mr-2 text-blue-500"}),"Key Achievements:"]}),R.jsx("ul",{className:"space-y-2",children:h.achievements.map((g,b)=>R.jsxs("li",{className:"text-left text-gray-700 text-sm flex items-start bg-gray-50 p-2 rounded-md hover:bg-gray-100 transition-colors",children:[R.jsx("span",{className:"text-left text-blue-500 mr-2 mt-1",children:""}),g]},b))})]}),R.jsx("div",{className:"flex flex-wrap gap-2",children:h.technologies.map((g,b)=>R.jsx("span",{className:`px-3 py-1 bg-gradient-to-r ${h.color} text-white text-xs rounded-full opacity-80 hover:opacity-100 transition-all transform hover:scale-105 hover:shadow-md`,style:{transitionDelay:`${b*50}ms`},children:g},g))})]})})]},f))})]}),R.jsx("div",{className:`mt-16 grid grid-cols-2 md:grid-cols-4 gap-6 transition-all duration-1000 delay-800 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:o.map((h,f)=>R.jsxs("div",{className:"text-center p-6 bg-white/80 backdrop-blur-sm rounded-lg hover:bg-white/90 transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg border border-gray-100",children:[R.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 mb-2",children:h.number}),R.jsx("div",{className:"text-gray-600 text-sm font-medium",children:h.label})]},f))})]})]})}const lC="modulepreload",oC=function(p,e){return new URL(p,e).href},N_={},Wf=function(e,i,s){let r=Promise.resolve();if(i&&i.length>0){let u=function(b){return Promise.all(b.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const h=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));r=u(i.map(b=>{if(b=oC(b,s),b in N_)return;N_[b]=!0;const y=b.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(!!s)for(let C=h.length-1;C>=0;C--){const L=h[C];if(L.href===b&&(!y||L.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${v}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":lC,y||(E.as="script"),E.crossOrigin="",E.href=b,g&&E.setAttribute("nonce",g),document.head.appendChild(E),y)return new Promise((C,L)=>{E.addEventListener("load",C),E.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${b}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return r.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};var hh={};hh.d=(p,e)=>{for(var i in e)hh.o(e,i)&&!hh.o(p,i)&&Object.defineProperty(p,i,{enumerable:!0,get:e[i]})};hh.o=(p,e)=>Object.prototype.hasOwnProperty.call(p,e);var Tt=globalThis.pdfjsLib={};hh.d(Tt,{AbortException:()=>Yl,AnnotationEditorLayer:()=>Jb,AnnotationEditorParamsType:()=>xt,AnnotationEditorType:()=>Mt,AnnotationEditorUIManager:()=>Bl,AnnotationLayer:()=>rM,AnnotationMode:()=>Ha,ColorPicker:()=>jg,DOMSVGFactory:()=>_y,DrawLayer:()=>ny,FeatureTest:()=>Ei,GlobalWorkerOptions:()=>la,ImageKind:()=>ng,InvalidPDFException:()=>yx,MissingPDFException:()=>Xl,OPS:()=>Mn,OutputScale:()=>X0,PDFDataRangeTransport:()=>gS,PDFDateString:()=>gy,PDFWorker:()=>Vo,PasswordResponses:()=>dC,PermissionFlag:()=>hC,PixelsPerInch:()=>dr,RenderingCancelledException:()=>dy,TextLayer:()=>Ab,UnexpectedResponseException:()=>ap,Util:()=>dt,VerbosityLevel:()=>ip,XfaLayer:()=>mS,build:()=>UR,createValidAbsoluteUrl:()=>mC,fetchData:()=>lp,getDocument:()=>LR,getFilenameFromUrl:()=>wC,getPdfFilenameFromUrl:()=>TC,getXfaPageViewport:()=>CC,isDataScheme:()=>op,isPdfFile:()=>fy,noContextMenu:()=>En,normalizeUnicode:()=>xC,setLayerDimensions:()=>Ul,shadow:()=>Ft,version:()=>FR});const yi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),bx=[1,0,0,1,0,0],I0=[.001,0,0,.001,0,0],cC=1e7,P0=1.35,nn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ha={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},uC="pdfjs_internal_editor_",Mt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},xt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},hC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},hi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ng={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Xu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ip={ERRORS:0,WARNINGS:1,INFOS:5},Mn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},dC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let np=ip.WARNINGS;function fC(p){Number.isInteger(p)&&(np=p)}function gC(){return np}function sp(p){np>=ip.INFOS&&console.log(`Info: ${p}`)}function Nt(p){np>=ip.WARNINGS&&console.log(`Warning: ${p}`)}function le(p){throw new Error(p)}function Fe(p,e){p||le(e)}function pC(p){switch(p==null?void 0:p.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function mC(p,e=null,i=null){if(!p)return null;try{if(i&&typeof p=="string"){if(i.addDefaultProtocol&&p.startsWith("www.")){const r=p.match(/\./g);(r==null?void 0:r.length)>=2&&(p=`http://${p}`)}if(i.tryConvertEncoding)try{p=_C(p)}catch{}}const s=e?new URL(p,e):new URL(p);if(pC(s))return s}catch{}return null}function Ft(p,e,i,s=!1){return Object.defineProperty(p,e,{value:i,enumerable:!s,configurable:!0,writable:!1}),i}const mr=function(){function e(i,s){this.message=i,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class G0 extends mr{constructor(e,i){super(e,"PasswordException"),this.code=i}}class q0 extends mr{constructor(e,i){super(e,"UnknownErrorException"),this.details=i}}class yx extends mr{constructor(e){super(e,"InvalidPDFException")}}class Xl extends mr{constructor(e){super(e,"MissingPDFException")}}class ap extends mr{constructor(e,i){super(e,"UnexpectedResponseException"),this.status=i}}class bC extends mr{constructor(e){super(e,"FormatError")}}class Yl extends mr{constructor(e){super(e,"AbortException")}}function vx(p){(typeof p!="object"||(p==null?void 0:p.length)===void 0)&&le("Invalid argument for bytesToString");const e=p.length,i=8192;if(e<i)return String.fromCharCode.apply(null,p);const s=[];for(let r=0;r<e;r+=i){const o=Math.min(r+i,e),u=p.subarray(r,o);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function rp(p){typeof p!="string"&&le("Invalid argument for stringToBytes");const e=p.length,i=new Uint8Array(e);for(let s=0;s<e;++s)i[s]=p.charCodeAt(s)&255;return i}function yC(p){return String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,p&255)}function uy(p){const e=Object.create(null);for(const[i,s]of p)e[i]=s;return e}function vC(){const p=new Uint8Array(4);return p[0]=1,new Uint32Array(p.buffer,0,1)[0]===1}function AC(){try{return new Function(""),!0}catch{return!1}}class Ei{static get isLittleEndian(){return Ft(this,"isLittleEndian",vC())}static get isEvalSupported(){return Ft(this,"isEvalSupported",AC())}static get isOffscreenCanvasSupported(){return Ft(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ft(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ft(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,i;return Ft(this,"isCSSRoundSupported",(i=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:i.call(e,"width: round(1.5px, 1px)"))}}const j0=Array.from(Array(256).keys(),p=>p.toString(16).padStart(2,"0"));var ca,sg,V0;class dt{static makeHexColor(e,i,s){return`#${j0[e]}${j0[i]}${j0[s]}`}static scaleMinMax(e,i){let s;e[0]?(e[0]<0&&(s=i[0],i[0]=i[2],i[2]=s),i[0]*=e[0],i[2]*=e[0],e[3]<0&&(s=i[1],i[1]=i[3],i[3]=s),i[1]*=e[3],i[3]*=e[3]):(s=i[0],i[0]=i[1],i[1]=s,s=i[2],i[2]=i[3],i[3]=s,e[1]<0&&(s=i[1],i[1]=i[3],i[3]=s),i[1]*=e[1],i[3]*=e[1],e[2]<0&&(s=i[0],i[0]=i[2],i[2]=s),i[0]*=e[2],i[2]*=e[2]),i[0]+=e[4],i[1]+=e[5],i[2]+=e[4],i[3]+=e[5]}static transform(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}static applyTransform(e,i){const s=e[0]*i[0]+e[1]*i[2]+i[4],r=e[0]*i[1]+e[1]*i[3]+i[5];return[s,r]}static applyInverseTransform(e,i){const s=i[0]*i[3]-i[1]*i[2],r=(e[0]*i[3]-e[1]*i[2]+i[2]*i[5]-i[4]*i[3])/s,o=(-e[0]*i[1]+e[1]*i[0]+i[4]*i[1]-i[5]*i[0])/s;return[r,o]}static getAxialAlignedBoundingBox(e,i){const s=this.applyTransform(e,i),r=this.applyTransform(e.slice(2,4),i),o=this.applyTransform([e[0],e[3]],i),u=this.applyTransform([e[2],e[1]],i);return[Math.min(s[0],r[0],o[0],u[0]),Math.min(s[1],r[1],o[1],u[1]),Math.max(s[0],r[0],o[0],u[0]),Math.max(s[1],r[1],o[1],u[1])]}static inverseTransform(e){const i=e[0]*e[3]-e[1]*e[2];return[e[3]/i,-e[1]/i,-e[2]/i,e[0]/i,(e[2]*e[5]-e[4]*e[3])/i,(e[4]*e[1]-e[5]*e[0])/i]}static singularValueDecompose2dScale(e){const i=[e[0],e[2],e[1],e[3]],s=e[0]*i[0]+e[1]*i[2],r=e[0]*i[1]+e[1]*i[3],o=e[2]*i[0]+e[3]*i[2],u=e[2]*i[1]+e[3]*i[3],h=(s+u)/2,f=Math.sqrt((s+u)**2-4*(s*u-o*r))/2,g=h+f||1,b=h-f||1;return[Math.sqrt(g),Math.sqrt(b)]}static normalizeRect(e){const i=e.slice(0);return e[0]>e[2]&&(i[0]=e[2],i[2]=e[0]),e[1]>e[3]&&(i[1]=e[3],i[3]=e[1]),i}static intersect(e,i){const s=Math.max(Math.min(e[0],e[2]),Math.min(i[0],i[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(i[0],i[2]));if(s>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(i[1],i[3])),u=Math.min(Math.max(e[1],e[3]),Math.max(i[1],i[3]));return o>u?null:[s,o,r,u]}static bezierBoundingBox(e,i,s,r,o,u,h,f,g){return g?(g[0]=Math.min(g[0],e,h),g[1]=Math.min(g[1],i,f),g[2]=Math.max(g[2],e,h),g[3]=Math.max(g[3],i,f)):g=[Math.min(e,h),Math.min(i,f),Math.max(e,h),Math.max(i,f)],S(this,ca,V0).call(this,e,s,o,h,i,r,u,f,3*(-e+3*(s-o)+h),6*(e-2*s+o),3*(s-e),g),S(this,ca,V0).call(this,e,s,o,h,i,r,u,f,3*(-i+3*(r-u)+f),6*(i-2*r+u),3*(r-i),g),g}}ca=new WeakSet,sg=function(e,i,s,r,o,u,h,f,g,b){if(g<=0||g>=1)return;const y=1-g,v=g*g,_=v*g,E=y*(y*(y*e+3*g*i)+3*v*s)+_*r,C=y*(y*(y*o+3*g*u)+3*v*h)+_*f;b[0]=Math.min(b[0],E),b[1]=Math.min(b[1],C),b[2]=Math.max(b[2],E),b[3]=Math.max(b[3],C)},V0=function(e,i,s,r,o,u,h,f,g,b,y,v){if(Math.abs(g)<1e-12){Math.abs(b)>=1e-12&&S(this,ca,sg).call(this,e,i,s,r,o,u,h,f,-y/b,v);return}const _=b**2-4*y*g;if(_<0)return;const E=Math.sqrt(_),C=2*g;S(this,ca,sg).call(this,e,i,s,r,o,u,h,f,(-b+E)/C,v),S(this,ca,sg).call(this,e,i,s,r,o,u,h,f,(-b-E)/C,v)},T(dt,ca);function _C(p){return decodeURIComponent(escape(p))}let z0=null,O_=null;function xC(p){return z0||(z0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,O_=new Map([["","t"]])),p.replaceAll(z0,(e,i,s)=>i?i.normalize("NFKC"):O_.get(s))}function SC(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const p=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(p);else for(let e=0;e<32;e++)p[e]=Math.floor(Math.random()*255);return vx(p)}const hy="pdfjs_internal_id_",Ns={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function EC(p){return Uint8Array.prototype.toBase64?p.toBase64():btoa(vx(p))}const ks="http://www.w3.org/2000/svg",Ir=class Ir{};_t(Ir,"CSS",96),_t(Ir,"PDF",72),_t(Ir,"PDF_TO_CSS_UNITS",Ir.CSS/Ir.PDF);let dr=Ir;async function lp(p,e="text"){if($u(p,document.baseURI)){const i=await fetch(p);if(!i.ok)throw new Error(i.statusText);switch(e){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,s)=>{const r=new XMLHttpRequest;r.open("GET",p,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":i(r.response);return}i(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Dd{constructor({viewBox:e,scale:i,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=e,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=o;const h=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let g,b,y,v;switch(s%=360,s<0&&(s+=360),s){case 180:g=-1,b=0,y=0,v=1;break;case 90:g=0,b=1,y=1,v=0;break;case 270:g=0,b=-1,y=-1,v=0;break;case 0:g=1,b=0,y=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(y=-y,v=-v);let _,E,C,L;g===0?(_=Math.abs(f-e[1])*i+r,E=Math.abs(h-e[0])*i+o,C=(e[3]-e[1])*i,L=(e[2]-e[0])*i):(_=Math.abs(h-e[0])*i+r,E=Math.abs(f-e[1])*i+o,C=(e[2]-e[0])*i,L=(e[3]-e[1])*i),this.transform=[g*i,b*i,y*i,v*i,_-g*i*h-y*i*f,E-b*i*h-v*i*f],this.width=C,this.height=L}get rawDims(){const{viewBox:e}=this;return Ft(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:i=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Dd({viewBox:this.viewBox.slice(),scale:e,rotation:i,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(e,i){return dt.applyTransform([e,i],this.transform)}convertToViewportRectangle(e){const i=dt.applyTransform([e[0],e[1]],this.transform),s=dt.applyTransform([e[2],e[3]],this.transform);return[i[0],i[1],s[0],s[1]]}convertToPdfPoint(e,i){return dt.applyInverseTransform([e,i],this.transform)}}class dy extends mr{constructor(e,i=0){super(e,"RenderingCancelledException"),this.extraDelay=i}}function op(p){const e=p.length;let i=0;for(;i<e&&p[i].trim()==="";)i++;return p.substring(i,i+5).toLowerCase()==="data:"}function fy(p){return typeof p=="string"&&/\.pdf$/i.test(p)}function wC(p){return[p]=p.split(/[#?]/,1),p.substring(p.lastIndexOf("/")+1)}function TC(p,e="document.pdf"){if(typeof p!="string")return e;if(op(p))return Nt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=i.exec(p);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||e}class k_{constructor(){_t(this,"started",Object.create(null));_t(this,"times",[])}time(e){e in this.started&&Nt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Nt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let i=0;for(const{name:s}of this.times)i=Math.max(s.length,i);for(const{name:s,start:r,end:o}of this.times)e.push(`${s.padEnd(i)} ${o-r}ms
`);return e.join("")}}function $u(p,e){try{const{protocol:i}=e?new URL(p,e):new URL(p);return i==="http:"||i==="https:"}catch{return!1}}function En(p){p.preventDefault()}function P_(p){console.log("Deprecated API usage: "+p)}var ph;class gy{static toDateObject(e){if(!e||typeof e!="string")return null;c(this,ph)||x(this,ph,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=c(this,ph).exec(e);if(!i)return null;const s=parseInt(i[1],10);let r=parseInt(i[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(i[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(i[4],10);u=u>=0&&u<=23?u:0;let h=parseInt(i[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(i[6],10);f=f>=0&&f<=59?f:0;const g=i[7]||"Z";let b=parseInt(i[8],10);b=b>=0&&b<=23?b:0;let y=parseInt(i[9],10)||0;return y=y>=0&&y<=59?y:0,g==="-"?(u+=b,h+=y):g==="+"&&(u-=b,h-=y),new Date(Date.UTC(s,r,o,u,h,f))}}ph=new WeakMap,T(gy,ph);function CC(p,{scale:e=1,rotation:i=0}){const{width:s,height:r}=p.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new Dd({viewBox:o,scale:e,rotation:i})}function py(p){if(p.startsWith("#")){const e=parseInt(p.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return p.startsWith("rgb(")?p.slice(4,-1).split(",").map(e=>parseInt(e)):p.startsWith("rgba(")?p.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Nt(`Not a valid color format: "${p}"`),[0,0,0])}function RC(p){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const i of p.keys()){e.style.color=i;const s=window.getComputedStyle(e).color;p.set(i,py(s))}e.remove()}function pe(p){const{a:e,b:i,c:s,d:r,e:o,f:u}=p.getTransform();return[e,i,s,r,o,u]}function Os(p){const{a:e,b:i,c:s,d:r,e:o,f:u}=p.getTransform().invertSelf();return[e,i,s,r,o,u]}function Ul(p,e,i=!1,s=!0){if(e instanceof Dd){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:u}=p,h=Ei.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${o}px`,b=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,y=h?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!i||e.rotation%180===0?(u.width=b,u.height=y):(u.width=y,u.height=b)}s&&p.setAttribute("data-main-rotation",e.rotation)}class X0{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Fa,qr,Dn,Vr,mh,bh,Hg,Ax,wi,_x,xx,ag,Sx,K0;const Ps=class Ps{constructor(e){T(this,wi);T(this,Fa,null);T(this,qr,null);T(this,Dn);T(this,Vr,null);T(this,mh,null);x(this,Dn,e),c(Ps,bh)||x(Ps,bh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=x(this,Fa,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const i=c(this,Dn)._uiManager._signal;e.addEventListener("contextmenu",En,{signal:i}),e.addEventListener("pointerdown",S(Ps,Hg,Ax),{signal:i});const s=x(this,Vr,document.createElement("div"));s.className="buttons",e.append(s);const r=c(this,Dn).toolbarPosition;if(r){const{style:o}=e,u=c(this,Dn)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return S(this,wi,Sx).call(this),e}get div(){return c(this,Fa)}hide(){var e;c(this,Fa).classList.add("hidden"),(e=c(this,qr))==null||e.hideDropdown()}show(){var e;c(this,Fa).classList.remove("hidden"),(e=c(this,mh))==null||e.shown()}async addAltText(e){const i=await e.render();S(this,wi,ag).call(this,i),c(this,Vr).prepend(i,c(this,wi,K0)),x(this,mh,e)}addColorPicker(e){x(this,qr,e);const i=e.renderButton();S(this,wi,ag).call(this,i),c(this,Vr).prepend(i,c(this,wi,K0))}remove(){var e;c(this,Fa).remove(),(e=c(this,qr))==null||e.destroy(),x(this,qr,null)}};Fa=new WeakMap,qr=new WeakMap,Dn=new WeakMap,Vr=new WeakMap,mh=new WeakMap,bh=new WeakMap,Hg=new WeakSet,Ax=function(e){e.stopPropagation()},wi=new WeakSet,_x=function(e){c(this,Dn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},xx=function(e){c(this,Dn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},ag=function(e){const i=c(this,Dn)._uiManager._signal;e.addEventListener("focusin",S(this,wi,_x).bind(this),{capture:!0,signal:i}),e.addEventListener("focusout",S(this,wi,xx).bind(this),{capture:!0,signal:i}),e.addEventListener("contextmenu",En,{signal:i})},Sx=function(){const{editorType:e,_uiManager:i}=c(this,Dn),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",c(Ps,bh)[e]),S(this,wi,ag).call(this,s),s.addEventListener("click",r=>{i.delete()},{signal:i._signal}),c(this,Vr).append(s)},K0=function(){const e=document.createElement("div");return e.className="divider",e},T(Ps,Hg),T(Ps,bh,null);let Y0=Ps;var yh,Xr,Yr,gr,Ex,wx,Tx;class MC{constructor(e){T(this,gr);T(this,yh,null);T(this,Xr,null);T(this,Yr);x(this,Yr,e)}show(e,i,s){const[r,o]=S(this,gr,wx).call(this,i,s),{style:u}=c(this,Xr)||x(this,Xr,S(this,gr,Ex).call(this));e.append(c(this,Xr)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,Xr).remove()}}yh=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,gr=new WeakSet,Ex=function(){const e=x(this,Xr,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",En,{signal:c(this,Yr)._signal});const i=x(this,yh,document.createElement("div"));return i.className="buttons",e.append(i),S(this,gr,Tx).call(this),e},wx=function(e,i){let s=0,r=0;for(const o of e){const u=o.y+o.height;if(u<s)continue;const h=o.x+(i?o.width:0);if(u>s){r=h,s=u;continue}i?h>r&&(r=h):h<r&&(r=h)}return[i?1-r:r,s]},Tx=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");e.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=c(this,Yr)._signal;e.addEventListener("contextmenu",En,{signal:s}),e.addEventListener("click",()=>{c(this,Yr).highlightSelection("floating_button")},{signal:s}),c(this,yh).append(e)};function Og(p,e,i){for(const s of i)e.addEventListener(s,p[s].bind(p))}function DC(p){return Math.round(Math.min(255,Math.max(1,255*p))).toString(16).padStart(2,"0")}var Fg;class LC{constructor(){T(this,Fg,0)}get id(){return`${uC}${Ai(this,Fg)._++}`}}Fg=new WeakMap;var Ko,vh,fi,$o,rg;const Ey=class Ey{constructor(){T(this,$o);T(this,Ko,SC());T(this,vh,0);T(this,fi,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ft(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:i,name:s,size:r,type:o}=e;return S(this,$o,rg).call(this,`${i}_${s}_${r}_${o}`,e)}async getFromUrl(e){return S(this,$o,rg).call(this,e,e)}async getFromBlob(e,i){const s=await i;return S(this,$o,rg).call(this,e,s)}async getFromId(e){c(this,fi)||x(this,fi,new Map);const i=c(this,fi).get(e);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:s}=i;return delete i.blobPromise,this.getFromBlob(i.id,s)}return this.getFromUrl(i.url)}getFromCanvas(e,i){c(this,fi)||x(this,fi,new Map);let s=c(this,fi).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(i.width,i.height);return r.getContext("2d").drawImage(i,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${c(this,Ko)}_${Ai(this,vh)._++}`,refCounter:1,isSvg:!1},c(this,fi).set(e,s),c(this,fi).set(s.id,s),s}getSvgUrl(e){const i=c(this,fi).get(e);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(e){var r;c(this,fi)||x(this,fi,new Map);const i=c(this,fi).get(e);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:s}=i;if(!i.url&&!i.file){const o=new OffscreenCanvas(s.width,s.height);o.getContext("bitmaprenderer").transferFromImageBitmap(s),i.blobPromise=o.convertToBlob()}(r=s.close)==null||r.call(s),i.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,Ko)}_`)}};Ko=new WeakMap,vh=new WeakMap,fi=new WeakMap,$o=new WeakSet,rg=async function(e,i){c(this,fi)||x(this,fi,new Map);let s=c(this,fi).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${c(this,Ko)}_${Ai(this,vh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof i=="string"?(s.url=i,r=await lp(i,"blob")):i instanceof File?r=s.file=i:i instanceof Blob&&(r=i),r.type==="image/svg+xml"){const o=Ey._isSVGFittingCanvas,u=new FileReader,h=new Image,f=new Promise((g,b)=>{h.onload=()=>{s.bitmap=h,s.isSvg=!0,g()},u.onload=async()=>{const y=s.svgUrl=u.result;h.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=u.onerror=b});u.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return c(this,fi).set(e,s),s&&c(this,fi).set(s.id,s),s};let $0=Ey;var Ke,Ua,Ah,$e;class NC{constructor(e=128){T(this,Ke,[]);T(this,Ua,!1);T(this,Ah);T(this,$e,-1);x(this,Ah,e)}add({cmd:e,undo:i,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:h=!1}){if(r&&e(),c(this,Ua))return;const f={cmd:e,undo:i,post:s,type:o};if(c(this,$e)===-1){c(this,Ke).length>0&&(c(this,Ke).length=0),x(this,$e,0),c(this,Ke).push(f);return}if(u&&c(this,Ke)[c(this,$e)].type===o){h&&(f.undo=c(this,Ke)[c(this,$e)].undo),c(this,Ke)[c(this,$e)]=f;return}const g=c(this,$e)+1;g===c(this,Ah)?c(this,Ke).splice(0,1):(x(this,$e,g),g<c(this,Ke).length&&c(this,Ke).splice(g)),c(this,Ke).push(f)}undo(){if(c(this,$e)===-1)return;x(this,Ua,!0);const{undo:e,post:i}=c(this,Ke)[c(this,$e)];e(),i==null||i(),x(this,Ua,!1),x(this,$e,c(this,$e)-1)}redo(){if(c(this,$e)<c(this,Ke).length-1){x(this,$e,c(this,$e)+1),x(this,Ua,!0);const{cmd:e,post:i}=c(this,Ke)[c(this,$e)];e(),i==null||i(),x(this,Ua,!1)}}hasSomethingToUndo(){return c(this,$e)!==-1}hasSomethingToRedo(){return c(this,$e)<c(this,Ke).length-1}destroy(){x(this,Ke,null)}}Ke=new WeakMap,Ua=new WeakMap,Ah=new WeakMap,$e=new WeakMap;var Ug,Cx;class Ld{constructor(e){T(this,Ug);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=Ei.platform;for(const[s,r,o={}]of e)for(const u of s){const h=u.startsWith("mac+");i&&h?(this.callbacks.set(u.slice(4),{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1))):!i&&!h&&(this.callbacks.set(u,{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1)))}}exec(e,i){if(!this.allKeys.has(i.key))return;const s=this.callbacks.get(S(this,Ug,Cx).call(this,i));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:u=[],checker:h=null}}=s;h&&!h(e,i)||(r.bind(e,...u,i)(),o||(i.stopPropagation(),i.preventDefault()))}}Ug=new WeakSet,Cx=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const Bg=class Bg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return RC(e),Ft(this,"_colors",e)}convert(e){const i=py(e);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[s,r]of this._colors)if(r.every((o,u)=>o===i[u]))return Bg._colorsMapping.get(s);return i}getHexCode(e){const i=this._colors.get(e);return i?dt.makeHexColor(...i):e}};_t(Bg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Q0=Bg;var Qo,Ki,je,si,Wo,zs,Zo,Ln,Ba,Jo,Kr,Wn,Nn,$r,_h,xh,tc,Sh,Zn,Ia,ec,Ga,Jn,Ig,qa,Eh,Va,Qr,wh,Th,Qe,Kt,Hs,Wr,Ch,Rh,Xa,ts,Fs,Mh,mn,st,lg,W0,Rx,Mx,og,Dx,Lx,Nx,Z0,Ox,J0,tb,kx,_i,ja,Px,jx,eb,zx,Qu,ib;const Go=class Go{constructor(e,i,s,r,o,u,h,f,g,b,y){T(this,st);T(this,Qo,new AbortController);T(this,Ki,null);T(this,je,new Map);T(this,si,new Map);T(this,Wo,null);T(this,zs,null);T(this,Zo,null);T(this,Ln,new NC);T(this,Ba,null);T(this,Jo,0);T(this,Kr,new Set);T(this,Wn,null);T(this,Nn,null);T(this,$r,new Set);T(this,_h,!1);T(this,xh,!1);T(this,tc,!1);T(this,Sh,null);T(this,Zn,null);T(this,Ia,null);T(this,ec,null);T(this,Ga,!1);T(this,Jn,null);T(this,Ig,new LC);T(this,qa,!1);T(this,Eh,!1);T(this,Va,null);T(this,Qr,null);T(this,wh,null);T(this,Th,null);T(this,Qe,Mt.NONE);T(this,Kt,new Set);T(this,Hs,null);T(this,Wr,null);T(this,Ch,null);T(this,Rh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,Xa,[0,0]);T(this,ts,null);T(this,Fs,null);T(this,Mh,null);T(this,mn,null);const v=this._signal=c(this,Qo).signal;x(this,Fs,e),x(this,Mh,i),x(this,Wo,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:v}),S(this,st,Dx).call(this),S(this,st,kx).call(this),S(this,st,Z0).call(this),x(this,zs,o.annotationStorage),x(this,Sh,o.filterFactory),x(this,Wr,u),x(this,ec,h||null),x(this,_h,f),x(this,xh,g),x(this,tc,b),x(this,Th,y||null),this.viewParameters={realScale:dr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Go.prototype,i=u=>c(u,Fs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new Ld([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&c(u,Fs).contains(h)&&!u.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&c(u,Fs).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:i}]]))}destroy(){var e,i,s,r;(e=c(this,mn))==null||e.resolve(),x(this,mn,null),(i=c(this,Qo))==null||i.abort(),x(this,Qo,null),this._signal=null;for(const o of c(this,si).values())o.destroy();c(this,si).clear(),c(this,je).clear(),c(this,$r).clear(),x(this,Ki,null),c(this,Kt).clear(),c(this,Ln).destroy(),(s=c(this,Wo))==null||s.destroy(),(r=c(this,Jn))==null||r.hide(),x(this,Jn,null),c(this,Zn)&&(clearTimeout(c(this,Zn)),x(this,Zn,null)),c(this,ts)&&(clearTimeout(c(this,ts)),x(this,ts,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,Th)}get useNewAltTextFlow(){return c(this,xh)}get useNewAltTextWhenAddingImage(){return c(this,tc)}get hcmFilter(){return Ft(this,"hcmFilter",c(this,Wr)?c(this,Sh).addHCMFilter(c(this,Wr).foreground,c(this,Wr).background):"none")}get direction(){return Ft(this,"direction",getComputedStyle(c(this,Fs)).direction)}get highlightColors(){return Ft(this,"highlightColors",c(this,ec)?new Map(c(this,ec).split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Ft(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){x(this,wh,e)}editAltText(e,i=!1){var s;(s=c(this,Wo))==null||s.editAltText(this,e,i)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":x(this,tc,i);break}}onPageChanging({pageNumber:e}){x(this,Jo,e-1)}focusMainContainer(){c(this,Fs).focus()}findParent(e,i){for(const s of c(this,si).values()){const{x:r,y:o,width:u,height:h}=s.div.getBoundingClientRect();if(e>=r&&e<=r+u&&i>=o&&i<=o+h)return s}return null}disableUserSelect(e=!1){c(this,Mh).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,$r).add(e)}removeShouldRescale(e){c(this,$r).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*dr.PDF_TO_CSS_UNITS;for(const i of c(this,$r))i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:u}=i,h=i.toString(),g=S(this,st,lg).call(this,i).closest(".textLayer"),b=this.getSelectionBoxes(g);if(!b)return;i.empty();const y=S(this,st,W0).call(this,g),v=c(this,Qe)===Mt.NONE,_=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:b,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:u,text:h}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Mt.HIGHLIGHT,_);return}_()}addToAnnotationStorage(e){!e.isEmpty()&&c(this,zs)&&!c(this,zs).has(e.id)&&c(this,zs).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Ga)&&(x(this,Ga,!1),S(this,st,og).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of c(this,Kt))if(i.div.contains(e)){x(this,Qr,[i,e]),i._focusEventsAllowed=!1;break}}focus(){if(!c(this,Qr))return;const[e,i]=c(this,Qr);x(this,Qr,null),i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){S(this,st,Z0).call(this),S(this,st,J0).call(this)}removeEditListeners(){S(this,st,Ox).call(this),S(this,st,tb).call(this)}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const s of c(this,Nn))if(s.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const i of e.dataTransfer.items)for(const s of c(this,Nn))if(s.isHandlingMimeForPasting(i.type)){s.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=c(this,Ki))==null||s.commitOrRemove(),!this.hasSelection)return;const i=[];for(const r of c(this,Kt)){const o=r.serialize(!0);o&&i.push(o)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:i}=e;for(const o of i.items)for(const u of c(this,Nn))if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let s=i.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){Nt(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const f of s){const g=await r.deserialize(f);if(!g)return;o.push(g)}const u=()=>{for(const f of o)S(this,st,eb).call(this,f);S(this,st,ib).call(this,o)},h=()=>{for(const f of o)f.remove()};this.addCommands({cmd:u,undo:h,mustExec:!0})}catch(o){Nt(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Qe)!==Mt.NONE&&!this.isEditorHandlingKeyboard&&Go._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Ga)&&(x(this,Ga,!1),S(this,st,og).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(S(this,st,Lx).call(this),S(this,st,J0).call(this),S(this,st,_i).call(this,{isEditing:c(this,Qe)!==Mt.NONE,isEmpty:S(this,st,Qu).call(this),hasSomethingToUndo:c(this,Ln).hasSomethingToUndo(),hasSomethingToRedo:c(this,Ln).hasSomethingToRedo(),hasSelectedEditor:!1})):(S(this,st,Nx).call(this),S(this,st,tb).call(this),S(this,st,_i).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Nn)){x(this,Nn,e);for(const i of c(this,Nn))S(this,st,ja).call(this,i.defaultPropertiesToUpdate)}}getId(){return c(this,Ig).id}get currentLayer(){return c(this,si).get(c(this,Jo))}getLayer(e){return c(this,si).get(e)}get currentPageIndex(){return c(this,Jo)}addLayer(e){c(this,si).set(e.pageIndex,e),c(this,qa)?e.enable():e.disable()}removeLayer(e){c(this,si).delete(e.pageIndex)}async updateMode(e,i=null,s=!1){if(c(this,Qe)!==e&&!(c(this,mn)&&(await c(this,mn).promise,!c(this,mn)))){if(x(this,mn,Promise.withResolvers()),x(this,Qe,e),e===Mt.NONE){this.setEditingState(!1),S(this,st,jx).call(this),c(this,mn).resolve();return}this.setEditingState(!0),await S(this,st,Px).call(this),this.unselectAll();for(const r of c(this,si).values())r.updateMode(e);if(!i){s&&this.addNewEditorFromKeyboard(),c(this,mn).resolve();return}for(const r of c(this,je).values())r.annotationElementId===i?(this.setSelected(r),r.enterInEditMode()):r.unselect();c(this,mn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Qe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){var s;if(c(this,Nn)){switch(e){case xt.CREATE:this.currentLayer.addNewEditor();return;case xt.HIGHLIGHT_DEFAULT_COLOR:(s=c(this,wh))==null||s.updateColor(i);break;case xt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Ch)||x(this,Ch,new Map)).set(e,i),this.showAllEditors("highlight",i);break}for(const r of c(this,Kt))r.updateParams(e,i);for(const r of c(this,Nn))r.updateDefaultParams(e,i)}}showAllEditors(e,i,s=!1){var o;for(const u of c(this,je).values())u.editorType===e&&u.show(i);(((o=c(this,Ch))==null?void 0:o.get(xt.HIGHLIGHT_SHOW_ALL))??!0)!==i&&S(this,st,ja).call(this,[[xt.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(c(this,Eh)!==e){x(this,Eh,e);for(const i of c(this,si).values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}getEditors(e){const i=[];for(const s of c(this,je).values())s.pageIndex===e&&i.push(s);return i}getEditor(e){return c(this,je).get(e)}addEditor(e){c(this,je).set(e.id,e)}removeEditor(e){var i;e.div.contains(document.activeElement)&&(c(this,Zn)&&clearTimeout(c(this,Zn)),x(this,Zn,setTimeout(()=>{this.focusMainContainer(),x(this,Zn,null)},0))),c(this,je).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,Kr).has(e.annotationElementId))&&((i=c(this,zs))==null||i.remove(e.id))}addDeletedAnnotationElement(e){c(this,Kr).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Kr).has(e)}removeDeletedAnnotationElement(e){c(this,Kr).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Ki)!==e&&(x(this,Ki,e),e&&S(this,st,ja).call(this,e.propertiesToUpdate))}updateUI(e){c(this,st,zx)===e&&S(this,st,ja).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Kt).has(e)){c(this,Kt).delete(e),e.unselect(),S(this,st,_i).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Kt).add(e),e.select(),S(this,st,ja).call(this,e.propertiesToUpdate),S(this,st,_i).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const i of c(this,Kt))i!==e&&i.unselect();c(this,Kt).clear(),c(this,Kt).add(e),e.select(),S(this,st,ja).call(this,e.propertiesToUpdate),S(this,st,_i).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Kt).has(e)}get firstSelectedEditor(){return c(this,Kt).values().next().value}unselect(e){e.unselect(),c(this,Kt).delete(e),S(this,st,_i).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Kt).size!==0}get isEnterHandled(){return c(this,Kt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Ln).undo(),S(this,st,_i).call(this,{hasSomethingToUndo:c(this,Ln).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:S(this,st,Qu).call(this)})}redo(){c(this,Ln).redo(),S(this,st,_i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Ln).hasSomethingToRedo(),isEmpty:S(this,st,Qu).call(this)})}addCommands(e){c(this,Ln).add(e),S(this,st,_i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:S(this,st,Qu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Kt)],i=()=>{for(const r of e)r.remove()},s=()=>{for(const r of e)S(this,st,eb).call(this,r)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Ki))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Ki)||this.hasSelection}selectAll(){for(const e of c(this,Kt))e.commit();S(this,st,ib).call(this,c(this,je).values())}unselectAll(){if(!(c(this,Ki)&&(c(this,Ki).commitOrRemove(),c(this,Qe)!==Mt.NONE))&&this.hasSelection){for(const e of c(this,Kt))e.unselect();c(this,Kt).clear(),S(this,st,_i).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,i,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;c(this,Xa)[0]+=e,c(this,Xa)[1]+=i;const[r,o]=c(this,Xa),u=[...c(this,Kt)],h=1e3;c(this,ts)&&clearTimeout(c(this,ts)),x(this,ts,setTimeout(()=>{x(this,ts,null),c(this,Xa)[0]=c(this,Xa)[1]=0,this.addCommands({cmd:()=>{for(const f of u)c(this,je).has(f.id)&&f.translateInPage(r,o)},undo:()=>{for(const f of u)c(this,je).has(f.id)&&f.translateInPage(-r,-o)},mustExec:!1})},h));for(const f of u)f.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(this,Wn,new Map);for(const e of c(this,Kt))c(this,Wn).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Wn))return!1;this.disableUserSelect(!1);const e=c(this,Wn);x(this,Wn,null);let i=!1;for(const[{x:r,y:o,pageIndex:u},h]of e)h.newX=r,h.newY=o,h.newPageIndex=u,i||(i=r!==h.savedX||o!==h.savedY||u!==h.savedPageIndex);if(!i)return!1;const s=(r,o,u,h)=>{if(c(this,je).has(r.id)){const f=c(this,si).get(h);f?r._setParentAndPosition(f,o,u):(r.pageIndex=h,r.x=o,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:u,newPageIndex:h}]of e)s(r,o,u,h)},undo:()=>{for(const[r,{savedX:o,savedY:u,savedPageIndex:h}]of e)s(r,o,u,h)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(c(this,Wn))for(const s of c(this,Wn).keys())s.drag(e,i)}rebuild(e){if(e.parent===null){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Kt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Ki)===e}getActive(){return c(this,Ki)}getMode(){return c(this,Qe)}get imageManager(){return Ft(this,"imageManager",new $0)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let g=0,b=i.rangeCount;g<b;g++)if(!e.contains(i.getRangeAt(g).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:u}=e.getBoundingClientRect();let h;switch(e.getAttribute("data-main-rotation")){case"90":h=(g,b,y,v)=>({x:(b-r)/u,y:1-(g+y-s)/o,width:v/u,height:y/o});break;case"180":h=(g,b,y,v)=>({x:1-(g+y-s)/o,y:1-(b+v-r)/u,width:y/o,height:v/u});break;case"270":h=(g,b,y,v)=>({x:1-(b+v-r)/u,y:(g-s)/o,width:v/u,height:y/o});break;default:h=(g,b,y,v)=>({x:(g-s)/o,y:(b-r)/u,width:y/o,height:v/u});break}const f=[];for(let g=0,b=i.rangeCount;g<b;g++){const y=i.getRangeAt(g);if(!y.collapsed)for(const{x:v,y:_,width:E,height:C}of y.getClientRects())E===0||C===0||f.push(h(v,_,E,C))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:e,id:i}){(c(this,Zo)||x(this,Zo,new Map)).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){var i;(i=c(this,Zo))==null||i.delete(e)}renderAnnotationElement(e){var r;const i=(r=c(this,Zo))==null?void 0:r.get(e.data.id);if(!i)return;const s=c(this,zs).getRawValue(i);s&&(c(this,Qe)===Mt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}};Qo=new WeakMap,Ki=new WeakMap,je=new WeakMap,si=new WeakMap,Wo=new WeakMap,zs=new WeakMap,Zo=new WeakMap,Ln=new WeakMap,Ba=new WeakMap,Jo=new WeakMap,Kr=new WeakMap,Wn=new WeakMap,Nn=new WeakMap,$r=new WeakMap,_h=new WeakMap,xh=new WeakMap,tc=new WeakMap,Sh=new WeakMap,Zn=new WeakMap,Ia=new WeakMap,ec=new WeakMap,Ga=new WeakMap,Jn=new WeakMap,Ig=new WeakMap,qa=new WeakMap,Eh=new WeakMap,Va=new WeakMap,Qr=new WeakMap,wh=new WeakMap,Th=new WeakMap,Qe=new WeakMap,Kt=new WeakMap,Hs=new WeakMap,Wr=new WeakMap,Ch=new WeakMap,Rh=new WeakMap,Xa=new WeakMap,ts=new WeakMap,Fs=new WeakMap,Mh=new WeakMap,mn=new WeakMap,st=new WeakSet,lg=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},W0=function(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const s of c(this,si).values())if(s.hasTextLayer(e))return s;return null},Rx=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=S(this,st,lg).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(c(this,Jn)||x(this,Jn,new MC(this)),c(this,Jn).show(s,r,this.direction==="ltr"))},Mx=function(){var o,u,h;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Hs)&&((o=c(this,Jn))==null||o.hide(),x(this,Hs,null),S(this,st,_i).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=e;if(i===c(this,Hs))return;const r=S(this,st,lg).call(this,e).closest(".textLayer");if(!r){c(this,Hs)&&((u=c(this,Jn))==null||u.hide(),x(this,Hs,null),S(this,st,_i).call(this,{hasSelectedText:!1}));return}if((h=c(this,Jn))==null||h.hide(),x(this,Hs,i),S(this,st,_i).call(this,{hasSelectedText:!0}),!(c(this,Qe)!==Mt.HIGHLIGHT&&c(this,Qe)!==Mt.NONE)&&(c(this,Qe)===Mt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(this,Ga,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=c(this,Qe)===Mt.HIGHLIGHT?S(this,st,W0).call(this,r):null;f==null||f.toggleDrawing();const g=new AbortController,b=this.combinedSignal(g),y=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),f==null||f.toggleDrawing(!0),v.type==="pointerup"&&S(this,st,og).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:b}),window.addEventListener("blur",y,{signal:b})}},og=function(e=""){c(this,Qe)===Mt.HIGHLIGHT?this.highlightSelection(e):c(this,_h)&&S(this,st,Rx).call(this)},Dx=function(){document.addEventListener("selectionchange",S(this,st,Mx).bind(this),{signal:this._signal})},Lx=function(){if(c(this,Ia))return;x(this,Ia,new AbortController);const e=this.combinedSignal(c(this,Ia));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Nx=function(){var e;(e=c(this,Ia))==null||e.abort(),x(this,Ia,null)},Z0=function(){if(c(this,Va))return;x(this,Va,new AbortController);const e=this.combinedSignal(c(this,Va));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Ox=function(){var e;(e=c(this,Va))==null||e.abort(),x(this,Va,null)},J0=function(){if(c(this,Ba))return;x(this,Ba,new AbortController);const e=this.combinedSignal(c(this,Ba));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},tb=function(){var e;(e=c(this,Ba))==null||e.abort(),x(this,Ba,null)},kx=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},_i=function(e){Object.entries(e).some(([s,r])=>c(this,Rh)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Rh),e)}),c(this,Qe)===Mt.HIGHLIGHT&&e.hasSelectedEditor===!1&&S(this,st,ja).call(this,[[xt.HIGHLIGHT_FREE,!0]]))},ja=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Px=async function(){if(!c(this,qa)){x(this,qa,!0);const e=[];for(const i of c(this,si).values())e.push(i.enable());await Promise.all(e);for(const i of c(this,je).values())i.enable()}},jx=function(){if(this.unselectAll(),c(this,qa)){x(this,qa,!1);for(const e of c(this,si).values())e.disable();for(const e of c(this,je).values())e.disable()}},eb=function(e){const i=c(this,si).get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},zx=function(){let e=null;for(e of c(this,Kt));return e},Qu=function(){if(c(this,je).size===0)return!0;if(c(this,je).size===1)for(const e of c(this,je).values())return e.isEmpty();return!1},ib=function(e){for(const i of c(this,Kt))i.unselect();c(this,Kt).clear();for(const i of e)i.isEmpty()||(c(this,Kt).add(i),i.select());S(this,st,_i).call(this,{hasSelectedEditor:this.hasSelection})},_t(Go,"TRANSLATE_SMALL",1),_t(Go,"TRANSLATE_BIG",10);let Bl=Go;var We,es,On,ic,is,$i,nc,ns,ki,Us,Zr,ss,Ya,Gn,Wu,cg;const xi=class xi{constructor(e){T(this,Gn);T(this,We,null);T(this,es,!1);T(this,On,null);T(this,ic,null);T(this,is,null);T(this,$i,null);T(this,nc,!1);T(this,ns,null);T(this,ki,null);T(this,Us,null);T(this,Zr,null);T(this,ss,!1);x(this,ki,e),x(this,ss,e._uiManager.useNewAltTextFlow),c(xi,Ya)||x(xi,Ya,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){xi._l10n??(xi._l10n=e)}async render(){const e=x(this,On,document.createElement("button"));e.className="altText",e.tabIndex="0";const i=x(this,ic,document.createElement("span"));e.append(i),c(this,ss)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(xi,Ya).missing),i.setAttribute("data-l10n-id",c(xi,Ya)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=c(this,ki)._uiManager._signal;e.addEventListener("contextmenu",En,{signal:s}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),c(this,ki)._uiManager.editAltText(c(this,ki)),c(this,ss)&&c(this,ki)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,Gn,Wu)}})};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(x(this,nc,!0),r(o))},{signal:s}),await S(this,Gn,cg).call(this),e}finish(){c(this,On)&&(c(this,On).focus({focusVisible:c(this,nc)}),x(this,nc,!1))}isEmpty(){return c(this,ss)?c(this,We)===null:!c(this,We)&&!c(this,es)}hasData(){return c(this,ss)?c(this,We)!==null||!!c(this,Us):this.isEmpty()}get guessedText(){return c(this,Us)}async setGuessedText(e){c(this,We)===null&&(x(this,Us,e),x(this,Zr,await xi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),S(this,Gn,cg).call(this))}toggleAltTextBadge(e=!1){var i;if(!c(this,ss)||c(this,We)){(i=c(this,ns))==null||i.remove(),x(this,ns,null);return}if(!c(this,ns)){const s=x(this,ns,document.createElement("div"));s.className="noAltTextBadge",c(this,ki).div.append(s)}c(this,ns).classList.toggle("hidden",!e)}serialize(e){let i=c(this,We);return!e&&c(this,Us)===i&&(i=c(this,Zr)),{altText:i,decorative:c(this,es),guessedText:c(this,Us),textWithDisclaimer:c(this,Zr)}}get data(){return{altText:c(this,We),decorative:c(this,es)}}set data({altText:e,decorative:i,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(x(this,Us,s),x(this,Zr,r)),!(c(this,We)===e&&c(this,es)===i)&&(o||(x(this,We,e),x(this,es,i)),S(this,Gn,cg).call(this))}toggle(e=!1){c(this,On)&&(!e&&c(this,$i)&&(clearTimeout(c(this,$i)),x(this,$i,null)),c(this,On).disabled=!e)}shown(){c(this,ki)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,Gn,Wu)}})}destroy(){var e,i;(e=c(this,On))==null||e.remove(),x(this,On,null),x(this,ic,null),x(this,is,null),(i=c(this,ns))==null||i.remove(),x(this,ns,null)}};We=new WeakMap,es=new WeakMap,On=new WeakMap,ic=new WeakMap,is=new WeakMap,$i=new WeakMap,nc=new WeakMap,ns=new WeakMap,ki=new WeakMap,Us=new WeakMap,Zr=new WeakMap,ss=new WeakMap,Ya=new WeakMap,Gn=new WeakSet,Wu=function(){return c(this,We)&&"added"||c(this,We)===null&&this.guessedText&&"review"||"missing"},cg=async function(){var r,o,u;const e=c(this,On);if(!e)return;if(c(this,ss)){if(e.classList.toggle("done",!!c(this,We)),e.setAttribute("data-l10n-id",c(xi,Ya)[c(this,Gn,Wu)]),(r=c(this,ic))==null||r.setAttribute("data-l10n-id",c(xi,Ya)[`${c(this,Gn,Wu)}-label`]),!c(this,We)){(o=c(this,is))==null||o.remove();return}}else{if(!c(this,We)&&!c(this,es)){e.classList.remove("done"),(u=c(this,is))==null||u.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=c(this,is);if(!i){x(this,is,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${c(this,ki).id}`;const h=100,f=c(this,ki)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(c(this,$i)),x(this,$i,null)},{once:!0}),e.addEventListener("mouseenter",()=>{x(this,$i,setTimeout(()=>{x(this,$i,null),c(this,is).classList.add("show"),c(this,ki)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),e.addEventListener("mouseleave",()=>{var g;c(this,$i)&&(clearTimeout(c(this,$i)),x(this,$i,null)),(g=c(this,is))==null||g.classList.remove("show")},{signal:f})}c(this,es)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=c(this,We)),i.parentNode||e.append(i);const s=c(this,ki).getImageForAltText();s==null||s.setAttribute("aria-describedby",i.id)},T(xi,Ya,null),_t(xi,"_l10n",null);let kg=xi;var Jr,kn,fe,sc,tl,ai,el,Ka,Dh,il,$a,Lh,nl,Bs,as,ac,rc,bn,Nh,Gg,Dt,nb,Oh,sb,ab,Hx,Fx,rb,lb,ob,Ux,cb,Bx,Ix,Gx,ub,Zu;const Vt=class Vt{constructor(e){T(this,Dt);T(this,Jr,null);T(this,kn,null);T(this,fe,null);T(this,sc,!1);T(this,tl,!1);T(this,ai,null);T(this,el,null);T(this,Ka,null);T(this,Dh,"");T(this,il,!1);T(this,$a,null);T(this,Lh,!1);T(this,nl,!1);T(this,Bs,!1);T(this,as,null);T(this,ac,0);T(this,rc,0);T(this,bn,null);_t(this,"_editToolbar",null);_t(this,"_initialOptions",Object.create(null));_t(this,"_initialData",null);_t(this,"_isVisible",!0);_t(this,"_uiManager",null);_t(this,"_focusEventsAllowed",!0);T(this,Nh,!1);T(this,Gg,Vt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,u];const[h,f]=this.parentDimensions;this.x=e.x/h,this.y=e.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Vt.prototype._resizeWithKeyboard,i=Bl.TRANSLATE_SMALL,s=Bl.TRANSLATE_BIG;return Ft(this,"_resizerKeyboardManager",new Ld([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],Vt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ft(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const i=new OC({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});i.annotationElementId=e.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(e,i){if(Vt._l10n??(Vt._l10n=e),Vt._l10nResizer||(Vt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Vt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Vt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,i){le("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Nh)}set _isDraggable(e){var i;x(this,Nh,e),(i=this.div)==null||i.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(e*2),this.y+=this.width*e/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(e*2),this.y-=this.width*e/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Gg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):S(this,Dt,Zu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,il)?x(this,il,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,i,s,r){const[o,u]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/o,this.y=(i+r)/u,this.fixAndSetPosition()}translate(e,i){S(this,Dt,nb).call(this,this.parentDimensions,e,i)}translateInPage(e,i){c(this,$a)||x(this,$a,[this.x,this.y]),S(this,Dt,nb).call(this,this.pageDimensions,e,i),this.div.scrollIntoView({block:"nearest"})}drag(e,i){c(this,$a)||x(this,$a,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=e/s,this.y+=i/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[h,f]=this.getBaseTranslation();o+=h,u+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,$a)&&(c(this,$a)[0]!==this.x||c(this,$a)[1]!==this.y)}getBaseTranslation(){const[e,i]=this.parentDimensions,{_borderLineWidth:s}=Vt,r=s/e,o=s/i;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[i,s]=this.pageDimensions;let{x:r,y:o,width:u,height:h}=this;if(u*=i,h*=s,r*=i,o*=s,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(i-u,r)),o=Math.max(0,Math.min(s-h,o));break;case 90:r=Math.max(0,Math.min(i-h,r)),o=Math.min(s,Math.max(u,o));break;case 180:r=Math.min(i,Math.max(u,r)),o=Math.min(s,Math.max(h,o));break;case 270:r=Math.min(i,Math.max(h,r)),o=Math.max(0,Math.min(s-u,o));break}this.x=r/=i,this.y=o/=s;const[f,g]=this.getBaseTranslation();r+=f,o+=g;const{style:b}=this.div;b.left=`${(100*r).toFixed(2)}%`,b.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,i){var s;return S(s=Vt,Oh,sb).call(s,e,i,this.parentRotation)}pageTranslationToScreen(e,i){var s;return S(s=Vt,Oh,sb).call(s,e,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[i,s]}=this;return[i*e,s*e]}setDims(e,i){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*e/s).toFixed(2)}%`,c(this,tl)||(this.div.style.height=`${(100*i/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:i,width:s}=e,r=s.endsWith("%"),o=!c(this,tl)&&i.endsWith("%");if(r&&o)return;const[u,h]=this.parentDimensions;r||(e.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!c(this,tl)&&!o&&(e.height=`${(100*parseFloat(i)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,fe))==null||e.finish()}async addEditToolbar(){return this._editToolbar||c(this,nl)?this._editToolbar:(this._editToolbar=new Y0(this),this.div.append(this._editToolbar.render()),c(this,fe)&&await this._editToolbar.addAltText(c(this,fe)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=c(this,fe))==null||e.destroy())}addContainer(e){var s;const i=(s=this._editToolbar)==null?void 0:s.div;i?i.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,fe)||(kg.initialize(Vt._l10n),x(this,fe,new kg(this)),c(this,Jr)&&(c(this,fe).data=c(this,Jr),x(this,Jr,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,fe))==null?void 0:e.data}set altTextData(e){c(this,fe)&&(c(this,fe).data=e)}get guessedAltText(){var e;return(e=c(this,fe))==null?void 0:e.guessedText}async setGuessedAltText(e){var i;await((i=c(this,fe))==null?void 0:i.setGuessedText(e))}serializeAltText(e){var i;return(i=c(this,fe))==null?void 0:i.serialize(e)}hasAltText(){return!!c(this,fe)&&!c(this,fe).isEmpty()}hasAltTextData(){var e;return((e=c(this,fe))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,sc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),S(this,Dt,cb).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Og(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:i}=Ei.platform;if(e.button!==0||e.ctrlKey&&i){e.preventDefault();return}if(x(this,il,!0),this._isDraggable){S(this,Dt,Ux).call(this,e);return}S(this,Dt,ob).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){c(this,as)&&clearTimeout(c(this,as)),x(this,as,setTimeout(()=>{var e;x(this,as,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,i,s){e.changeParent(this),this.x=i,this.y=s,this.fixAndSetPosition()}getRect(e,i,s=this.rotation){const r=this.parentScale,[o,u]=this.pageDimensions,[h,f]=this.pageTranslation,g=e/r,b=i/r,y=this.x*o,v=this.y*u,_=this.width*o,E=this.height*u;switch(s){case 0:return[y+g+h,u-v-b-E+f,y+g+_+h,u-v-b+f];case 90:return[y+b+h,u-v+g+f,y+b+E+h,u-v+g+_+f];case 180:return[y-g-_+h,u-v+b+f,y-g+h,u-v+b+E+f];case 270:return[y-b-E+h,u-v-g-_+f,y-b+h,u-v-g+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,i){const[s,r,o,u]=e,h=o-s,f=u-r;switch(this.rotation){case 0:return[s,i-u,h,f];case 90:return[s,i-r,f,h];case 180:return[o,i-r,h,f];case 270:return[o,i-u,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){x(this,nl,!0)}disableEditMode(){x(this,nl,!1)}isInEditMode(){return c(this,nl)}shouldGetKeyboardEvents(){return c(this,Bs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){S(this,Dt,cb).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,i=null){le("An editor must be serializable")}static async deserialize(e,i,s){const r=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:s});r.rotation=e.rotation,x(r,Jr,e.accessibilityData);const[o,u]=r.pageDimensions,[h,f,g,b]=r.getRectInCurrentCoords(e.rect,u);return r.x=h/o,r.y=f/u,r.width=g/o,r.height=b/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=c(this,Ka))==null||e.abort(),x(this,Ka,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,as)&&(clearTimeout(c(this,as)),x(this,as,null)),S(this,Dt,Zu).call(this),this.removeEditToolbar(),c(this,bn)){for(const i of c(this,bn).values())clearTimeout(i);x(this,bn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(S(this,Dt,Hx).call(this),c(this,ai).classList.remove("hidden"),Og(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),x(this,el,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=c(this,ai).children;if(!c(this,kn)){x(this,kn,Array.from(i));const u=S(this,Dt,Bx).bind(this),h=S(this,Dt,Ix).bind(this),f=this._uiManager._signal;for(const g of c(this,kn)){const b=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",u,{signal:f}),g.addEventListener("blur",h,{signal:f}),g.addEventListener("focus",S(this,Dt,Gx).bind(this,b),{signal:f}),g.setAttribute("data-l10n-id",Vt._l10nResizer[b])}}const s=c(this,kn)[0];let r=0;for(const u of i){if(u===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(c(this,kn).length/4);if(o!==r){if(o<r)for(let h=0;h<r-o;h++)c(this,ai).append(c(this,ai).firstChild);else if(o>r)for(let h=0;h<o-r;h++)c(this,ai).firstChild.before(c(this,ai).lastChild);let u=0;for(const h of i){const g=c(this,kn)[u++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Vt._l10nResizer[g])}}S(this,Dt,ub).call(this,0),x(this,Bs,!0),c(this,ai).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,i){c(this,Bs)&&S(this,Dt,lb).call(this,c(this,Dh),{movementX:e,movementY:i})}_stopResizingWithKeyboard(){S(this,Dt,Zu).call(this),this.div.focus()}select(){var e,i,s;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(i=this._editToolbar)==null||i.show(),(s=c(this,fe))==null||s.toggleAltTextBadge(!1)}unselect(){var e,i,s,r,o;(e=c(this,ai))==null||e.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=c(this,fe))==null||o.toggleAltTextBadge(!0)}updateParams(e,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,Lh)}set isEditing(e){x(this,Lh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,i){x(this,tl,!0);const s=e/i,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,i=!1){if(i){c(this,bn)||x(this,bn,new Map);const{action:s}=e;let r=c(this,bn).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,bn).delete(s),c(this,bn).size===0&&x(this,bn,null)},Vt._telemetryTimeout),c(this,bn).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),x(this,sc,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(this,sc,!0)}renderAnnotationElement(e){let i=e.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),e.container.prepend(i);else if(i.nodeName==="CANVAS"){const s=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),s.before(i)}return i}resetAnnotationElement(e){const{firstChild:i}=e.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};Jr=new WeakMap,kn=new WeakMap,fe=new WeakMap,sc=new WeakMap,tl=new WeakMap,ai=new WeakMap,el=new WeakMap,Ka=new WeakMap,Dh=new WeakMap,il=new WeakMap,$a=new WeakMap,Lh=new WeakMap,nl=new WeakMap,Bs=new WeakMap,as=new WeakMap,ac=new WeakMap,rc=new WeakMap,bn=new WeakMap,Nh=new WeakMap,Gg=new WeakMap,Dt=new WeakSet,nb=function([e,i],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/i,this.fixAndSetPosition()},Oh=new WeakSet,sb=function(e,i,s){switch(s){case 90:return[i,-e];case 180:return[-e,-i];case 270:return[-i,e];default:return[e,i]}},ab=function(e){switch(e){case 90:{const[i,s]=this.pageDimensions;return[0,-i/s,s/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,s]=this.pageDimensions;return[0,i/s,-s/i,0]}default:return[1,0,0,1]}},Hx=function(){if(c(this,ai))return;x(this,ai,document.createElement("div")),c(this,ai).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const s of e){const r=document.createElement("div");c(this,ai).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",S(this,Dt,Fx).bind(this,s),{signal:i}),r.addEventListener("contextmenu",En,{signal:i}),r.tabIndex=-1}this.div.prepend(c(this,ai))},Fx=function(e,i){var E;i.preventDefault();const{isMac:s}=Ei.platform;if(i.button!==0||i.ctrlKey&&s)return;(E=c(this,fe))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,u=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",S(this,Dt,lb).bind(this,e),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",En,{signal:u});const h=this.x,f=this.y,g=this.width,b=this.height,y=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const _=()=>{var C;o.abort(),this.parent.togglePointerEvents(!0),(C=c(this,fe))==null||C.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=v,S(this,Dt,rb).call(this,h,f,g,b)};window.addEventListener("pointerup",_,{signal:u}),window.addEventListener("blur",_,{signal:u})},rb=function(e,i,s,r){const o=this.x,u=this.y,h=this.width,f=this.height;o===e&&u===i&&h===s&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=o,this.y=u;const[g,b]=this.parentDimensions;this.setDims(g*h,b*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=e,this.y=i;const[g,b]=this.parentDimensions;this.setDims(g*s,b*r),this.fixAndSetPosition()},mustExec:!0})},lb=function(e,i){const[s,r]=this.parentDimensions,o=this.x,u=this.y,h=this.width,f=this.height,g=Vt.MIN_SIZE/s,b=Vt.MIN_SIZE/r,y=V=>Math.round(V*1e4)/1e4,v=S(this,Dt,ab).call(this,this.rotation),_=(V,Z)=>[v[0]*V+v[2]*Z,v[1]*V+v[3]*Z],E=S(this,Dt,ab).call(this,360-this.rotation),C=(V,Z)=>[E[0]*V+E[2]*Z,E[1]*V+E[3]*Z];let L,M,P=!1,j=!1;switch(e){case"topLeft":P=!0,L=(V,Z)=>[0,0],M=(V,Z)=>[V,Z];break;case"topMiddle":L=(V,Z)=>[V/2,0],M=(V,Z)=>[V/2,Z];break;case"topRight":P=!0,L=(V,Z)=>[V,0],M=(V,Z)=>[0,Z];break;case"middleRight":j=!0,L=(V,Z)=>[V,Z/2],M=(V,Z)=>[0,Z/2];break;case"bottomRight":P=!0,L=(V,Z)=>[V,Z],M=(V,Z)=>[0,0];break;case"bottomMiddle":L=(V,Z)=>[V/2,Z],M=(V,Z)=>[V/2,0];break;case"bottomLeft":P=!0,L=(V,Z)=>[0,Z],M=(V,Z)=>[V,0];break;case"middleLeft":j=!0,L=(V,Z)=>[0,Z/2],M=(V,Z)=>[V,Z/2];break}const z=L(h,f),I=M(h,f);let H=_(...I);const X=y(o+H[0]),W=y(u+H[1]);let et=1,lt=1,[at,pt]=this.screenToPageTranslation(i.movementX,i.movementY);if([at,pt]=C(at/s,pt/r),P){const V=Math.hypot(h,f);et=lt=Math.max(Math.min(Math.hypot(I[0]-z[0]-at,I[1]-z[1]-pt)/V,1/h,1/f),g/h,b/f)}else j?et=Math.max(g,Math.min(1,Math.abs(I[0]-z[0]-at)))/h:lt=Math.max(b,Math.min(1,Math.abs(I[1]-z[1]-pt)))/f;const bt=y(h*et),ft=y(f*lt);H=_(...M(bt,ft));const ht=X-H[0],U=W-H[1];this.width=bt,this.height=ft,this.x=ht,this.y=U,this.setDims(s*bt,r*ft),this.fixAndSetPosition()},ob=function(e){const{isMac:i}=Ei.platform;e.ctrlKey&&!i||e.shiftKey||e.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},Ux=function(e){const{isSelected:i}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(i){this.div.classList.add("moving"),x(this,ac,e.clientX),x(this,rc,e.clientY);const u=h=>{const{clientX:f,clientY:g}=h,[b,y]=this.screenToPageTranslation(f-c(this,ac),g-c(this,rc));x(this,ac,f),x(this,rc,g),this._uiManager.dragSelectedEditors(b,y)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),i&&this.div.classList.remove("moving"),x(this,il,!1),this._uiManager.endDragSession()||S(this,Dt,ob).call(this,e)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},cb=function(){if(c(this,Ka)||!this.div)return;x(this,Ka,new AbortController);const e=this._uiManager.combinedSignal(c(this,Ka));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Bx=function(e){Vt._resizerKeyboardManager.exec(this,e)},Ix=function(e){var i;c(this,Bs)&&((i=e.relatedTarget)==null?void 0:i.parentNode)!==c(this,ai)&&S(this,Dt,Zu).call(this)},Gx=function(e){x(this,Dh,c(this,Bs)?e:"")},ub=function(e){if(c(this,kn))for(const i of c(this,kn))i.tabIndex=e},Zu=function(){if(x(this,Bs,!1),S(this,Dt,ub).call(this,-1),c(this,el)){const{savedX:e,savedY:i,savedWidth:s,savedHeight:r}=c(this,el);S(this,Dt,rb).call(this,e,i,s,r),x(this,el,null)}},T(Vt,Oh),_t(Vt,"_l10n",null),_t(Vt,"_l10nResizer",null),_t(Vt,"_borderLineWidth",-1),_t(Vt,"_colorManager",new Q0),_t(Vt,"_zIndex",1),_t(Vt,"_telemetryTimeout",1e3);let Qt=Vt;class OC extends Qt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const j_=3285377520,pn=4294901760,Qn=65535;class qx{constructor(e){this.h1=e?e&4294967295:j_,this.h2=e?e&4294967295:j_}update(e){let i,s;if(typeof e=="string"){i=new Uint8Array(e.length*2),s=0;for(let C=0,L=e.length;C<L;C++){const M=e.charCodeAt(C);M<=255?i[s++]=M:(i[s++]=M>>>8,i[s++]=M&255)}}else if(ArrayBuffer.isView(e))i=e.slice(),s=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,u=new Uint32Array(i.buffer,0,r);let h=0,f=0,g=this.h1,b=this.h2;const y=3432918353,v=461845907,_=y&Qn,E=v&Qn;for(let C=0;C<r;C++)C&1?(h=u[C],h=h*y&pn|h*_&Qn,h=h<<15|h>>>17,h=h*v&pn|h*E&Qn,g^=h,g=g<<13|g>>>19,g=g*5+3864292196):(f=u[C],f=f*y&pn|f*_&Qn,f=f<<15|f>>>17,f=f*v&pn|f*E&Qn,b^=f,b=b<<13|b>>>19,b=b*5+3864292196);switch(h=0,o){case 3:h^=i[r*4+2]<<16;case 2:h^=i[r*4+1]<<8;case 1:h^=i[r*4],h=h*y&pn|h*_&Qn,h=h<<15|h>>>17,h=h*v&pn|h*E&Qn,r&1?g^=h:b^=h}this.h1=g,this.h2=b}hexdigest(){let e=this.h1,i=this.h2;return e^=i>>>1,e=e*3981806797&pn|e*36045&Qn,i=i*4283543511&pn|((i<<16|e>>>16)*2950163797&pn)>>>16,e^=i>>>1,e=e*444984403&pn|e*60499&Qn,i=i*3301882366&pn|((i<<16|e>>>16)*3120437893&pn)>>>16,e^=i>>>1,(e>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const hb=Object.freeze({map:null,hash:"",transfer:void 0});var sl,al,Ze,qg,Vx;class my{constructor(){T(this,qg);T(this,sl,!1);T(this,al,null);T(this,Ze,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,i){const s=c(this,Ze).get(e);return s===void 0?i:Object.assign(i,s)}getRawValue(e){return c(this,Ze).get(e)}remove(e){if(c(this,Ze).delete(e),c(this,Ze).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of c(this,Ze).values())if(i instanceof Qt)return;this.onAnnotationEditor(null)}}setValue(e,i){const s=c(this,Ze).get(e);let r=!1;if(s!==void 0)for(const[o,u]of Object.entries(i))s[o]!==u&&(r=!0,s[o]=u);else r=!0,c(this,Ze).set(e,i);r&&S(this,qg,Vx).call(this),i instanceof Qt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(e){return c(this,Ze).has(e)}getAll(){return c(this,Ze).size>0?uy(c(this,Ze)):null}setAll(e){for(const[i,s]of Object.entries(e))this.setValue(i,s)}get size(){return c(this,Ze).size}resetModified(){c(this,sl)&&(x(this,sl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Xx(this)}get serializable(){if(c(this,Ze).size===0)return hb;const e=new Map,i=new qx,s=[],r=Object.create(null);let o=!1;for(const[u,h]of c(this,Ze)){const f=h instanceof Qt?h.serialize(!1,r):h;f&&(e.set(u,f),i.update(`${u}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const u of e.values())u.bitmap&&s.push(u.bitmap);return e.size>0?{map:e,hash:i.hexdigest(),transfer:s}:hb}get editorStats(){let e=null;const i=new Map;for(const s of c(this,Ze).values()){if(!(s instanceof Qt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;i.has(o)||i.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const u=e[o]||(e[o]=new Map);for(const[h,f]of Object.entries(r)){if(h==="type")continue;let g=u.get(h);g||(g=new Map,u.set(h,g));const b=g.get(f)??0;g.set(f,b+1)}}for(const[s,r]of i)e[s]=r.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){x(this,al,null)}get modifiedIds(){if(c(this,al))return c(this,al);const e=[];for(const i of c(this,Ze).values())!(i instanceof Qt)||!i.annotationElementId||!i.serialize()||e.push(i.annotationElementId);return x(this,al,{ids:new Set(e),hash:e.join(",")})}}sl=new WeakMap,al=new WeakMap,Ze=new WeakMap,qg=new WeakSet,Vx=function(){c(this,sl)||(x(this,sl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var kh;class Xx extends my{constructor(i){super();T(this,kh);const{map:s,hash:r,transfer:o}=i.serializable,u=structuredClone(s,o?{transfer:o}:null);x(this,kh,{map:u,hash:r,transfer:o})}get print(){le("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,kh)}get modifiedIds(){return Ft(this,"modifiedIds",{ids:new Set,hash:""})}}kh=new WeakMap;var lc;class kC{constructor({ownerDocument:e=globalThis.document,styleElement:i=null}){T(this,lc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(e,i.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,lc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:i}){if(!(!e||c(this,lc).has(e.loadedName))){if(Fe(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=e,u=new FontFace(s,r,o);this.addNativeFontFace(u);try{await u.load(),c(this,lc).add(s),i==null||i(e)}catch{Nt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}le("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Nt(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const i=e.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var i;const e=!!((i=this._document)!=null&&i.fonts);return Ft(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(yi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ft(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function i(){for(Fe(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:i,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ft(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,i){function s(z,I){return z.charCodeAt(I)<<24|z.charCodeAt(I+1)<<16|z.charCodeAt(I+2)<<8|z.charCodeAt(I+3)&255}function r(z,I,H,X){const W=z.substring(0,I),et=z.substring(I+H);return W+X+et}let o,u;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let g=0;function b(z,I){if(++g>30){Nt("Load test font never loaded."),I();return}if(f.font="30px "+z,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(b.bind(null,z,I))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,y.length,y);const E=16,C=1482184792;let L=s(v,E);for(o=0,u=y.length-3;o<u;o+=4)L=L-C+s(y,o)|0;o<y.length&&(L=L-C+s(y+"XXX",o)|0),v=r(v,E,4,yC(L));const M=`url(data:font/opentype;base64,${btoa(v)});`,P=`@font-face {font-family:"${y}";src:${M}}`;this.insertRule(P);const j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(const z of[e.loadedName,y]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=z,j.append(I)}this._document.body.append(j),b(y,()=>{j.remove(),i.complete()})}}lc=new WeakMap;class PC{constructor(e,{disableFontFace:i=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=i===!0,this._inspectFont=s}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(i=this._inspectFont)==null||i.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${EC(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),i}getPathGenerator(e,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let s;try{s=e.get(this.loadedName+"_path_"+i)}catch(o){Nt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[i]=function(o,u){};const r=[];for(let o=0,u=s.length;o<u;)switch(s[o++]){case Ns.BEZIER_CURVE_TO:{const[h,f,g,b,y,v]=s.slice(o,o+6);r.push(_=>_.bezierCurveTo(h,f,g,b,y,v)),o+=6}break;case Ns.MOVE_TO:{const[h,f]=s.slice(o,o+2);r.push(g=>g.moveTo(h,f)),o+=2}break;case Ns.LINE_TO:{const[h,f]=s.slice(o,o+2);r.push(g=>g.lineTo(h,f)),o+=2}break;case Ns.QUADRATIC_CURVE_TO:{const[h,f,g,b]=s.slice(o,o+4);r.push(y=>y.quadraticCurveTo(h,f,g,b)),o+=4}break;case Ns.RESTORE:r.push(h=>h.restore());break;case Ns.SAVE:r.push(h=>h.save());break;case Ns.SCALE:Fe(r.length===2,"Scale command is only valid at the third position.");break;case Ns.TRANSFORM:{const[h,f,g,b,y,v]=s.slice(o,o+6);r.push(_=>_.transform(h,f,g,b,y,v)),o+=6}break;case Ns.TRANSLATE:{const[h,f]=s.slice(o,o+2);r.push(g=>g.translate(h,f)),o+=2}break}return this.compiledGlyphs[i]=function(u,h){r[0](u),r[1](u),u.scale(h,-h);for(let f=2,g=r.length;f<g;f++)r[f](u)}}}var Ph;class Yx{constructor({enableHWA:e=!1}){T(this,Ph,!1);x(this,Ph,e)}create(e,i){if(e<=0||i<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,i);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!c(this,Ph)})}}reset(e,i,s){if(!e.canvas)throw new Error("Canvas is not specified");if(i<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=i,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,i){le("Abstract method `_createCanvas` called.")}}Ph=new WeakMap;class jC extends Yx{constructor({ownerDocument:e=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=e}_createCanvas(e,i){const s=this._document.createElement("canvas");return s.width=e,s.height=i,s}}class Kx{constructor({baseUrl:e=null,isCompressed:i=!0}){this.baseUrl=e,this.isCompressed=i}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(e){le("Abstract method `_fetch` called.")}}class $x extends Kx{async _fetch(e){const i=await lp(e,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):rp(i)}}class Qx{addFilter(e){return"none"}addHCMFilter(e,i){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,i,s,r,o){return"none"}destroy(e=!1){}}var rl,ll,rs,Is,gi,Vg,ol,rt,di,Po,jo,ug,zo,Wx,db,Ho,Ju,th,fb,eh;class zC extends Qx{constructor({docId:i,ownerDocument:s=globalThis.document}){super();T(this,rt);T(this,rl);T(this,ll);T(this,rs);T(this,Is);T(this,gi);T(this,Vg);T(this,ol,0);x(this,Is,i),x(this,gi,s)}addFilter(i){if(!i)return"none";let s=c(this,rt,di).get(i);if(s)return s;const[r,o,u]=S(this,rt,ug).call(this,i),h=i.length===1?r:`${r}${o}${u}`;if(s=c(this,rt,di).get(h),s)return c(this,rt,di).set(i,s),s;const f=`g_${c(this,Is)}_transfer_map_${Ai(this,ol)._++}`,g=S(this,rt,zo).call(this,f);c(this,rt,di).set(i,g),c(this,rt,di).set(h,g);const b=S(this,rt,Ho).call(this,f);return S(this,rt,th).call(this,r,o,u,b),g}addHCMFilter(i,s){var E;const r=`${i}-${s}`,o="base";let u=c(this,rt,Po).get(o);if((u==null?void 0:u.key)===r||(u?((E=u.filter)==null||E.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},c(this,rt,Po).set(o,u)),!i||!s))return u.url;const h=S(this,rt,eh).call(this,i);i=dt.makeHexColor(...h);const f=S(this,rt,eh).call(this,s);if(s=dt.makeHexColor(...f),c(this,rt,jo).style.color="",i==="#000000"&&s==="#ffffff"||i===s)return u.url;const g=new Array(256);for(let C=0;C<=255;C++){const L=C/255;g[C]=L<=.03928?L/12.92:((L+.055)/1.055)**2.4}const b=g.join(","),y=`g_${c(this,Is)}_hcm_filter`,v=u.filter=S(this,rt,Ho).call(this,y);S(this,rt,th).call(this,b,b,b,v),S(this,rt,db).call(this,v);const _=(C,L)=>{const M=h[C]/255,P=f[C]/255,j=new Array(L+1);for(let z=0;z<=L;z++)j[z]=M+z/L*(P-M);return j.join(",")};return S(this,rt,th).call(this,_(0,5),_(1,5),_(2,5),v),u.url=S(this,rt,zo).call(this,y),u.url}addAlphaFilter(i){let s=c(this,rt,di).get(i);if(s)return s;const[r]=S(this,rt,ug).call(this,[i]),o=`alpha_${r}`;if(s=c(this,rt,di).get(o),s)return c(this,rt,di).set(i,s),s;const u=`g_${c(this,Is)}_alpha_map_${Ai(this,ol)._++}`,h=S(this,rt,zo).call(this,u);c(this,rt,di).set(i,h),c(this,rt,di).set(o,h);const f=S(this,rt,Ho).call(this,u);return S(this,rt,fb).call(this,r,f),h}addLuminosityFilter(i){let s=c(this,rt,di).get(i||"luminosity");if(s)return s;let r,o;if(i?([r]=S(this,rt,ug).call(this,[i]),o=`luminosity_${r}`):o="luminosity",s=c(this,rt,di).get(o),s)return c(this,rt,di).set(i,s),s;const u=`g_${c(this,Is)}_luminosity_map_${Ai(this,ol)._++}`,h=S(this,rt,zo).call(this,u);c(this,rt,di).set(i,h),c(this,rt,di).set(o,h);const f=S(this,rt,Ho).call(this,u);return S(this,rt,Wx).call(this,f),i&&S(this,rt,fb).call(this,r,f),h}addHighlightHCMFilter(i,s,r,o,u){var P;const h=`${s}-${r}-${o}-${u}`;let f=c(this,rt,Po).get(i);if((f==null?void 0:f.key)===h||(f?((P=f.filter)==null||P.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},c(this,rt,Po).set(i,f)),!s||!r))return f.url;const[g,b]=[s,r].map(S(this,rt,eh).bind(this));let y=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*b[0]+.7152*b[1]+.0722*b[2]),[_,E]=[o,u].map(S(this,rt,eh).bind(this));v<y&&([y,v,_,E]=[v,y,E,_]),c(this,rt,jo).style.color="";const C=(j,z,I)=>{const H=new Array(256),X=(v-y)/I,W=j/255,et=(z-j)/(255*I);let lt=0;for(let at=0;at<=I;at++){const pt=Math.round(y+at*X),bt=W+at*et;for(let ft=lt;ft<=pt;ft++)H[ft]=bt;lt=pt+1}for(let at=lt;at<256;at++)H[at]=H[lt-1];return H.join(",")},L=`g_${c(this,Is)}_hcm_${i}_filter`,M=f.filter=S(this,rt,Ho).call(this,L);return S(this,rt,db).call(this,M),S(this,rt,th).call(this,C(_[0],E[0],5),C(_[1],E[1],5),C(_[2],E[2],5),M),f.url=S(this,rt,zo).call(this,L),f.url}destroy(i=!1){i&&c(this,rt,Po).size!==0||(c(this,rs)&&(c(this,rs).parentNode.parentNode.remove(),x(this,rs,null)),c(this,ll)&&(c(this,ll).clear(),x(this,ll,null)),x(this,ol,0))}}rl=new WeakMap,ll=new WeakMap,rs=new WeakMap,Is=new WeakMap,gi=new WeakMap,Vg=new WeakMap,ol=new WeakMap,rt=new WeakSet,di=function(){return c(this,ll)||x(this,ll,new Map)},Po=function(){return c(this,Vg)||x(this,Vg,new Map)},jo=function(){if(!c(this,rs)){const i=c(this,gi).createElement("div"),{style:s}=i;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=c(this,gi).createElementNS(ks,"svg");r.setAttribute("width",0),r.setAttribute("height",0),x(this,rs,c(this,gi).createElementNS(ks,"defs")),i.append(r),r.append(c(this,rs)),c(this,gi).body.append(i)}return c(this,rs)},ug=function(i){if(i.length===1){const g=i[0],b=new Array(256);for(let v=0;v<256;v++)b[v]=g[v]/255;const y=b.join(",");return[y,y,y]}const[s,r,o]=i,u=new Array(256),h=new Array(256),f=new Array(256);for(let g=0;g<256;g++)u[g]=s[g]/255,h[g]=r[g]/255,f[g]=o[g]/255;return[u.join(","),h.join(","),f.join(",")]},zo=function(i){if(c(this,rl)===void 0){x(this,rl,"");const s=c(this,gi).URL;s!==c(this,gi).baseURI&&(op(s)?Nt('#createUrl: ignore "data:"-URL for performance reasons.'):x(this,rl,s.split("#",1)[0]))}return`url(${c(this,rl)}#${i})`},Wx=function(i){const s=c(this,gi).createElementNS(ks,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(s)},db=function(i){const s=c(this,gi).createElementNS(ks,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(s)},Ho=function(i){const s=c(this,gi).createElementNS(ks,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",i),c(this,rt,jo).append(s),s},Ju=function(i,s,r){const o=c(this,gi).createElementNS(ks,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),i.append(o)},th=function(i,s,r,o){const u=c(this,gi).createElementNS(ks,"feComponentTransfer");o.append(u),S(this,rt,Ju).call(this,u,"feFuncR",i),S(this,rt,Ju).call(this,u,"feFuncG",s),S(this,rt,Ju).call(this,u,"feFuncB",r)},fb=function(i,s){const r=c(this,gi).createElementNS(ks,"feComponentTransfer");s.append(r),S(this,rt,Ju).call(this,r,"feFuncA",i)},eh=function(i){return c(this,rt,jo).style.color=i,py(getComputedStyle(c(this,rt,jo)).getPropertyValue("color"))};class Zx{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(s=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(e){le("Abstract method `_fetch` called.")}}class Jx extends Zx{async _fetch(e){const i=await lp(e,"arraybuffer");return new Uint8Array(i)}}if(yi){var gb=Promise.withResolvers(),dh=null;(async()=>{const e=await Wf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),i=await Wf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),s=await Wf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),r=await Wf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url);let o,u;return new Map(Object.entries({fs:e,http:i,https:s,url:r,canvas:o,path2d:u}))})().then(e=>{dh=e,gb.resolve()},e=>{Nt(`loadPackages: ${e}`),dh=new Map,gb.resolve()})}class fr{static get promise(){return gb.promise}static get(e){return dh==null?void 0:dh.get(e)}}async function tS(p){const i=await fr.get("fs").promises.readFile(p);return new Uint8Array(i)}class HC extends Qx{}class FC extends Yx{_createCanvas(e,i){return fr.get("canvas").createCanvas(e,i)}}class UC extends Kx{async _fetch(e){return tS(e)}}class BC extends Zx{async _fetch(e){return tS(e)}}const Si={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function pb(p,e){if(!e)return;const i=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],i,s),p.clip(r)}class by{getPattern(){le("Abstract method `getPattern` called.")}}class IC extends by{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let i;this._type==="axial"?i=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)i.addColorStop(s[0],s[1]);return i}getPattern(e,i,s,r){let o;if(r===Si.STROKE||r===Si.FILL){const u=i.current.getClippedPathBoundingBox(r,pe(e))||[0,0,0,0],h=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,g=i.cachedCanvases.getCanvas("pattern",h,f),b=g.context;b.clearRect(0,0,b.canvas.width,b.canvas.height),b.beginPath(),b.rect(0,0,b.canvas.width,b.canvas.height),b.translate(-u[0],-u[1]),s=dt.transform(s,[1,0,0,1,u[0],u[1]]),b.transform(...i.baseTransform),this.matrix&&b.transform(...this.matrix),pb(b,this._bbox),b.fillStyle=this._createGradient(b),b.fill(),o=e.createPattern(g.canvas,"no-repeat");const y=new DOMMatrix(s);o.setTransform(y)}else pb(e,this._bbox),o=this._createGradient(e);return o}}function H0(p,e,i,s,r,o,u,h){const f=e.coords,g=e.colors,b=p.data,y=p.width*4;let v;f[i+1]>f[s+1]&&(v=i,i=s,s=v,v=o,o=u,u=v),f[s+1]>f[r+1]&&(v=s,s=r,r=v,v=u,u=h,h=v),f[i+1]>f[s+1]&&(v=i,i=s,s=v,v=o,o=u,u=v);const _=(f[i]+e.offsetX)*e.scaleX,E=(f[i+1]+e.offsetY)*e.scaleY,C=(f[s]+e.offsetX)*e.scaleX,L=(f[s+1]+e.offsetY)*e.scaleY,M=(f[r]+e.offsetX)*e.scaleX,P=(f[r+1]+e.offsetY)*e.scaleY;if(E>=P)return;const j=g[o],z=g[o+1],I=g[o+2],H=g[u],X=g[u+1],W=g[u+2],et=g[h],lt=g[h+1],at=g[h+2],pt=Math.round(E),bt=Math.round(P);let ft,ht,U,V,Z,St,N,K;for(let tt=pt;tt<=bt;tt++){if(tt<L){const wt=tt<E?0:(E-tt)/(E-L);ft=_-(_-C)*wt,ht=j-(j-H)*wt,U=z-(z-X)*wt,V=I-(I-W)*wt}else{let wt;tt>P?wt=1:L===P?wt=0:wt=(L-tt)/(L-P),ft=C-(C-M)*wt,ht=H-(H-et)*wt,U=X-(X-lt)*wt,V=W-(W-at)*wt}let J;tt<E?J=0:tt>P?J=1:J=(E-tt)/(E-P),Z=_-(_-M)*J,St=j-(j-et)*J,N=z-(z-lt)*J,K=I-(I-at)*J;const ot=Math.round(Math.min(ft,Z)),Et=Math.round(Math.max(ft,Z));let ct=y*tt+ot*4;for(let wt=ot;wt<=Et;wt++)J=(ft-wt)/(ft-Z),J<0?J=0:J>1&&(J=1),b[ct++]=ht-(ht-St)*J|0,b[ct++]=U-(U-N)*J|0,b[ct++]=V-(V-K)*J|0,b[ct++]=255}}function GC(p,e,i){const s=e.coords,r=e.colors;let o,u;switch(e.type){case"lattice":const h=e.verticesPerRow,f=Math.floor(s.length/h)-1,g=h-1;for(o=0;o<f;o++){let b=o*h;for(let y=0;y<g;y++,b++)H0(p,i,s[b],s[b+1],s[b+h],r[b],r[b+1],r[b+h]),H0(p,i,s[b+h+1],s[b+1],s[b+h],r[b+h+1],r[b+1],r[b+h])}break;case"triangles":for(o=0,u=s.length;o<u;o+=3)H0(p,i,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class qC extends by{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,i,s){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-h,b=Math.ceil(this._bounds[3])-f,y=Math.min(Math.ceil(Math.abs(g*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(b*e[1]*1.1)),3e3),_=g/y,E=b/v,C={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/_,scaleY:1/E},L=y+2*2,M=v+2*2,P=s.getCanvas("mesh",L,M),j=P.context,z=j.createImageData(y,v);if(i){const H=z.data;for(let X=0,W=H.length;X<W;X+=4)H[X]=i[0],H[X+1]=i[1],H[X+2]=i[2],H[X+3]=255}for(const H of this._figures)GC(z,H,C);return j.putImageData(z,2,2),{canvas:P.canvas,offsetX:h-2*_,offsetY:f-2*E,scaleX:_,scaleY:E}}getPattern(e,i,s,r){pb(e,this._bbox);let o;if(r===Si.SHADING)o=dt.singularValueDecompose2dScale(pe(e));else if(o=dt.singularValueDecompose2dScale(i.baseTransform),this.matrix){const h=dt.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const u=this._createMeshCanvas(o,r===Si.SHADING?null:this._background,i.cachedCanvases);return r!==Si.SHADING&&(e.setTransform(...i.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(u.offsetX,u.offsetY),e.scale(u.scaleX,u.scaleY),e.createPattern(u.canvas,"no-repeat")}}class VC extends by{getPattern(){return"hotpink"}}function XC(p){switch(p[0]){case"RadialAxial":return new IC(p);case"Mesh":return new qC(p);case"Dummy":return new VC}throw new Error(`Unknown IR type: ${p[0]}`)}const z_={COLORED:1,UNCOLORED:2},Xg=class Xg{constructor(e,i,s,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:i,operatorList:s,paintType:r,tilingType:o,color:u,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:g}=this;f=Math.abs(f),g=Math.abs(g),sp("TilingType: "+o);const b=i[0],y=i[1],v=i[2],_=i[3],E=v-b,C=_-y,L=dt.singularValueDecompose2dScale(this.matrix),M=dt.singularValueDecompose2dScale(this.baseTransform),P=L[0]*M[0],j=L[1]*M[1];let z=E,I=C,H=!1,X=!1;const W=Math.ceil(f*P),et=Math.ceil(g*j),lt=Math.ceil(E*P),at=Math.ceil(C*j);W>=lt?z=f:H=!0,et>=at?I=g:X=!0;const pt=this.getSizeAndScale(z,this.ctx.canvas.width,P),bt=this.getSizeAndScale(I,this.ctx.canvas.height,j),ft=e.cachedCanvases.getCanvas("pattern",pt.size,bt.size),ht=ft.context,U=h.createCanvasGraphics(ht);if(U.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(U,r,u),ht.translate(-pt.scale*b,-bt.scale*y),U.transform(pt.scale,0,0,bt.scale,0,0),ht.save(),this.clipBbox(U,b,y,v,_),U.baseTransform=pe(U.ctx),U.executeOperatorList(s),U.endDrawing(),ht.restore(),H||X){const V=ft.canvas;H&&(z=f),X&&(I=g);const Z=this.getSizeAndScale(z,this.ctx.canvas.width,P),St=this.getSizeAndScale(I,this.ctx.canvas.height,j),N=Z.size,K=St.size,tt=e.cachedCanvases.getCanvas("pattern-workaround",N,K),J=tt.context,ot=H?Math.floor(E/f):0,Et=X?Math.floor(C/g):0;for(let ct=0;ct<=ot;ct++)for(let wt=0;wt<=Et;wt++)J.drawImage(V,N*ct,K*wt,N,K,0,0,N,K);return{canvas:tt.canvas,scaleX:Z.scale,scaleY:St.scale,offsetX:b,offsetY:y}}return{canvas:ft.canvas,scaleX:pt.scale,scaleY:bt.scale,offsetX:b,offsetY:y}}getSizeAndScale(e,i,s){const r=Math.max(Xg.MAX_PATTERN_SIZE,i);let o=Math.ceil(e*s);return o>=r?o=r:s=o/e,{scale:s,size:o}}clipBbox(e,i,s,r,o){const u=r-i,h=o-s;e.ctx.rect(i,s,u,h),e.current.updateRectMinMax(pe(e.ctx),[i,s,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,s){const r=e.ctx,o=e.current;switch(i){case z_.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,o.fillColor=u.fillStyle,o.strokeColor=u.strokeStyle;break;case z_.UNCOLORED:const h=dt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=h,r.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new bC(`Unsupported paint type: ${i}`)}}getPattern(e,i,s,r){let o=s;r!==Si.SHADING&&(o=dt.transform(o,i.baseTransform),this.matrix&&(o=dt.transform(o,this.matrix)));const u=this.createPatternCanvas(i);let h=new DOMMatrix(o);h=h.translate(u.offsetX,u.offsetY),h=h.scale(1/u.scaleX,1/u.scaleY);const f=e.createPattern(u.canvas,"repeat");return f.setTransform(h),f}};_t(Xg,"MAX_PATTERN_SIZE",3e3);let mb=Xg;function YC({src:p,srcPos:e=0,dest:i,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const h=Ei.isLittleEndian?4278190080:255,[f,g]=u?[o,h]:[h,o],b=s>>3,y=s&7,v=p.length;i=new Uint32Array(i.buffer);let _=0;for(let E=0;E<r;E++){for(const L=e+b;e<L;e++){const M=e<v?p[e]:255;i[_++]=M&128?g:f,i[_++]=M&64?g:f,i[_++]=M&32?g:f,i[_++]=M&16?g:f,i[_++]=M&8?g:f,i[_++]=M&4?g:f,i[_++]=M&2?g:f,i[_++]=M&1?g:f}if(y===0)continue;const C=e<v?p[e++]:255;for(let L=0;L<y;L++)i[_++]=C&1<<7-L?g:f}return{srcPos:e,destPos:_}}const H_=16,F_=100,KC=15,U_=10,B_=1e3,zi=16;function $C(p,e){if(p._removeMirroring)throw new Error("Context is already forwarding operations.");p.__originalSave=p.save,p.__originalRestore=p.restore,p.__originalRotate=p.rotate,p.__originalScale=p.scale,p.__originalTranslate=p.translate,p.__originalTransform=p.transform,p.__originalSetTransform=p.setTransform,p.__originalResetTransform=p.resetTransform,p.__originalClip=p.clip,p.__originalMoveTo=p.moveTo,p.__originalLineTo=p.lineTo,p.__originalBezierCurveTo=p.bezierCurveTo,p.__originalRect=p.rect,p.__originalClosePath=p.closePath,p.__originalBeginPath=p.beginPath,p._removeMirroring=()=>{p.save=p.__originalSave,p.restore=p.__originalRestore,p.rotate=p.__originalRotate,p.scale=p.__originalScale,p.translate=p.__originalTranslate,p.transform=p.__originalTransform,p.setTransform=p.__originalSetTransform,p.resetTransform=p.__originalResetTransform,p.clip=p.__originalClip,p.moveTo=p.__originalMoveTo,p.lineTo=p.__originalLineTo,p.bezierCurveTo=p.__originalBezierCurveTo,p.rect=p.__originalRect,p.closePath=p.__originalClosePath,p.beginPath=p.__originalBeginPath,delete p._removeMirroring},p.save=function(){e.save(),this.__originalSave()},p.restore=function(){e.restore(),this.__originalRestore()},p.translate=function(s,r){e.translate(s,r),this.__originalTranslate(s,r)},p.scale=function(s,r){e.scale(s,r),this.__originalScale(s,r)},p.transform=function(s,r,o,u,h,f){e.transform(s,r,o,u,h,f),this.__originalTransform(s,r,o,u,h,f)},p.setTransform=function(s,r,o,u,h,f){e.setTransform(s,r,o,u,h,f),this.__originalSetTransform(s,r,o,u,h,f)},p.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},p.rotate=function(s){e.rotate(s),this.__originalRotate(s)},p.clip=function(s){e.clip(s),this.__originalClip(s)},p.moveTo=function(i,s){e.moveTo(i,s),this.__originalMoveTo(i,s)},p.lineTo=function(i,s){e.lineTo(i,s),this.__originalLineTo(i,s)},p.bezierCurveTo=function(i,s,r,o,u,h){e.bezierCurveTo(i,s,r,o,u,h),this.__originalBezierCurveTo(i,s,r,o,u,h)},p.rect=function(i,s,r,o){e.rect(i,s,r,o),this.__originalRect(i,s,r,o)},p.closePath=function(){e.closePath(),this.__originalClosePath()},p.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class QC{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,i,s)):(r=this.canvasFactory.create(i,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const i=this.cache[e];this.canvasFactory.destroy(i),delete this.cache[e]}}}function Zf(p,e,i,s,r,o,u,h,f,g){const[b,y,v,_,E,C]=pe(p);if(y===0&&v===0){const P=u*b+E,j=Math.round(P),z=h*_+C,I=Math.round(z),H=(u+f)*b+E,X=Math.abs(Math.round(H)-j)||1,W=(h+g)*_+C,et=Math.abs(Math.round(W)-I)||1;return p.setTransform(Math.sign(b),0,0,Math.sign(_),j,I),p.drawImage(e,i,s,r,o,0,0,X,et),p.setTransform(b,y,v,_,E,C),[X,et]}if(b===0&&_===0){const P=h*v+E,j=Math.round(P),z=u*y+C,I=Math.round(z),H=(h+g)*v+E,X=Math.abs(Math.round(H)-j)||1,W=(u+f)*y+C,et=Math.abs(Math.round(W)-I)||1;return p.setTransform(0,Math.sign(y),Math.sign(v),0,j,I),p.drawImage(e,i,s,r,o,0,0,et,X),p.setTransform(b,y,v,_,E,C),[et,X]}p.drawImage(e,i,s,r,o,u,h,f,g);const L=Math.hypot(b,y),M=Math.hypot(v,_);return[L*f,M*g]}function WC(p){const{width:e,height:i}=p;if(e>B_||i>B_)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let u=new Uint8Array(o*(i+1)),h,f,g;const b=e+7&-8;let y=new Uint8Array(b*i),v=0;for(const M of p.data){let P=128;for(;P>0;)y[v++]=M&P?0:255,P>>=1}let _=0;for(v=0,y[v]!==0&&(u[0]=1,++_),f=1;f<e;f++)y[v]!==y[v+1]&&(u[f]=y[v]?2:1,++_),v++;for(y[v]!==0&&(u[f]=2,++_),h=1;h<i;h++){v=h*b,g=h*o,y[v-b]!==y[v]&&(u[g]=y[v]?1:8,++_);let M=(y[v]?4:0)+(y[v-b]?8:0);for(f=1;f<e;f++)M=(M>>2)+(y[v+1]?4:0)+(y[v-b+1]?8:0),r[M]&&(u[g+f]=r[M],++_),v++;if(y[v-b]!==y[v]&&(u[g+f]=y[v]?2:4,++_),_>s)return null}for(v=b*(i-1),g=h*o,y[v]!==0&&(u[g]=8,++_),f=1;f<e;f++)y[v]!==y[v+1]&&(u[g+f]=y[v]?4:8,++_),v++;if(y[v]!==0&&(u[g+f]=4,++_),_>s)return null;const E=new Int32Array([0,o,-1,0,-o,0,0,0,1]),C=new Path2D;for(h=0;_&&h<=i;h++){let M=h*o;const P=M+e;for(;M<P&&!u[M];)M++;if(M===P)continue;C.moveTo(M%o,h);const j=M;let z=u[M];do{const I=E[z];do M+=I;while(!u[M]);const H=u[M];H!==5&&H!==10?(z=H,u[M]=0):(z=H&51*z>>4,u[M]&=z>>2|z<<2),C.lineTo(M%o,M/o|0),u[M]||--_}while(j!==M);--h}return y=null,u=null,function(M){M.save(),M.scale(1/e,-1/i),M.translate(0,-i),M.fill(C),M.beginPath(),M.restore()}}class I_{constructor(e,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=bx,this.textMatrixScale=1,this.fontMatrix=I0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=hi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,i])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,i){this.x=e,this.y=i}updatePathMinMax(e,i,s){[i,s]=dt.applyTransform([i,s],e),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,i){const s=dt.applyTransform(i,e),r=dt.applyTransform(i.slice(2),e),o=dt.applyTransform([i[0],i[3]],e),u=dt.applyTransform([i[2],i[1]],e);this.minX=Math.min(this.minX,s[0],r[0],o[0],u[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],u[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],u[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],u[1])}updateScalingPathMinMax(e,i){dt.scaleMinMax(e,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(e,i,s,r,o,u,h,f,g,b){const y=dt.bezierBoundingBox(i,s,r,o,u,h,f,g,b);b||this.updateRectMinMax(e,y)}getPathBoundingBox(e=Si.FILL,i=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===Si.STROKE){i||le("Stroke bounding box must include transform.");const r=dt.singularValueDecompose2dScale(i),o=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=u,s[2]+=o,s[3]+=u}return s}updateClipFromPath(){const e=dt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Si.FILL,i=null){return dt.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function G_(p,e){if(typeof ImageData<"u"&&e instanceof ImageData){p.putImageData(e,0,0);return}const i=e.height,s=e.width,r=i%zi,o=(i-r)/zi,u=r===0?o:o+1,h=p.createImageData(s,zi);let f=0,g;const b=e.data,y=h.data;let v,_,E,C;if(e.kind===ng.GRAYSCALE_1BPP){const L=b.byteLength,M=new Uint32Array(y.buffer,0,y.byteLength>>2),P=M.length,j=s+7>>3,z=4294967295,I=Ei.isLittleEndian?4278190080:255;for(v=0;v<u;v++){for(E=v<o?zi:r,g=0,_=0;_<E;_++){const H=L-f;let X=0;const W=H>j?s:H*8-7,et=W&-8;let lt=0,at=0;for(;X<et;X+=8)at=b[f++],M[g++]=at&128?z:I,M[g++]=at&64?z:I,M[g++]=at&32?z:I,M[g++]=at&16?z:I,M[g++]=at&8?z:I,M[g++]=at&4?z:I,M[g++]=at&2?z:I,M[g++]=at&1?z:I;for(;X<W;X++)lt===0&&(at=b[f++],lt=128),M[g++]=at&lt?z:I,lt>>=1}for(;g<P;)M[g++]=0;p.putImageData(h,0,v*zi)}}else if(e.kind===ng.RGBA_32BPP){for(_=0,C=s*zi*4,v=0;v<o;v++)y.set(b.subarray(f,f+C)),f+=C,p.putImageData(h,0,_),_+=zi;v<u&&(C=s*r*4,y.set(b.subarray(f,f+C)),p.putImageData(h,0,_))}else if(e.kind===ng.RGB_24BPP)for(E=zi,C=s*E,v=0;v<u;v++){for(v>=o&&(E=r,C=s*E),g=0,_=C;_--;)y[g++]=b[f++],y[g++]=b[f++],y[g++]=b[f++],y[g++]=255;p.putImageData(h,0,v*zi)}else throw new Error(`bad image kind: ${e.kind}`)}function q_(p,e){if(e.bitmap){p.drawImage(e.bitmap,0,0);return}const i=e.height,s=e.width,r=i%zi,o=(i-r)/zi,u=r===0?o:o+1,h=p.createImageData(s,zi);let f=0;const g=e.data,b=h.data;for(let y=0;y<u;y++){const v=y<o?zi:r;({srcPos:f}=YC({src:g,srcPos:f,dest:b,width:s,height:v,nonBlackColor:0})),p.putImageData(h,0,y*zi)}}function Yu(p,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of i)p[s]!==void 0&&(e[s]=p[s]);p.setLineDash!==void 0&&(e.setLineDash(p.getLineDash()),e.lineDashOffset=p.lineDashOffset)}function Jf(p){if(p.strokeStyle=p.fillStyle="#000000",p.fillRule="nonzero",p.globalAlpha=1,p.lineWidth=1,p.lineCap="butt",p.lineJoin="miter",p.miterLimit=10,p.globalCompositeOperation="source-over",p.font="10px sans-serif",p.setLineDash!==void 0&&(p.setLineDash([]),p.lineDashOffset=0),!yi){const{filter:e}=p;e!=="none"&&e!==""&&(p.filter="none")}}function V_(p,e){if(e)return!0;const i=dt.singularValueDecompose2dScale(p);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*dr.PDF_TO_CSS_UNITS);return i[0]<=s&&i[1]<=s}const ZC=["butt","round","square"],JC=["miter","round","bevel"],tR={},X_={};var pr,bb,yb;const wy=class wy{constructor(e,i,s,r,o,{optionalContentConfig:u,markedContentStack:h=null},f,g){T(this,pr);this.ctx=e,this.current=new I_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=u,this.cachedCanvases=new QC(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=h,s){const f=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...pe(this.compositeCtx))}this.ctx.save(),Jf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=pe(this.ctx)}executeOperatorList(e,i,s,r){const o=e.argsArray,u=e.fnArray;let h=i||0;const f=o.length;if(f===h)return h;const g=f-h>U_&&typeof s=="function",b=g?Date.now()+KC:0;let y=0;const v=this.commonObjs,_=this.objs;let E;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,s),h;if(E=u[h],E!==Mn.dependency)this[E].apply(this,o[h]);else for(const C of o[h]){const L=C.startsWith("g_")?v:_;if(!L.has(C))return L.get(C,s),h}if(h++,h===f)return h;if(g&&++y>U_){if(Date.now()>b)return s(),h;y=0}}}endDrawing(){S(this,pr,bb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),S(this,pr,yb).call(this)}_scaleImage(e,i){const s=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(i[0],i[1]),1),u=Math.max(Math.hypot(i[2],i[3]),1),h=s,f=r,g="prescale1",b,y;for(;o>2&&h>1||u>2&&f>1;){let v=h,_=f;o>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/v),u>2&&f>1&&(_=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/_),b=this.cachedCanvases.getCanvas(g,v,_),y=b.context,y.clearRect(0,0,v,_),y.drawImage(e,0,0,h,f,0,0,v,_),e=b.canvas,h=v,f=_,g=g==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:h,paintHeight:f}}_createMaskCanvas(e){const i=this.ctx,{width:s,height:r}=e,o=this.current.fillColor,u=this.current.patternFill,h=pe(i);let f,g,b,y;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;g=JSON.stringify(u?h:[h.slice(0,4),o]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const et=f.get(g);if(et&&!u){const lt=Math.round(Math.min(h[0],h[2])+h[4]),at=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:et,offsetX:lt,offsetY:at}}b=et}b||(y=this.cachedCanvases.getCanvas("maskCanvas",s,r),q_(y.context,e));let v=dt.transform(h,[1/s,0,0,-1/r,0,0]);v=dt.transform(v,[1,0,0,1,0,-r]);const[_,E,C,L]=dt.getAxialAlignedBoundingBox([0,0,s,r],v),M=Math.round(C-_)||1,P=Math.round(L-E)||1,j=this.cachedCanvases.getCanvas("fillCanvas",M,P),z=j.context,I=_,H=E;z.translate(-I,-H),z.transform(...v),b||(b=this._scaleImage(y.canvas,Os(z)),b=b.img,f&&u&&f.set(g,b)),z.imageSmoothingEnabled=V_(pe(z),e.interpolate),Zf(z,b,0,0,b.width,b.height,0,0,s,r),z.globalCompositeOperation="source-in";const X=dt.transform(Os(z),[1,0,0,1,-I,-H]);return z.fillStyle=u?o.getPattern(i,this,X,Si.FILL):o,z.fillRect(0,0,s,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(g,j.canvas)),{canvas:j.canvas,offsetX:Math.round(I),offsetY:Math.round(H)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=ZC[e]}setLineJoin(e){this.ctx.lineJoin=JC[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,s]of e)switch(i){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,i);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...pe(this.suspendedCtx)),Yu(this.suspendedCtx,o),$C(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Yu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,i,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,i,s,r){const o=r[0],u=r[1],h=r[2]-o,f=r[3]-u;h===0||f===0||(this.genericComposeSMask(i.context,s,h,f,i.subtype,i.backdrop,i.transferMap,o,u,i.offsetX,i.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,i,s,r,o,u,h,f,g,b,y){let v=e.canvas,_=f-b,E=g-y;if(u){const L=dt.makeHexColor(...u);if(_<0||E<0||_+s>v.width||E+r>v.height){const M=this.cachedCanvases.getCanvas("maskExtension",s,r),P=M.context;P.drawImage(v,-_,-E),P.globalCompositeOperation="destination-atop",P.fillStyle=L,P.fillRect(0,0,s,r),P.globalCompositeOperation="source-over",v=M.canvas,_=E=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const M=new Path2D;M.rect(_,E,s,r),e.clip(M),e.globalCompositeOperation="destination-atop",e.fillStyle=L,e.fillRect(_,E,s,r),e.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?i.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(h));const C=new Path2D;C.rect(f,g,s,r),i.clip(C),i.globalCompositeOperation="destination-in",i.drawImage(v,_,E,s,r,f,g,s,r),i.restore()}save(){this.inSMaskMode?(Yu(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Yu(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,i,s,r,o,u){this.ctx.transform(e,i,s,r,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,i,s){const r=this.ctx,o=this.current;let u=o.x,h=o.y,f,g;const b=pe(r),y=b[0]===0&&b[3]===0||b[1]===0&&b[2]===0,v=y?s.slice(0):null;for(let _=0,E=0,C=e.length;_<C;_++)switch(e[_]|0){case Mn.rectangle:u=i[E++],h=i[E++];const L=i[E++],M=i[E++],P=u+L,j=h+M;r.moveTo(u,h),L===0||M===0?r.lineTo(P,j):(r.lineTo(P,h),r.lineTo(P,j),r.lineTo(u,j)),y||o.updateRectMinMax(b,[u,h,P,j]),r.closePath();break;case Mn.moveTo:u=i[E++],h=i[E++],r.moveTo(u,h),y||o.updatePathMinMax(b,u,h);break;case Mn.lineTo:u=i[E++],h=i[E++],r.lineTo(u,h),y||o.updatePathMinMax(b,u,h);break;case Mn.curveTo:f=u,g=h,u=i[E+4],h=i[E+5],r.bezierCurveTo(i[E],i[E+1],i[E+2],i[E+3],u,h),o.updateCurvePathMinMax(b,f,g,i[E],i[E+1],i[E+2],i[E+3],u,h,v),E+=6;break;case Mn.curveTo2:f=u,g=h,r.bezierCurveTo(u,h,i[E],i[E+1],i[E+2],i[E+3]),o.updateCurvePathMinMax(b,f,g,u,h,i[E],i[E+1],i[E+2],i[E+3],v),u=i[E+2],h=i[E+3],E+=4;break;case Mn.curveTo3:f=u,g=h,u=i[E+2],h=i[E+3],r.bezierCurveTo(i[E],i[E+1],u,h,u,h),o.updateCurvePathMinMax(b,f,g,i[E],i[E+1],u,h,u,h,v),E+=4;break;case Mn.closePath:r.closePath();break}y&&o.updateScalingPathMinMax(b,v),o.setCurrentPoint(u,h)}closePath(){this.ctx.closePath()}stroke(e=!0){const i=this.ctx,s=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(i.save(),i.strokeStyle=s.getPattern(i,this,Os(i),Si.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(i.save(),i.fillStyle=s.getPattern(i,this,Os(i),Si.FILL),o=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),o&&i.restore(),e&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=tR}eoClip(){this.pendingClip=X_}beginText(){this.current.textMatrix=bx,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(e===void 0){i.beginPath();return}i.save(),i.beginPath();for(const s of e)i.setTransform(...s.transform),i.translate(s.x,s.y),s.addToPath(i,s.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){var b;const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||I0,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Nt("Invalid font matrix for font "+e),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const o=s.loadedName||"sans-serif",u=((b=s.systemFontInfo)==null?void 0:b.css)||`"${o}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const f=s.italic?"italic":"normal";let g=i;i<H_?g=H_:i>F_&&(g=F_),this.current.fontSizeScale=i/g,this.ctx.font=`${f} ${h} ${g}px ${u}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e,i,s,r,o,u){this.current.textMatrix=[e,i,s,r,o,u],this.current.textMatrixScale=Math.hypot(e,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,s,r){const o=this.ctx,u=this.current,h=u.font,f=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,b=f&hi.FILL_STROKE_MASK,y=!!(f&hi.ADD_TO_PATH_FLAG),v=u.patternFill&&!h.missingFile;let _;(h.disableFontFace||y||v)&&(_=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||v?(o.save(),o.translate(i,s),o.beginPath(),_(o,g),r&&o.setTransform(...r),(b===hi.FILL||b===hi.FILL_STROKE)&&o.fill(),(b===hi.STROKE||b===hi.FILL_STROKE)&&o.stroke(),o.restore()):((b===hi.FILL||b===hi.FILL_STROKE)&&o.fillText(e,i,s),(b===hi.STROKE||b===hi.FILL_STROKE)&&o.strokeText(e,i,s)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:pe(o),x:i,y:s,fontSize:g,addToPath:_})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<i.length;r+=4)if(i[r]>0&&i[r]<255){s=!0;break}return Ft(this,"isFontSubpixelAAEnabled",s)}showText(e){const i=this.current,s=i.font;if(s.isType3Font)return this.showType3Text(e);const r=i.fontSize;if(r===0)return;const o=this.ctx,u=i.fontSizeScale,h=i.charSpacing,f=i.wordSpacing,g=i.fontDirection,b=i.textHScale*g,y=e.length,v=s.vertical,_=v?1:-1,E=s.defaultVMetrics,C=r*i.fontMatrix[0],L=i.textRenderingMode===hi.FILL&&!s.disableFontFace&&!i.patternFill;o.save(),o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),g>0?o.scale(b,-1):o.scale(b,1);let M;if(i.patternFill){o.save();const H=i.fillColor.getPattern(o,this,Os(o),Si.FILL);M=pe(o),o.restore(),o.fillStyle=H}let P=i.lineWidth;const j=i.textMatrixScale;if(j===0||P===0){const H=i.textRenderingMode&hi.FILL_STROKE_MASK;(H===hi.STROKE||H===hi.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=j;if(u!==1&&(o.scale(u,u),P/=u),o.lineWidth=P,s.isInvalidPDFjsFont){const H=[];let X=0;for(const W of e)H.push(W.unicode),X+=W.width;o.fillText(H.join(""),0,0),i.x+=X*C*b,o.restore(),this.compose();return}let z=0,I;for(I=0;I<y;++I){const H=e[I];if(typeof H=="number"){z+=_*H*r/1e3;continue}let X=!1;const W=(H.isSpace?f:0)+h,et=H.fontChar,lt=H.accent;let at,pt,bt=H.width;if(v){const ht=H.vmetric||E,U=-(H.vmetric?ht[1]:bt*.5)*C,V=ht[2]*C;bt=ht?-ht[0]:bt,at=U/u,pt=(z+V)/u}else at=z/u,pt=0;if(s.remeasure&&bt>0){const ht=o.measureText(et).width*1e3/r*u;if(bt<ht&&this.isFontSubpixelAAEnabled){const U=bt/ht;X=!0,o.save(),o.scale(U,1),at/=U}else bt!==ht&&(at+=(bt-ht)/2e3*r/u)}if(this.contentVisible&&(H.isInFont||s.missingFile)){if(L&&!lt)o.fillText(et,at,pt);else if(this.paintChar(et,at,pt,M),lt){const ht=at+r*lt.offset.x/u,U=pt-r*lt.offset.y/u;this.paintChar(lt.fontChar,ht,U,M)}}const ft=v?bt*C-W*g:bt*C+W*g;z+=ft,X&&o.restore()}v?i.y-=z:i.x+=z*b,o.restore(),this.compose()}showType3Text(e){const i=this.ctx,s=this.current,r=s.font,o=s.fontSize,u=s.fontDirection,h=r.vertical?1:-1,f=s.charSpacing,g=s.wordSpacing,b=s.textHScale*u,y=s.fontMatrix||I0,v=e.length,_=s.textRenderingMode===hi.INVISIBLE;let E,C,L,M;if(!(_||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...s.textMatrix),i.translate(s.x,s.y),i.scale(b,u),E=0;E<v;++E){if(C=e[E],typeof C=="number"){M=h*C*o/1e3,this.ctx.translate(M,0),s.x+=M*b;continue}const P=(C.isSpace?g:0)+f,j=r.charProcOperatorList[C.operatorListId];if(!j){Nt(`Type3 character "${C.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=C,this.save(),i.scale(o,o),i.transform(...y),this.executeOperatorList(j),this.restore()),L=dt.applyTransform([C.width,0],y)[0]*o+P,i.translate(L,0),s.x+=L*b}i.restore(),this.processingType3=null}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,s,r,o,u){this.ctx.rect(s,r,o-s,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let i;if(e[0]==="TilingPattern"){const s=e[1],r=this.baseTransform||pe(this.ctx),o={createCanvasGraphics:u=>new wy(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new mb(e,s,this.ctx,o,r)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,s){this.ctx.strokeStyle=this.current.strokeColor=dt.makeHexColor(e,i,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,i,s){this.ctx.fillStyle=this.current.fillColor=dt.makeHexColor(e,i,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,i=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=XC(this.getObject(e)),this.cachedPatterns.set(e,s)),i&&(s.matrix=i),s}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const s=this._getPattern(e);i.fillStyle=s.getPattern(i,this,Os(i),Si.SHADING);const r=Os(i);if(r){const{width:o,height:u}=i.canvas,[h,f,g,b]=dt.getAxialAlignedBoundingBox([0,0,o,u],r);this.ctx.fillRect(h,f,g-h,b-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){le("Should not call beginInlineImage")}beginImageData(){le("Should not call beginImageData")}paintFormXObjectBegin(e,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=pe(this.ctx),i)){const s=i[2]-i[0],r=i[3]-i[1];this.ctx.rect(i[0],i[1],s,r),this.current.updateRectMinMax(pe(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||sp("TODO: Support non-isolated groups."),e.knockout&&Nt("Knockout groups not supported.");const s=pe(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=dt.getAxialAlignedBoundingBox(e.bbox,pe(i));const o=[0,0,i.canvas.width,i.canvas.height];r=dt.intersect(r,o)||[0,0,0,0];const u=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),g=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,g]);let b="groupAt"+this.groupLevel;e.smask&&(b+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(b,f,g),v=y.context;v.translate(-u,-h),v.transform(...s),e.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:u,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(u,h),i.save()),Yu(i,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=pe(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=dt.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],r);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,i,s,r,o){if(S(this,pr,bb).call(this),Jf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],h=i[3]-i[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=h;const[f,g]=dt.singularValueDecompose2dScale(pe(this.ctx)),{viewportScale:b}=this,y=Math.ceil(u*this.outputScaleX*b),v=Math.ceil(h*this.outputScaleY*b);this.annotationCanvas=this.canvasFactory.create(y,v);const{canvas:_,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(e,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(f,0,0,-g,0,h*g),Jf(this.ctx)}else Jf(this.ctx),this.endPath(),this.ctx.rect(i[0],i[1],u,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new I_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),S(this,pr,yb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(e.data,e),e.count=i;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=WC(e)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(e),u=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(u,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,s=0,r=0,o,u){if(!this.contentVisible)return;e=this.getObject(e.data,e);const h=this.ctx;h.save();const f=pe(h);h.transform(i,s,r,o,0,0);const g=this._createMaskCanvas(e);h.setTransform(1,0,0,1,g.offsetX-f[4],g.offsetY-f[5]);for(let b=0,y=u.length;b<y;b+=2){const v=dt.transform(f,[i,s,r,o,u[b],u[b+1]]),[_,E]=dt.applyTransform([0,0],v);h.drawImage(g.canvas,_,E)}h.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:u,width:h,height:f,transform:g}=o,b=this.cachedCanvases.getCanvas("maskCanvas",h,f),y=b.context;y.save();const v=this.getObject(u,o);q_(y,v),y.globalCompositeOperation="source-in",y.fillStyle=r?s.getPattern(y,this,Os(i),Si.FILL):s,y.fillRect(0,0,h,f),y.restore(),i.save(),i.transform(...g),i.scale(1,-1),Zf(i,b.canvas,0,0,h,f,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){Nt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(e,i,s,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Nt("Dependent image isn't ready yet");return}const u=o.width,h=o.height,f=[];for(let g=0,b=r.length;g<b;g+=2)f.push({transform:[i,0,0,s,r[g],r[g+1]],x:0,y:0,w:u,h});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:i,width:s,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",s,r),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(i,0,0),u.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,s=e.height,r=this.ctx;if(this.save(),!yi){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/i,-1/s);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,s).context;G_(f,e),o=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(o,Os(r));r.imageSmoothingEnabled=V_(pe(r),e.interpolate),Zf(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,i,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u).context;G_(f,e),r=this.applyTransferMapsToCanvas(f)}for(const o of i)s.save(),s.transform(...o.transform),s.scale(1,-1),Zf(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(i||(this.pendingClip===X_?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=pe(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:i,b:s,c:r,d:o}=this.ctx.getTransform();let u,h;if(s===0&&r===0){const f=Math.abs(i),g=Math.abs(o);if(f===g)if(e===0)u=h=1/f;else{const b=f*e;u=h=b<1?1/b:1}else if(e===0)u=1/f,h=1/g;else{const b=f*e,y=g*e;u=b<1?1/b:1,h=y<1?1/y:1}}else{const f=Math.abs(i*o-s*r),g=Math.hypot(i,s),b=Math.hypot(r,o);if(e===0)u=b/f,h=g/f;else{const y=e*f;u=b>y?b/y:1,h=g>y?g/y:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:i}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(i.lineWidth=s||1,r===1&&o===1){i.stroke();return}const u=i.getLineDash();if(e&&i.save(),i.scale(r,o),u.length>0){const h=Math.max(r,o);i.setLineDash(u.map(f=>f/h)),i.lineDashOffset/=h}i.stroke(),e&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};pr=new WeakSet,bb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},yb=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const i=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}};let qo=wy;for(const p in Mn)qo.prototype[p]!==void 0&&(qo.prototype[Mn[p]]=qo.prototype[p]);var jh,zh;class la{static get workerPort(){return c(this,jh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");x(this,jh,e)}static get workerSrc(){return c(this,zh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");x(this,zh,e)}}jh=new WeakMap,zh=new WeakMap,T(la,jh,null),T(la,zh,"");const tg={DATA:1,ERROR:2},De={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Yi(p){switch(p instanceof Error||typeof p=="object"&&p!==null||le('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),p.name){case"AbortException":return new Yl(p.message);case"MissingPDFException":return new Xl(p.message);case"PasswordException":return new G0(p.message,p.code);case"UnexpectedResponseException":return new ap(p.message,p.status);case"UnknownErrorException":return new q0(p.message,p.details);default:return new q0(p.message,p.toString())}}var oc,Sn,eS,iS,nS,hg;class ih{constructor(e,i,s){T(this,Sn);T(this,oc,new AbortController);this.sourceName=e,this.targetName=i,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",S(this,Sn,eS).bind(this),{signal:c(this,oc).signal})}on(e,i){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=i}send(e,i,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:i},s)}sendWithPromise(e,i,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:i},s)}catch(u){o.reject(u)}return o.promise}sendWithStream(e,i,s,r){const o=this.streamId++,u=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:g=>{const b=Promise.withResolvers();return this.streamControllers[o]={controller:g,startCall:b,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:h,action:e,streamId:o,data:i,desiredSize:g.desiredSize},r),b.promise},pull:g=>{const b=Promise.withResolvers();return this.streamControllers[o].pullCall=b,f.postMessage({sourceName:u,targetName:h,stream:De.PULL,streamId:o,desiredSize:g.desiredSize}),b.promise},cancel:g=>{Fe(g instanceof Error,"cancel must have a valid reason");const b=Promise.withResolvers();return this.streamControllers[o].cancelCall=b,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:u,targetName:h,stream:De.CANCEL,streamId:o,reason:Yi(g)}),b.promise}},s)}destroy(){var e;(e=c(this,oc))==null||e.abort(),x(this,oc,null)}}oc=new WeakMap,Sn=new WeakSet,eS=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){S(this,Sn,nS).call(this,e);return}if(e.callback){const s=e.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===tg.DATA)r.resolve(e.data);else if(e.callback===tg.ERROR)r.reject(Yi(e.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[e.action];if(!i)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,r=e.sourceName,o=this.comObj;new Promise(function(u){u(i(e.data))}).then(function(u){o.postMessage({sourceName:s,targetName:r,callback:tg.DATA,callbackId:e.callbackId,data:u})},function(u){o.postMessage({sourceName:s,targetName:r,callback:tg.ERROR,callbackId:e.callbackId,reason:Yi(u)})});return}if(e.streamId){S(this,Sn,iS).call(this,e);return}i(e.data)},iS=function(e){const i=e.streamId,s=this.sourceName,r=e.sourceName,o=this.comObj,u=this,h=this.actionHandler[e.action],f={enqueue(g,b=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=b,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:De.ENQUEUE,streamId:i,chunk:g},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:De.CLOSE,streamId:i}),delete u.streamSinks[i])},error(g){Fe(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:De.ERROR,streamId:i,reason:Yi(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[i]=f,new Promise(function(g){g(h(e.data,f))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:De.START_COMPLETE,streamId:i,success:!0})},function(g){o.postMessage({sourceName:s,targetName:r,stream:De.START_COMPLETE,streamId:i,reason:Yi(g)})})},nS=function(e){const i=e.streamId,s=this.sourceName,r=e.sourceName,o=this.comObj,u=this.streamControllers[i],h=this.streamSinks[i];switch(e.stream){case De.START_COMPLETE:e.success?u.startCall.resolve():u.startCall.reject(Yi(e.reason));break;case De.PULL_COMPLETE:e.success?u.pullCall.resolve():u.pullCall.reject(Yi(e.reason));break;case De.PULL:if(!h){o.postMessage({sourceName:s,targetName:r,stream:De.PULL_COMPLETE,streamId:i,success:!0});break}h.desiredSize<=0&&e.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=e.desiredSize,new Promise(function(f){var g;f((g=h.onPull)==null?void 0:g.call(h))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:De.PULL_COMPLETE,streamId:i,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:De.PULL_COMPLETE,streamId:i,reason:Yi(f)})});break;case De.ENQUEUE:if(Fe(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(e.chunk);break;case De.CLOSE:if(Fe(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),S(this,Sn,hg).call(this,u,i);break;case De.ERROR:Fe(u,"error should have stream controller"),u.controller.error(Yi(e.reason)),S(this,Sn,hg).call(this,u,i);break;case De.CANCEL_COMPLETE:e.success?u.cancelCall.resolve():u.cancelCall.reject(Yi(e.reason)),S(this,Sn,hg).call(this,u,i);break;case De.CANCEL:if(!h)break;new Promise(function(f){var g;f((g=h.onCancel)==null?void 0:g.call(h,Yi(e.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:De.CANCEL_COMPLETE,streamId:i,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:De.CANCEL_COMPLETE,streamId:i,reason:Yi(f)})}),h.sinkCapability.reject(Yi(e.reason)),h.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},hg=async function(e,i){var s,r,o;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[i]};var cl,Hh;class eR{constructor({parsedData:e,rawData:i}){T(this,cl);T(this,Hh);x(this,cl,e),x(this,Hh,i)}getRaw(){return c(this,Hh)}get(e){return c(this,cl).get(e)??null}getAll(){return uy(c(this,cl))}has(e){return c(this,cl).has(e)}}cl=new WeakMap,Hh=new WeakMap;const Fo=Symbol("INTERNAL");var Fh,Uh,Bh,cc;class iR{constructor(e,{name:i,intent:s,usage:r,rbGroups:o}){T(this,Fh,!1);T(this,Uh,!1);T(this,Bh,!1);T(this,cc,!0);x(this,Fh,!!(e&nn.DISPLAY)),x(this,Uh,!!(e&nn.PRINT)),this.name=i,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(c(this,Bh))return c(this,cc);if(!c(this,cc))return!1;const{print:e,view:i}=this.usage;return c(this,Fh)?(i==null?void 0:i.viewState)!=="OFF":c(this,Uh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,i,s=!1){e!==Fo&&le("Internal method `_setVisible` called."),x(this,Bh,s),x(this,cc,i)}}Fh=new WeakMap,Uh=new WeakMap,Bh=new WeakMap,cc=new WeakMap;var Qa,$t,uc,hc,Ih,vb;class nR{constructor(e,i=nn.DISPLAY){T(this,Ih);T(this,Qa,null);T(this,$t,new Map);T(this,uc,null);T(this,hc,null);if(this.renderingIntent=i,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,x(this,hc,e.order);for(const s of e.groups)c(this,$t).set(s.id,new iR(i,s));if(e.baseState==="OFF")for(const s of c(this,$t).values())s._setVisible(Fo,!1);for(const s of e.on)c(this,$t).get(s)._setVisible(Fo,!0);for(const s of e.off)c(this,$t).get(s)._setVisible(Fo,!1);x(this,uc,this.getHash())}}isVisible(e){if(c(this,$t).size===0)return!0;if(!e)return sp("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,$t).has(e.id)?c(this,$t).get(e.id).visible:(Nt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return S(this,Ih,vb).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const i of e.ids){if(!c(this,$t).has(i))return Nt(`Optional content group not found: ${i}`),!0;if(c(this,$t).get(i).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const i of e.ids){if(!c(this,$t).has(i))return Nt(`Optional content group not found: ${i}`),!0;if(!c(this,$t).get(i).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const i of e.ids){if(!c(this,$t).has(i))return Nt(`Optional content group not found: ${i}`),!0;if(!c(this,$t).get(i).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const i of e.ids){if(!c(this,$t).has(i))return Nt(`Optional content group not found: ${i}`),!0;if(c(this,$t).get(i).visible)return!1}return!0}return Nt(`Unknown optional content policy ${e.policy}.`),!0}return Nt(`Unknown group type ${e.type}.`),!0}setVisibility(e,i=!0,s=!0){var o;const r=c(this,$t).get(e);if(!r){Nt(`Optional content group not found: ${e}`);return}if(s&&i&&r.rbGroups.length)for(const u of r.rbGroups)for(const h of u)h!==e&&((o=c(this,$t).get(h))==null||o._setVisible(Fo,!1,!0));r._setVisible(Fo,!!i,!0),x(this,Qa,null)}setOCGState({state:e,preserveRB:i}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=c(this,$t).get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,i);break;case"OFF":this.setVisibility(r,!1,i);break;case"Toggle":this.setVisibility(r,!o.visible,i);break}}x(this,Qa,null)}get hasInitialVisibility(){return c(this,uc)===null||this.getHash()===c(this,uc)}getOrder(){return c(this,$t).size?c(this,hc)?c(this,hc).slice():[...c(this,$t).keys()]:null}getGroups(){return c(this,$t).size>0?uy(c(this,$t)):null}getGroup(e){return c(this,$t).get(e)||null}getHash(){if(c(this,Qa)!==null)return c(this,Qa);const e=new qx;for(const[i,s]of c(this,$t))e.update(`${i}:${s.visible}`);return x(this,Qa,e.hexdigest())}}Qa=new WeakMap,$t=new WeakMap,uc=new WeakMap,hc=new WeakMap,Ih=new WeakSet,vb=function(e){const i=e.length;if(i<2)return!0;const s=e[0];for(let r=1;r<i;r++){const o=e[r];let u;if(Array.isArray(o))u=S(this,Ih,vb).call(this,o);else if(c(this,$t).has(o))u=c(this,$t).get(o).visible;else return Nt(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"};class sR{constructor(e,{disableRange:i=!1,disableStream:s=!1}){Fe(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:u,contentDispositionFilename:h}=e;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=h,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!i,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((f,g)=>{this._onReceiveData({begin:f,chunk:g})}),e.addProgressListener((f,g)=>{this._onProgress({loaded:f,total:g})}),e.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:i}){const s=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(s),!0)});Fe(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var i,s,r,o;e.total===void 0?(s=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const i=this._rangeReaders.indexOf(e);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){Fe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new aR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const s=new rR(this,e,i);return this._pdfDataRangeTransport.requestDataRange(e,i),this._rangeReaders.push(s),s}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class aR{constructor(e,i,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=fy(r)?r:null,this._queuedChunks=i||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class rR{constructor(e,i,s){this._stream=e,this._begin=i,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function lR(p){let e=!0,i=s("filename\\*","i").exec(p);if(i){i=i[1];let b=h(i);return b=unescape(b),b=f(b),b=g(b),o(b)}if(i=u(p),i){const b=g(i);return o(b)}if(i=s("filename","i").exec(p),i){i=i[1];let b=h(i);return b=g(b),o(b)}function s(b,y){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(b,y){if(b){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(b,{fatal:!0}),_=rp(y);y=v.decode(_),e=!1}catch{}}return y}function o(b){return e&&/[\x80-\xff]/.test(b)&&(b=r("utf-8",b),e&&(b=r("iso-8859-1",b))),b}function u(b){const y=[];let v;const _=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=_.exec(b))!==null;){let[,C,L,M]=v;if(C=parseInt(C,10),C in y){if(C===0)break;continue}y[C]=[L,M]}const E=[];for(let C=0;C<y.length&&C in y;++C){let[L,M]=y[C];M=h(M),L&&(M=unescape(M),C===0&&(M=f(M))),E.push(M)}return E.join("")}function h(b){if(b.startsWith('"')){const y=b.slice(1).split('\\"');for(let v=0;v<y.length;++v){const _=y[v].indexOf('"');_!==-1&&(y[v]=y[v].slice(0,_),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}b=y.join('"')}return b}function f(b){const y=b.indexOf("'");if(y===-1)return b;const v=b.slice(0,y),E=b.slice(y+1).replace(/^[^']*'/,"");return r(v,E)}function g(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,_,E){if(_==="q"||_==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,L){return String.fromCharCode(parseInt(L,16))}),r(v,E);try{E=atob(E)}catch{}return r(v,E)})}return""}function yy(p,e){const i=new Headers;if(!p||!e||typeof e!="object")return i;for(const s in e){const r=e[s];r!==void 0&&i.append(s,r)}return i}function vy({responseHeaders:p,isHttp:e,rangeChunkSize:i,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(p.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*i)||s||!e||p.get("Accept-Ranges")!=="bytes"||(p.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Ay(p){const e=p.get("Content-Disposition");if(e){let i=lR(e);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(fy(i))return i}return null}function cp(p,e){return p===404||p===0&&e.startsWith("file:")?new Xl('Missing PDF "'+e+'".'):new ap(`Unexpected server response (${p}) while retrieving PDF "${e}".`,p)}function sS(p){return p===200||p===206}function aS(p,e,i){return{method:"GET",headers:p,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function rS(p){return p instanceof Uint8Array?p.buffer:p instanceof ArrayBuffer?p:(Nt(`getArrayBuffer - unexpected data format: ${p}`),new Uint8Array(p).buffer)}class Y_{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=yy(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Fe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new oR(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const s=new cR(this,e,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class oR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const s=new Headers(e.headers),r=i.url;fetch(r,aS(s,this._withCredentials,this._abortController)).then(o=>{if(!sS(o.status))throw cp(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const u=o.headers,{allowRangeRequests:h,suggestedLength:f}=vy({responseHeaders:u,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=Ay(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Yl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:rS(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class cR{constructor(e,i,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${i}-${s-1}`);const u=r.url;fetch(u,aS(o,this._withCredentials,this._abortController)).then(h=>{if(!sS(h.status))throw cp(h.status,u);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:rS(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}const F0=200,U0=206;function uR(p){const e=p.response;return typeof e!="string"?e:rp(e).buffer}class hR{constructor({url:e,httpHeaders:i,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=yy(this.isHttp,i),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,i,s){const r={begin:e,end:i};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(e){return this.request(e)}request(e){const i=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[o,u]of this.headers)i.setRequestHeader(o,u);return this.isHttp&&"begin"in e&&"end"in e?(i.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=U0):r.expectedStatus=F0,i.responseType="arraybuffer",e.onError&&(i.onerror=function(o){e.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,s),i.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,i.send(null),s}onProgress(e,i){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,i))}onStateChange(e,i){var f,g,b;const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,r.status);return}const o=r.status||F0;if(!(o===F0&&s.expectedStatus===U0)&&o!==s.expectedStatus){(g=s.onError)==null||g.call(s,r.status);return}const h=uR(r);if(o===U0){const y=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);s.onDone({begin:parseInt(v[1],10),chunk:h})}else h?s.onDone({begin:0,chunk:h}):(b=s.onError)==null||b.call(s,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const i=this.pendingRequests[e].xhr;delete this.pendingRequests[e],i.abort()}}class dR{constructor(e){this._source=e,this._manager=new hR(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const i=this._rangeRequestReaders.indexOf(e);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return Fe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new fR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,i){const s=new gR(this._manager,e,i);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class fR{constructor(e,i){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=e.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,i=this._manager.getRequestXhr(e),s=new Headers(i.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[h,...f]=u.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=vy({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Ay(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=cp(e,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var i;(i=this.onProgress)==null||i.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class gR{constructor(e,i,s){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(i,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const i=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=cp(e,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const pR=/^[a-z][a-z0-9\-+.]+:/i;function mR(p){if(pR.test(p))return new URL(p);const e=fr.get("url");return new URL(e.pathToFileURL(p))}function lS(p,e,i){return p.protocol==="http:"?fr.get("http").request(p,{headers:e},i):fr.get("https").request(p,{headers:e},i)}class bR{constructor(e){this.source=e,this.url=mR(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=yy(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Fe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new AR(this):new yR(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const s=this.isFsUrl?new _R(this,e,i):new vR(this,e,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class oS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=e.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Yl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class yR extends oS{constructor(e){super(e);const i=Object.fromEntries(e.headers),s=r=>{if(r.statusCode===404){const f=new Xl(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:h}=vy({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=Ay(o)};this._request=lS(this._url,i,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class vR extends cS{constructor(e,i,s){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${i}-${s-1}`;const o=u=>{if(u.statusCode===404){const h=new Xl(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(u)};this._request=lS(this._url,r,o),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class AR extends oS{constructor(e){super(e);const i=fr.get("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Xl(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class _R extends cS{constructor(e,i,s){super(e);const r=fr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:i,end:s-1}))}}const xR=1e5,Ni=30,SR=.8;var ox,Wa,Pi,Gh,qh,ul,Gs,Vh,Xh,hl,dc,fc,Za,gc,Yh,pc,dl,Kh,$h,Ae,fl,gl,Qh,Ja,mc,ha,uS,hS,_b,an,dg,xb,dS,fS;let Ab=(Ae=class{constructor({textContentSource:e,container:i,viewport:s}){T(this,ha);T(this,Wa,Promise.withResolvers());T(this,Pi,null);T(this,Gh,!1);T(this,qh,!!((ox=globalThis.FontInspector)!=null&&ox.enabled));T(this,ul,null);T(this,Gs,null);T(this,Vh,0);T(this,Xh,0);T(this,hl,null);T(this,dc,null);T(this,fc,0);T(this,Za,0);T(this,gc,Object.create(null));T(this,Yh,[]);T(this,pc,null);T(this,dl,[]);T(this,Kh,new WeakMap);T(this,$h,null);var f;if(e instanceof ReadableStream)x(this,pc,e);else if(typeof e=="object")x(this,pc,new ReadableStream({start(g){g.enqueue(e),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');x(this,Pi,x(this,dc,i)),x(this,Za,s.scale*(globalThis.devicePixelRatio||1)),x(this,fc,s.rotation),x(this,Gs,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:u,pageY:h}=s.rawDims;x(this,$h,[1,0,0,-1,-u,h+o]),x(this,Xh,r),x(this,Vh,o),S(f=Ae,an,dS).call(f),Ul(i,s),c(this,Wa).promise.finally(()=>{c(Ae,mc).delete(this),x(this,Gs,null),x(this,gc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:i}=Ei.platform;return Ft(this,"fontFamilyMap",new Map([["sans-serif",`${e&&i?"Calibri, ":""}sans-serif`],["monospace",`${e&&i?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,hl).read().then(({value:i,done:s})=>{if(s){c(this,Wa).resolve();return}c(this,ul)??x(this,ul,i.lang),Object.assign(c(this,gc),i.styles),S(this,ha,uS).call(this,i.items),e()},c(this,Wa).reject)};return x(this,hl,c(this,pc).getReader()),c(Ae,mc).add(this),e(),c(this,Wa).promise}update({viewport:e,onBefore:i=null}){var o;const s=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,fc)&&(i==null||i(),x(this,fc,r),Ul(c(this,dc),{rotation:r})),s!==c(this,Za)){i==null||i(),x(this,Za,s);const u={div:null,properties:null,ctx:S(o=Ae,an,dg).call(o,c(this,ul))};for(const h of c(this,dl))u.properties=c(this,Kh).get(h),u.div=h,S(this,ha,_b).call(this,u)}}cancel(){var i;const e=new Yl("TextLayer task cancelled.");(i=c(this,hl))==null||i.cancel(e).catch(()=>{}),x(this,hl,null),c(this,Wa).reject(e)}get textDivs(){return c(this,dl)}get textContentItemsStr(){return c(this,Yh)}static cleanup(){if(!(c(this,mc).size>0)){c(this,fl).clear();for(const{canvas:e}of c(this,gl).values())e.remove();c(this,gl).clear()}}},Wa=new WeakMap,Pi=new WeakMap,Gh=new WeakMap,qh=new WeakMap,ul=new WeakMap,Gs=new WeakMap,Vh=new WeakMap,Xh=new WeakMap,hl=new WeakMap,dc=new WeakMap,fc=new WeakMap,Za=new WeakMap,gc=new WeakMap,Yh=new WeakMap,pc=new WeakMap,dl=new WeakMap,Kh=new WeakMap,$h=new WeakMap,fl=new WeakMap,gl=new WeakMap,Qh=new WeakMap,Ja=new WeakMap,mc=new WeakMap,ha=new WeakSet,uS=function(e){var r,o;if(c(this,Gh))return;(o=c(this,Gs)).ctx??(o.ctx=S(r=Ae,an,dg).call(r,c(this,ul)));const i=c(this,dl),s=c(this,Yh);for(const u of e){if(i.length>xR){Nt("Ignoring additional textDivs for performance reasons."),x(this,Gh,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const h=c(this,Pi);x(this,Pi,document.createElement("span")),c(this,Pi).classList.add("markedContent"),u.id!==null&&c(this,Pi).setAttribute("id",`${u.id}`),h.append(c(this,Pi))}else u.type==="endMarkedContent"&&x(this,Pi,c(this,Pi).parentNode);continue}s.push(u.str),S(this,ha,hS).call(this,u)}},hS=function(e){var C;const i=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,dl).push(i);const r=dt.transform(c(this,$h),e.transform);let o=Math.atan2(r[1],r[0]);const u=c(this,gc)[e.fontName];u.vertical&&(o+=Math.PI/2);let h=c(this,qh)&&u.fontSubstitution||u.fontFamily;h=Ae.fontFamilyMap.get(h)||h;const f=Math.hypot(r[2],r[3]),g=f*S(C=Ae,an,fS).call(C,h,c(this,ul));let b,y;o===0?(b=r[4],y=r[5]-g):(b=r[4]+g*Math.sin(o),y=r[5]-g*Math.cos(o));const v="calc(var(--scale-factor)*",_=i.style;c(this,Pi)===c(this,dc)?(_.left=`${(100*b/c(this,Xh)).toFixed(2)}%`,_.top=`${(100*y/c(this,Vh)).toFixed(2)}%`):(_.left=`${v}${b.toFixed(2)}px)`,_.top=`${v}${y.toFixed(2)}px)`),_.fontSize=`${v}${(c(Ae,Ja)*f).toFixed(2)}px)`,_.fontFamily=h,s.fontSize=f,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,c(this,qh)&&(i.dataset.fontName=u.fontSubstitutionLoadedName||e.fontName),o!==0&&(s.angle=o*(180/Math.PI));let E=!1;if(e.str.length>1)E=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const L=Math.abs(e.transform[0]),M=Math.abs(e.transform[3]);L!==M&&Math.max(L,M)/Math.min(L,M)>1.5&&(E=!0)}if(E&&(s.canvasWidth=u.vertical?e.height:e.width),c(this,Kh).set(i,s),c(this,Gs).div=i,c(this,Gs).properties=s,S(this,ha,_b).call(this,c(this,Gs)),s.hasText&&c(this,Pi).append(i),s.hasEOL){const L=document.createElement("br");L.setAttribute("role","presentation"),c(this,Pi).append(L)}},_b=function(e){var h;const{div:i,properties:s,ctx:r}=e,{style:o}=i;let u="";if(c(Ae,Ja)>1&&(u=`scale(${1/c(Ae,Ja)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=o,{canvasWidth:g,fontSize:b}=s;S(h=Ae,an,xb).call(h,r,b*c(this,Za),f);const{width:y}=r.measureText(i.textContent);y>0&&(u=`scaleX(${g*c(this,Za)/y}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(o.transform=u)},an=new WeakSet,dg=function(e=null){let i=c(this,gl).get(e||(e=""));if(!i){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),i=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,gl).set(e,i),c(this,Qh).set(i,{size:0,family:""})}return i},xb=function(e,i,s){const r=c(this,Qh).get(e);i===r.size&&s===r.family||(e.font=`${i}px ${s}`,r.size=i,r.family=s)},dS=function(){if(c(this,Ja)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),x(this,Ja,e.getBoundingClientRect().height),e.remove()},fS=function(e,i){const s=c(this,fl).get(e);if(s)return s;const r=S(this,an,dg).call(this,i);r.canvas.width=r.canvas.height=Ni,S(this,an,xb).call(this,r,Ni,e);const o=r.measureText("");let u=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);if(u){const b=u/(u+h);return c(this,fl).set(e,b),r.canvas.width=r.canvas.height=0,b}r.strokeStyle="red",r.clearRect(0,0,Ni,Ni),r.strokeText("g",0,0);let f=r.getImageData(0,0,Ni,Ni).data;h=0;for(let b=f.length-1-3;b>=0;b-=4)if(f[b]>0){h=Math.ceil(b/4/Ni);break}r.clearRect(0,0,Ni,Ni),r.strokeText("A",0,Ni),f=r.getImageData(0,0,Ni,Ni).data,u=0;for(let b=0,y=f.length;b<y;b+=4)if(f[b]>0){u=Ni-Math.floor(b/4/Ni);break}r.canvas.width=r.canvas.height=0;const g=u?u/(u+h):SR;return c(this,fl).set(e,g),g},T(Ae,an),T(Ae,fl,new Map),T(Ae,gl,new Map),T(Ae,Qh,new WeakMap),T(Ae,Ja,null),T(Ae,mc,new Set),Ae);class gh{static textContent(e){const i=[],s={items:i,styles:Object.create(null)};function r(o){var f;if(!o)return;let u=null;const h=o.name;if(h==="#text")u=o.value;else if(gh.shouldBuildText(h))(f=o==null?void 0:o.attributes)!=null&&f.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&i.push({str:u}),!!o.children)for(const g of o.children)r(g)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const ER=65536,wR=100,TR=5e3,CR=yi?FC:jC,RR=yi?UC:$x,MR=yi?HC:zC,DR=yi?BC:Jx;function LR(p={}){typeof p=="string"||p instanceof URL?p={url:p}:(p instanceof ArrayBuffer||ArrayBuffer.isView(p))&&(p={data:p});const e=new Sb,{docId:i}=e,s=p.url?NR(p.url):null,r=p.data?OR(p.data):null,o=p.httpHeaders||null,u=p.withCredentials===!0,h=p.password??null,f=p.range instanceof gS?p.range:null,g=Number.isInteger(p.rangeChunkSize)&&p.rangeChunkSize>0?p.rangeChunkSize:ER;let b=p.worker instanceof Vo?p.worker:null;const y=p.verbosity,v=typeof p.docBaseUrl=="string"&&!op(p.docBaseUrl)?p.docBaseUrl:null,_=typeof p.cMapUrl=="string"?p.cMapUrl:null,E=p.cMapPacked!==!1,C=p.CMapReaderFactory||RR,L=typeof p.standardFontDataUrl=="string"?p.standardFontDataUrl:null,M=p.StandardFontDataFactory||DR,P=p.stopAtErrors!==!0,j=Number.isInteger(p.maxImageSize)&&p.maxImageSize>-1?p.maxImageSize:-1,z=p.isEvalSupported!==!1,I=typeof p.isOffscreenCanvasSupported=="boolean"?p.isOffscreenCanvasSupported:!yi,H=typeof p.isChrome=="boolean"?p.isChrome:!Ei.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),X=Number.isInteger(p.canvasMaxAreaInBytes)?p.canvasMaxAreaInBytes:-1,W=typeof p.disableFontFace=="boolean"?p.disableFontFace:yi,et=p.fontExtraProperties===!0,lt=p.enableXfa===!0,at=p.ownerDocument||globalThis.document,pt=p.disableRange===!0,bt=p.disableStream===!0,ft=p.disableAutoFetch===!0,ht=p.pdfBug===!0,U=p.CanvasFactory||CR,V=p.FilterFactory||MR,Z=p.enableHWA===!0,St=f?f.length:p.length??NaN,N=typeof p.useSystemFonts=="boolean"?p.useSystemFonts:!yi&&!W,K=typeof p.useWorkerFetch=="boolean"?p.useWorkerFetch:C===$x&&M===Jx&&_&&L&&$u(_,document.baseURI)&&$u(L,document.baseURI);p.canvasFactory&&P_("`canvasFactory`-instance option, please use `CanvasFactory` instead."),p.filterFactory&&P_("`filterFactory`-instance option, please use `FilterFactory` instead.");const tt=null;fC(y);const J={canvasFactory:new U({ownerDocument:at,enableHWA:Z}),filterFactory:new V({docId:i,ownerDocument:at}),cMapReaderFactory:K?null:new C({baseUrl:_,isCompressed:E}),standardFontDataFactory:K?null:new M({baseUrl:L})};if(!b){const ct={verbosity:y,port:la.workerPort};b=ct.port?Vo.fromPort(ct):new Vo(ct),e._worker=b}const ot={docId:i,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:ft,rangeChunkSize:g,length:St,docBaseUrl:v,enableXfa:lt,evaluatorOptions:{maxImageSize:j,disableFontFace:W,ignoreErrors:P,isEvalSupported:z,isOffscreenCanvasSupported:I,isChrome:H,canvasMaxAreaInBytes:X,fontExtraProperties:et,useSystemFonts:N,cMapUrl:K?_:null,standardFontDataUrl:K?L:null}},Et={disableFontFace:W,fontExtraProperties:et,ownerDocument:at,pdfBug:ht,styleElement:tt,loadingParams:{disableAutoFetch:ft,enableXfa:lt}};return b.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(b.destroyed)throw new Error("Worker was destroyed");const ct=b.messageHandler.sendWithPromise("GetDocRequest",ot,r?[r.buffer]:null);let wt;if(f)wt=new sR(f,{disableRange:pt,disableStream:bt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Ht;yi?Ht=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&$u(s)?Y_:bR:Ht=$u(s)?Y_:dR,wt=new Ht({url:s,length:St,httpHeaders:o,withCredentials:u,rangeChunkSize:g,disableRange:pt,disableStream:bt})}return ct.then(Ht=>{if(e.destroyed)throw new Error("Loading aborted");if(b.destroyed)throw new Error("Worker was destroyed");const we=new ih(i,Ht,b.port),Wt=new zR(we,e,wt,Et,J);e._transport=Wt,we.send("Ready",null)})}).catch(e._capability.reject),e}function NR(p){if(p instanceof URL)return p.href;try{return new URL(p,window.location).href}catch{if(yi&&typeof p=="string")return p}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function OR(p){if(yi&&typeof Buffer<"u"&&p instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength)return p;if(typeof p=="string")return rp(p);if(p instanceof ArrayBuffer||ArrayBuffer.isView(p)||typeof p=="object"&&!isNaN(p==null?void 0:p.length))return new Uint8Array(p);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function K_(p){return typeof p=="object"&&Number.isInteger(p==null?void 0:p.num)&&p.num>=0&&Number.isInteger(p==null?void 0:p.gen)&&p.gen>=0}var Yg;const Kg=class Kg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ai(Kg,Yg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,i,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Yg=new WeakMap,T(Kg,Yg,0);let Sb=Kg,gS=class{constructor(e,i,s=!1,r=null){this.length=e,this.initialData=i,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(const s of this._rangeListeners)s(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){le("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class kR{constructor(e,i){this._pdfInfo=e,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var tr,qs,_n,Uo,fg;class PR{constructor(e,i,s,r=!1){T(this,_n);T(this,tr,null);T(this,qs,!1);this._pageIndex=e,this._pageInfo=i,this._transport=s,this._stats=r?new k_:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new pS,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new Dd({viewBox:this.view,scale:e,rotation:i,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:i,intent:s="display",annotationMode:r=Ha.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:g=null,printAnnotationStorage:b=null,isEditing:y=!1}){var z,I;(z=this._stats)==null||z.time("Overall");const v=this._transport.getRenderingIntent(s,r,b,y),{renderingIntent:_,cacheKey:E}=v;x(this,qs,!1),S(this,_n,fg).call(this),h||(h=this._transport.getOptionalContentConfig(_));let C=this._intentStates.get(E);C||(C=Object.create(null),this._intentStates.set(E,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const L=!!(_&nn.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(I=this._stats)==null||I.time("Page Request"),this._pumpOperatorList(v));const M=H=>{var X;C.renderTasks.delete(P),(this._maybeCleanupAfterRender||L)&&x(this,qs,!0),S(this,_n,Uo).call(this,!L),H?(P.capability.reject(H),this._abortOperatorList({intentState:C,reason:H instanceof Error?H:new Error(H)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(X=globalThis.Stats)!=null&&X.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new wb({callback:M,params:{canvasContext:e,viewport:i,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!L,pdfBug:this._pdfBug,pageColors:g});(C.renderTasks||(C.renderTasks=new Set)).add(P);const j=P.task;return Promise.all([C.displayReadyCapability.promise,h]).then(([H,X])=>{var W;if(this.destroyed){M();return}if((W=this._stats)==null||W.time("Rendering"),!(X.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:H,optionalContentConfig:X}),P.operatorListChanged()}).catch(M),j}getOperatorList({intent:e="display",annotationMode:i=Ha.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var g;function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(e,i,s,r,!0);let h=this._intentStates.get(u.cacheKey);h||(h=Object.create(null),this._intentStates.set(u.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(u)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>gh.textContent(s));const i=this.streamTextContent(e);return new Promise(function(s,r){function o(){u.read().then(function({value:f,done:g}){if(g){s(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),o()},r)}const u=i.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const s of i.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),x(this,qs,!1),S(this,_n,fg).call(this),Promise.all(e)}cleanup(e=!1){x(this,qs,!0);const i=S(this,_n,Uo).call(this,!1);return e&&i&&this._stats&&(this._stats=new k_),i}_startRenderPage(e,i){var r,o;const s=this._intentStates.get(i);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,i){for(let s=0,r=e.length;s<r;s++)i.operatorList.fnArray.push(e.fnArray[s]),i.operatorList.argsArray.push(e.argsArray[s]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(const s of i.renderTasks)s.operatorListChanged();e.lastChunk&&S(this,_n,Uo).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:u}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:o,modifiedIds:r},u).getReader(),g=this._intentStates.get(i);g.streamReader=f;const b=()=>{f.read().then(({value:y,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,g),b())},y=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();S(this,_n,Uo).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(y);else if(g.opListReadCapability)g.opListReadCapability.reject(y);else throw y}})};b()}_abortOperatorList({intentState:e,reason:i,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(i instanceof dy){let r=wR;i.extraDelay>0&&i.extraDelay<1e3&&(r+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},r);return}}if(e.streamReader.cancel(new Yl(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}tr=new WeakMap,qs=new WeakMap,_n=new WeakSet,Uo=function(e=!1){if(S(this,_n,fg).call(this),!c(this,qs)||this.destroyed)return!1;if(e)return x(this,tr,setTimeout(()=>{x(this,tr,null),S(this,_n,Uo).call(this,!1)},TR)),!1;for(const{renderTasks:i,operatorList:s}of this._intentStates.values())if(i.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(this,qs,!1),!0},fg=function(){c(this,tr)&&(clearTimeout(c(this,tr)),x(this,tr,null))};var Vs,$g;class jR{constructor(){T(this,Vs,new Map);T(this,$g,Promise.resolve())}postMessage(e,i){const s={data:structuredClone(e,i?{transfer:i}:null)};c(this,$g).then(()=>{for(const[r]of c(this,Vs))r.call(this,s)})}addEventListener(e,i,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:o}=s;if(o.aborted){Nt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(e,i);r=()=>o.removeEventListener("abort",u),o.addEventListener("abort",u)}c(this,Vs).set(i,r)}removeEventListener(e,i){const s=c(this,Vs).get(i);s==null||s(),c(this,Vs).delete(i)}terminate(){for(const[,e]of c(this,Vs))e==null||e();c(this,Vs).clear()}}Vs=new WeakMap,$g=new WeakMap;var Qg,pl,ml,bc,gg,yc,pg;const ue=class ue{constructor({name:e=null,port:i=null,verbosity:s=gC()}={}){T(this,bc);var r;if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((r=c(ue,ml))!=null&&r.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(c(ue,ml)||x(ue,ml,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return yi?Promise.all([fr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new ih("main","worker",e),this._messageHandler.on("ready",function(){}),S(this,bc,gg).call(this)}_initialize(){if(c(ue,pl)||c(ue,yc,pg)){this._setupFakeWorker();return}let{workerSrc:e}=ue;try{ue._isSameOrigin(window.location.href,e)||(e=ue._createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e,{type:"module"}),s=new ih("main","worker",i),r=()=>{o.abort(),s.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;i.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",h=>{if(o.abort(),this.destroyed||!h){r();return}this._messageHandler=s,this._port=i,this._webWorker=i,S(this,bc,gg).call(this)}),s.on("ready",h=>{if(o.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const h=new Uint8Array;s.send("test",h,[h.buffer])};u();return}catch{sp("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){c(ue,pl)||(Nt("Setting up fake worker."),x(ue,pl,!0)),ue._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new jR;this._port=i;const s=`fake${Ai(ue,Qg)._++}`,r=new ih(s+"_worker",s,i);e.setup(r,i),this._messageHandler=new ih(s,s+"_worker",i),S(this,bc,gg).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(ue,ml))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var s;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(s=c(this,ml))==null?void 0:s.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new ue(e)}static get workerSrc(){if(la.workerSrc)return la.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ft(this,"_setupFakeWorkerGlobal",(async()=>c(this,yc,pg)?c(this,yc,pg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Qg=new WeakMap,pl=new WeakMap,ml=new WeakMap,bc=new WeakSet,gg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},yc=new WeakSet,pg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},T(ue,yc),T(ue,Qg,0),T(ue,pl,!1),T(ue,ml),yi&&(x(ue,pl,!0),la.workerSrc||(la.workerSrc="./pdf.worker.mjs")),ue._isSameOrigin=(e,i)=>{let s;try{if(s=new URL(e),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(i,s);return s.origin===r.origin},ue._createCDNWrapper=e=>{const i=`await import("${e}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let Vo=ue;var Xs,ls,vc,Ac,os,bl,nh;class zR{constructor(e,i,s,r,o){T(this,bl);T(this,Xs,new Map);T(this,ls,new Map);T(this,vc,new Map);T(this,Ac,new Map);T(this,os,null);this.messageHandler=e,this.loadingTask=i,this.commonObjs=new pS,this.fontLoader=new kC({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ft(this,"annotationStorage",new my)}getRenderingIntent(e,i=Ha.ENABLE,s=null,r=!1,o=!1){let u=nn.DISPLAY,h=hb;switch(e){case"any":u=nn.ANY;break;case"display":break;case"print":u=nn.PRINT;break;default:Nt(`getRenderingIntent - invalid intent: ${e}`)}const f=u&nn.PRINT&&s instanceof Xx?s:this.annotationStorage;switch(i){case Ha.DISABLE:u+=nn.ANNOTATIONS_DISABLE;break;case Ha.ENABLE:break;case Ha.ENABLE_FORMS:u+=nn.ANNOTATIONS_FORMS;break;case Ha.ENABLE_STORAGE:u+=nn.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Nt(`getRenderingIntent - invalid annotationMode: ${i}`)}r&&(u+=nn.IS_EDITING),o&&(u+=nn.OPLIST);const{ids:g,hash:b}=f.modifiedIds,y=[u,h.hash,b];return{renderingIntent:u,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:g}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=c(this,os))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,ls).values())e.push(r._destroy());c(this,ls).clear(),c(this,vc).clear(),c(this,Ac).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Xs).clear(),this.filterFactory.destroy(),Ab.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Yl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(s,r)=>{Fe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){r.close();return}Fe(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("ReaderHeadersReady",async s=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:u}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((h=i.onProgress)==null||h.call(i,this._lastProgress)),this._fullReader.onProgress=f=>{var g;(g=i.onProgress)==null||g.call(i,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:u}}),e.on("GetRangeReader",(s,r)=>{Fe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:u,done:h}){if(h){r.close();return}Fe(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{o.cancel(u),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,i._capability.resolve(new kR(s,this))}),e.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new G0(s.message,s.code);break;case"InvalidPDFException":r=new yx(s.message);break;case"MissingPDFException":r=new Xl(s.message);break;case"UnexpectedResponseException":r=new ap(s.message,s.status);break;case"UnknownErrorException":r=new q0(s.message,s.details);break;default:le("DocException - expected a valid Error.")}i._capability.reject(r)}),e.on("PasswordRequest",s=>{if(x(this,os,Promise.withResolvers()),i.onPassword){const r=o=>{o instanceof Error?c(this,os).reject(o):c(this,os).resolve({password:o})};try{i.onPassword(r,s.code)}catch(o){c(this,os).reject(o)}}else c(this,os).reject(new G0(s.message,s.code));return c(this,os).promise}),e.on("DataLoaded",s=>{var r;(r=i.onProgress)==null||r.call(i,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;c(this,ls).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,o])=>{var u;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:g}=this._params;if("error"in o){const _=o.error;Nt(`Error during font loading: ${_}`),this.commonObjs.resolve(s,_);break}const b=g&&((u=globalThis.FontInspector)!=null&&u.enabled)?(_,E)=>globalThis.FontInspector.fontAdded(_,E):null,y=new PC(o,{disableFontFace:h,inspectFont:b});this.fontLoader.bind(y).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&y.data&&(y.data=null),this.commonObjs.resolve(s,y)});break;case"CopyLocalImage":const{imageRef:v}=o;Fe(v,"The imageRef must be defined.");for(const _ of c(this,ls).values())for(const[,E]of _.objs)if((E==null?void 0:E.ref)===v)return E.dataLen?(this.commonObjs.resolve(s,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,o,u])=>{var f;if(this.destroyed)return;const h=c(this,ls).get(r);if(!h.objs.has(s)){if(h._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(o){case"Image":h.objs.resolve(s,u),(u==null?void 0:u.dataLen)>cC&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=i.onProgress)==null||r.call(i,{loaded:s.loaded,total:s.total})}),e.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),e.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Nt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=e-1,s=c(this,vc).get(i);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&c(this,Ac).set(o.refStr,e);const u=new PR(i,o,this,this._params.pdfBug);return c(this,ls).set(i,u),u});return c(this,vc).set(i,r),r}getPageIndex(e){return K_(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return S(this,bl,nh).call(this,"GetFieldObjects")}hasJSActions(){return S(this,bl,nh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return S(this,bl,nh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return S(this,bl,nh).call(this,"GetOptionalContentConfig").then(i=>new nR(i,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",i=c(this,Xs).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,u;return{info:r[0],metadata:r[1]?new eR(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return c(this,Xs).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of c(this,ls).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Xs).clear(),this.filterFactory.destroy(!0),Ab.cleanup()}}cachedPageNumber(e){if(!K_(e))return null;const i=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Ac).get(i)??null}}Xs=new WeakMap,ls=new WeakMap,vc=new WeakMap,Ac=new WeakMap,os=new WeakMap,bl=new WeakSet,nh=function(e,i=null){const s=c(this,Xs).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,i);return c(this,Xs).set(e,r),r};const eg=Symbol("INITIAL_DATA");var Pn,Wh,Eb;class pS{constructor(){T(this,Wh);T(this,Pn,Object.create(null))}get(e,i=null){if(i){const r=S(this,Wh,Eb).call(this,e);return r.promise.then(()=>i(r.data)),null}const s=c(this,Pn)[e];if(!s||s.data===eg)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const i=c(this,Pn)[e];return!!i&&i.data!==eg}resolve(e,i=null){const s=S(this,Wh,Eb).call(this,e);s.data=i,s.resolve()}clear(){var e;for(const i in c(this,Pn)){const{data:s}=c(this,Pn)[i];(e=s==null?void 0:s.bitmap)==null||e.close()}x(this,Pn,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Pn)){const{data:i}=c(this,Pn)[e];i!==eg&&(yield[e,i])}}}Pn=new WeakMap,Wh=new WeakSet,Eb=function(e){var i;return(i=c(this,Pn))[e]||(i[e]={...Promise.withResolvers(),data:eg})};var er;class HR{constructor(e){T(this,er,null);x(this,er,e),this.onContinue=null}get promise(){return c(this,er).capability.promise}cancel(e=0){c(this,er).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,er).operatorList;if(!e)return!1;const{annotationCanvasMap:i}=c(this,er);return e.form||e.canvas&&(i==null?void 0:i.size)>0}}er=new WeakMap;var ir,yl;const Gr=class Gr{constructor({callback:e,params:i,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:u,pageIndex:h,canvasFactory:f,filterFactory:g,useRequestAnimationFrame:b=!1,pdfBug:y=!1,pageColors:v=null}){T(this,ir,null);this.callback=e,this.params=i,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=g,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=b===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new HR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){var h,f;if(this.cancelled)return;if(this._canvas){if(c(Gr,yl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(Gr,yl).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:u}=this.params;this.gfx=new qo(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(e=null,i=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),c(this,ir)&&(window.cancelAnimationFrame(c(this,ir)),x(this,ir,null)),c(Gr,yl).delete(this._canvas),this.callback(e||new dy(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(this,ir,window.requestAnimationFrame(()=>{x(this,ir,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(Gr,yl).delete(this._canvas),this.callback())))}};ir=new WeakMap,yl=new WeakMap,T(Gr,yl,new WeakSet);let wb=Gr;const FR="4.8.69",UR="3634dab10";function $_(p){return Math.floor(Math.max(0,Math.min(1,p))*255).toString(16).padStart(2,"0")}function Ku(p){return Math.max(0,Math.min(255,255*p))}class Q_{static CMYK_G([e,i,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*i+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ku(e),[e,e,e]}static G_HTML([e]){const i=$_(e);return`#${i}${i}${i}`}static RGB_G([e,i,s]){return["G",.3*e+.59*i+.11*s]}static RGB_rgb(e){return e.map(Ku)}static RGB_HTML(e){return`#${e.map($_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,i,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,i+r)]}static CMYK_rgb([e,i,s,r]){return[Ku(1-Math.min(1,e+r)),Ku(1-Math.min(1,s+r)),Ku(1-Math.min(1,i+r))]}static CMYK_HTML(e){const i=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([e,i,s]){const r=1-e,o=1-i,u=1-s,h=Math.min(r,o,u);return["CMYK",r,o,u,h]}}class BR{create(e,i,s=!1){if(e<=0||i<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${i}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${i}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){le("Abstract method `_createSVG` called.")}}class _y extends BR{_createSVG(e){return document.createElementNS(ks,e)}}class mS{static setupStorage(e,i,s,r,o){const u=r.getValue(i,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(e.textContent=u.value),o==="print")break;e.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?e.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",h=>{r.setValue(i,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&e.setAttribute("value",u.value),o==="print")break;e.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})})}break;case"select":if(u.value!==null){e.setAttribute("value",u.value);for(const h of s.children)h.attributes.value===u.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}e.addEventListener("input",h=>{const f=h.target.options,g=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(i,{value:g})});break}}static setAttributes({html:e,element:i,storage:s=null,intent:r,linkService:o}){const{attributes:u}=i,h=e instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[f,g]of Object.entries(u))if(g!=null)switch(f){case"class":g.length&&e.setAttribute(f,g.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",g);break;case"style":Object.assign(e.style,g);break;case"textContent":e.textContent=g;break;default:(!h||f!=="href"&&f!=="newWindow")&&e.setAttribute(f,g)}h&&o.addLinkAttributes(e,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(e,u.dataId,i,s)}static render(e){var y,v;const i=e.annotationStorage,s=e.linkService,r=e.xfaHtml,o=e.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:o,linkService:s});const h=o!=="richText",f=e.div;if(f.append(u),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;f.style.transform=_}h&&f.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const _=document.createTextNode(r.value);u.append(_),h&&gh.shouldBuildText(r.name)&&g.push(_)}return{textDivs:g}}const b=[[r,-1,u]];for(;b.length>0;){const[_,E,C]=b.at(-1);if(E+1===_.children.length){b.pop();continue}const L=_.children[++b.at(-1)[1]];if(L===null)continue;const{name:M}=L;if(M==="#text"){const j=document.createTextNode(L.value);g.push(j),C.append(j);continue}const P=(y=L==null?void 0:L.attributes)!=null&&y.xmlns?document.createElementNS(L.attributes.xmlns,M):document.createElement(M);if(C.append(P),L.attributes&&this.setAttributes({html:P,element:L,storage:i,intent:o,linkService:s}),((v=L.children)==null?void 0:v.length)>0)b.push([L,-1,P]);else if(L.value){const j=document.createTextNode(L.value);h&&gh.shouldBuildText(M)&&g.push(j),P.append(j)}}for(const _ of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:g}}static update(e){const i=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=i,e.div.hidden=!1}}const Nd=1e3,IR=9,Il=new WeakSet;function oa(p){return{width:p[2]-p[0],height:p[3]-p[1]}}class GR{static create(e){switch(e.data.annotationType){case Pe.LINK:return new bS(e);case Pe.TEXT:return new qR(e);case Pe.WIDGET:switch(e.data.fieldType){case"Tx":return new VR(e);case"Btn":return e.data.radioButton?new AS(e):e.data.checkBox?new YR(e):new KR(e);case"Ch":return new $R(e);case"Sig":return new XR(e)}return new Kl(e);case Pe.POPUP:return new Cb(e);case Pe.FREETEXT:return new wS(e);case Pe.LINE:return new WR(e);case Pe.SQUARE:return new ZR(e);case Pe.CIRCLE:return new JR(e);case Pe.POLYLINE:return new TS(e);case Pe.CARET:return new eM(e);case Pe.INK:return new xy(e);case Pe.POLYGON:return new tM(e);case Pe.HIGHLIGHT:return new CS(e);case Pe.UNDERLINE:return new iM(e);case Pe.SQUIGGLY:return new nM(e);case Pe.STRIKEOUT:return new sM(e);case Pe.STAMP:return new RS(e);case Pe.FILEATTACHMENT:return new aM(e);default:return new Ee(e)}}}var vl,_c,xc,Zh,Tb;const Ty=class Ty{constructor(e,{isRenderable:i=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){T(this,Zh);T(this,vl,null);T(this,_c,!1);T(this,xc,null);this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:i,richText:s}){return!!(e!=null&&e.str||i!=null&&i.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ty._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;c(this,vl)||x(this,vl,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&S(this,Zh,Tb).call(this,i),(s=c(this,xc))==null||s.popup.updateEdited(e)}resetEdited(){var e;c(this,vl)&&(S(this,Zh,Tb).call(this,c(this,vl).rect),(e=c(this,xc))==null||e.popup.resetEdited(),x(this,vl,null))}_createContainer(e){const{data:i,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",i.id),this instanceof Kl||(o.tabIndex=Nd);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,i.alternativeText&&(o.title=i.alternativeText),i.noRotate&&o.classList.add("norotate"),!i.rect||this instanceof Cb){const{rotation:C}=i;return!i.hasOwnCanvas&&C!==0&&this.setRotation(C,o),o}const{width:h,height:f}=oa(i.rect);if(!e&&i.borderStyle.width>0){u.borderWidth=`${i.borderStyle.width}px`;const C=i.borderStyle.horizontalCornerRadius,L=i.borderStyle.verticalCornerRadius;if(C>0||L>0){const P=`calc(${C}px * var(--scale-factor)) / calc(${L}px * var(--scale-factor))`;u.borderRadius=P}else if(this instanceof AS){const P=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=P}switch(i.borderStyle.style){case Xu.SOLID:u.borderStyle="solid";break;case Xu.DASHED:u.borderStyle="dashed";break;case Xu.BEVELED:Nt("Unimplemented border style: beveled");break;case Xu.INSET:Nt("Unimplemented border style: inset");break;case Xu.UNDERLINE:u.borderBottomStyle="solid";break}const M=i.borderColor||null;M?(x(this,_c,!0),u.borderColor=dt.makeHexColor(M[0]|0,M[1]|0,M[2]|0)):u.borderWidth=0}const g=dt.normalizeRect([i.rect[0],s.view[3]-i.rect[1]+s.view[1],i.rect[2],s.view[3]-i.rect[3]+s.view[1]]),{pageWidth:b,pageHeight:y,pageX:v,pageY:_}=r.rawDims;u.left=`${100*(g[0]-v)/b}%`,u.top=`${100*(g[1]-_)/y}%`;const{rotation:E}=i;return i.hasOwnCanvas||E===0?(u.width=`${100*h/b}%`,u.height=`${100*f/y}%`):this.setRotation(E,o),o}setRotation(e,i=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:u}=oa(this.data.rect);let h,f;e%180===0?(h=100*o/s,f=100*u/r):(h=100*u/s,f=100*o/r),i.style.width=`${h}%`,i.style.height=`${f}%`,i.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(i,s,r)=>{const o=r.detail[i],u=o[0],h=o.slice(1);r.target.style[s]=Q_[`${u}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[s]:Q_[`${u}_rgb`](h)})};return Ft(this,"_commonActions",{display:i=>{const{display:s}=i.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:s}=i.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)},rotation:i=>{const s=i.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,i){const s=this._commonActions;for(const r of Object.keys(i.detail)){const o=e[r]||s[r];o==null||o(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const s=this._commonActions;for(const[r,o]of Object.entries(i)){const u=s[r];if(u){const h={detail:{[r]:o},target:e};u(h),delete i[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[i,s,r,o]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,L,M,P]=e.subarray(2,6);if(r===C&&o===L&&i===M&&s===P)return}const{style:u}=this.container;let h;if(c(this,_c)){const{borderColor:C,borderWidth:L}=u;u.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${L}">`],this.container.classList.add("hasBorder")}const f=r-i,g=o-s,{svgFactory:b}=this,y=b.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=b.createElement("defs");y.append(v);const _=b.createElement("clipPath"),E=`clippath_${this.data.id}`;_.setAttribute("id",E),_.setAttribute("clipPathUnits","objectBoundingBox"),v.append(_);for(let C=2,L=e.length;C<L;C+=8){const M=e[C],P=e[C+1],j=e[C+2],z=e[C+3],I=b.createElement("rect"),H=(j-i)/f,X=(o-P)/g,W=(M-j)/f,et=(P-z)/g;I.setAttribute("x",H),I.setAttribute("y",X),I.setAttribute("width",W),I.setAttribute("height",et),_.append(I),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${H}" y="${X}" width="${W}" height="${et}"/>`)}c(this,_c)&&(h.push("</g></svg>')"),u.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:e}=this,i=x(this,xc,new Cb({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){le("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:u,exportValues:h}of r){if(o===-1||u===i)continue;const f=typeof h=="string"?h:null,g=document.querySelector(`[data-element-id="${u}"]`);if(g&&!Il.has(g)){Nt(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:f,domElement:g})}return s}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,u=r.getAttribute("data-element-id");u!==i&&Il.has(r)&&s.push({id:u,exportValue:o,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const i of e)i.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:i})})}};vl=new WeakMap,_c=new WeakMap,xc=new WeakMap,Zh=new WeakSet,Tb=function(e){const{container:{style:i},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:h,pageY:f}}}}=this;s==null||s.splice(0,4,...e);const{width:g,height:b}=oa(e);i.left=`${100*(e[0]-h)/o}%`,i.top=`${100*(u-e[3]+f)/u}%`,r===0?(i.width=`${100*g/o}%`,i.height=`${100*b/u}%`):this.setRotation(r)};let Ee=Ty;var sn,Hr,yS,vS;class bS extends Ee{constructor(i,s=null){super(i,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});T(this,sn);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",i.id);let o=!1;return i.url?(s.addLinkAttributes(r,i.url,i.newWindow),o=!0):i.action?(this._bindNamedAction(r,i.action),o=!0):i.attachment?(S(this,sn,yS).call(this,r,i.attachment,i.attachmentDest),o=!0):i.setOCGState?(S(this,sn,vS).call(this,r,i.setOCGState),o=!0):i.dest?(this._bindLink(r,i.dest),o=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,i),o=!0),i.resetForm?(this._bindResetFormAction(r,i.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(i,s){i.href=this.linkService.getDestinationHash(s),i.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&S(this,sn,Hr).call(this)}_bindNamedAction(i,s){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(s),!1),S(this,sn,Hr).call(this)}_bindJSAction(i,s){i.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const u=r.get(o);u&&(i[u]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}i.onclick||(i.onclick=()=>!1),S(this,sn,Hr).call(this)}_bindResetFormAction(i,s){const r=i.onclick;if(r||(i.href=this.linkService.getAnchorUrl("")),S(this,sn,Hr).call(this),!this._fieldObjects){Nt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(i.onclick=()=>!1);return}i.onclick=()=>{var y;r==null||r();const{fields:o,refs:u,include:h}=s,f=[];if(o.length!==0||u.length!==0){const v=new Set(u);for(const _ of o){const E=this._fieldObjects[_]||[];for(const{id:C}of E)v.add(C)}for(const _ of Object.values(this._fieldObjects))for(const E of _)v.has(E.id)===h&&f.push(E)}else for(const v of Object.values(this._fieldObjects))f.push(...v);const g=this.annotationStorage,b=[];for(const v of f){const{id:_}=v;switch(b.push(_),v.type){case"text":{const C=v.defaultValue||"";g.setValue(_,{value:C});break}case"checkbox":case"radiobutton":{const C=v.defaultValue===v.exportValues;g.setValue(_,{value:C});break}case"combobox":case"listbox":{const C=v.defaultValue||"";g.setValue(_,{value:C});break}default:continue}const E=document.querySelector(`[data-element-id="${_}"]`);if(E){if(!Il.has(E)){Nt(`_bindResetFormAction - element not allowed: ${_}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:b,name:"ResetForm"}})),!1}}}sn=new WeakSet,Hr=function(){this.container.setAttribute("data-internal-link","")},yS=function(i,s,r=null){i.href=this.linkService.getAnchorUrl(""),s.description&&(i.title=s.description),i.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},S(this,sn,Hr).call(this)},vS=function(i,s){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(s),!1),S(this,sn,Hr).call(this)};class qR extends Ee{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Kl extends Ee{render(){return this.container}showElementAndHideCanvas(e){var i;this.data.hasOwnCanvas&&(((i=e.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ei.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,i,s,r,o){s.includes("mouse")?e.addEventListener(s,u=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):e.addEventListener(s,u=>{var h;if(s==="blur"){if(!i.focused||!u.relatedTarget)return;i.focused=!1}else if(s==="focus"){if(i.focused)return;i.focused=!0}o&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u)}}))})}_setEventListeners(e,i,s,r){var o,u,h;for(const[f,g]of s)(g==="Action"||(o=this.data.actions)!=null&&o[g])&&((g==="Focus"||g==="Blur")&&(i||(i={focused:!1})),this._setEventListener(e,i,f,g,r),g==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(e,i,"blur","Blur",null):g==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(e,i,"focus","Focus",null))}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=i===null?"transparent":dt.makeHexColor(i[0],i[1],i[2])}_setTextStyle(e){const i=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||IR,o=e.style;let u;const h=2,f=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h),b=Math.round(g/(P0*r))||1,y=g/b;u=Math.min(r,f(y/P0))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h);u=Math.min(r,f(g/P0))}o.fontSize=`calc(${u}px * var(--scale-factor))`,o.color=dt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=i[this.data.textAlignment])}_setRequired(e,i){i?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",i)}}class VR extends Kl{constructor(e){const i=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:i})}setPropertyOnSiblings(e,i,s,r){const o=this.annotationStorage;for(const u of this._getElementsByName(e.name,e.id))u.domElement&&(u.domElement[i]=s),o.setValue(u.id,{[r]:s})}render(){var r,o;const e=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const u=e.getValue(i,{value:this.data.fieldValue});let h=u.value||"";const f=e.getValue(i,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let g=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const b={userValue:h,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=g??h,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",g??h),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Il.add(s),s.setAttribute("data-element-id",i),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Nd,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",v=>{e.setValue(i,{value:v.target.value}),this.setPropertyOnSiblings(s,"value",v.target.value,"value"),b.formattedValue=null}),s.addEventListener("resetform",v=>{const _=this.data.defaultFieldValue??"";s.value=b.userValue=_,b.formattedValue=null});let y=v=>{const{formattedValue:_}=b;_!=null&&(v.target.value=_),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",_=>{var C;if(b.focused)return;const{target:E}=_;b.userValue&&(E.value=b.userValue),b.lastCommittedValue=E.value,b.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(b.focused=!0)}),s.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const E={value(C){b.userValue=C.detail.value??"",e.setValue(i,{value:b.userValue.toString()}),C.target.value=b.userValue},formattedValue(C){const{formattedValue:L}=C.detail;b.formattedValue=L,L!=null&&C.target!==document.activeElement&&(C.target.value=L),e.setValue(i,{formattedValue:L})},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var j;const{charLimit:L}=C.detail,{target:M}=C;if(L===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",L);let P=b.userValue;!P||P.length<=L||(P=P.slice(0,L),M.value=b.userValue=P,e.setValue(i,{value:P}),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(E,_)}),s.addEventListener("keydown",_=>{var L;b.commitKey=1;let E=-1;if(_.key==="Escape"?E=0:_.key==="Enter"&&!this.data.multiLine?E=2:_.key==="Tab"&&(b.commitKey=3),E===-1)return;const{value:C}=_.target;b.lastCommittedValue!==C&&(b.lastCommittedValue=C,b.userValue=C,(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:C,willCommit:!0,commitKey:E,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const v=y;y=null,s.addEventListener("blur",_=>{var C,L;if(!b.focused||!_.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(b.focused=!1);const{value:E}=_.target;b.userValue=E,b.lastCommittedValue!==E&&((L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:E,willCommit:!0,commitKey:b.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),v(_)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",_=>{var I;b.lastCommittedValue=null;const{data:E,target:C}=_,{value:L,selectionStart:M,selectionEnd:P}=C;let j=M,z=P;switch(_.inputType){case"deleteWordBackward":{const H=L.substring(0,M).match(/\w*[^\w]*$/);H&&(j-=H[0].length);break}case"deleteWordForward":{const H=L.substring(M).match(/^[^\w]*\w*/);H&&(z+=H[0].length);break}case"deleteContentBackward":M===P&&(j-=1);break;case"deleteContentForward":M===P&&(z+=1);break}_.preventDefault(),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:L,change:E||"",willCommit:!1,selStart:j,selEnd:z}})}),this._setEventListeners(s,b,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(y&&s.addEventListener("blur",y),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${_}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class XR extends Kl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class YR extends Kl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,s=i.id;let r=e.getValue(s,{value:i.exportValue===i.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Il.add(o),o.setAttribute("data-element-id",s),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=i.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",i.exportValue),o.tabIndex=Nd,o.addEventListener("change",u=>{const{name:h,checked:f}=u.target;for(const g of this._getElementsByName(h,s)){const b=f&&g.exportValue===i.exportValue;g.domElement&&(g.domElement.checked=b),e.setValue(g.id,{value:b})}e.setValue(s,{value:f})}),o.addEventListener("resetform",u=>{const h=i.defaultFieldValue||"Off";u.target.checked=h===i.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const h={value(f){f.target.checked=f.detail.value!=="Off",e.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class AS extends Kl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,i=this.data,s=i.id;let r=e.getValue(s,{value:i.fieldValue===i.buttonValue}).value;if(typeof r=="string"&&(r=r!==i.buttonValue,e.setValue(s,{value:r})),r)for(const u of this._getElementsByName(i.fieldName,s))e.setValue(u.id,{value:!1});const o=document.createElement("input");if(Il.add(o),o.setAttribute("data-element-id",s),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=i.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Nd,o.addEventListener("change",u=>{const{name:h,checked:f}=u.target;for(const g of this._getElementsByName(h,s))e.setValue(g.id,{value:!1});e.setValue(s,{value:f})}),o.addEventListener("resetform",u=>{const h=i.defaultFieldValue;u.target.checked=h!=null&&h===i.buttonValue}),this.enableScripting&&this.hasJSActions){const u=i.buttonValue;o.addEventListener("updatefromsandbox",h=>{const f={value:g=>{const b=u===g.detail.value;for(const y of this._getElementsByName(g.target.name)){const v=b&&y.id===s;y.domElement&&(y.domElement.checked=v),e.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class KR extends bS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const i=e.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class $R extends Kl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,i=this.data.id,s=e.getValue(i,{value:this.data.fieldValue}),r=document.createElement("select");Il.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Nd;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",b=>{const y=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===y});for(const b of this.data.options){const y=document.createElement("option");y.textContent=b.displayValue,y.value=b.exportValue,s.value.includes(b.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let u=null;if(o){const b=document.createElement("option");b.value=" ",b.setAttribute("hidden",!0),b.setAttribute("selected",!0),r.prepend(b),u=()=>{b.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const h=b=>{const y=b?"value":"textContent",{options:v,multiple:_}=r;return _?Array.prototype.filter.call(v,E=>E.selected).map(E=>E[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let f=h(!1);const g=b=>{const y=b.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",b=>{const y={value(v){u==null||u();const _=v.detail.value,E=new Set(Array.isArray(_)?_:[_]);for(const C of r.options)C.selected=E.has(C.value);e.setValue(i,{value:h(!0)}),f=h(!1)},multipleSelection(v){r.multiple=!0},remove(v){const _=r.options,E=v.detail.remove;_[E].selected=!1,r.remove(E),_.length>0&&Array.prototype.findIndex.call(_,L=>L.selected)===-1&&(_[0].selected=!0),e.setValue(i,{value:h(!0),items:g(v)}),f=h(!1)},clear(v){for(;r.length!==0;)r.remove(0);e.setValue(i,{value:null,items:[]}),f=h(!1)},insert(v){const{index:_,displayValue:E,exportValue:C}=v.detail.insert,L=r.children[_],M=document.createElement("option");M.textContent=E,M.value=C,L?L.before(M):r.append(M),e.setValue(i,{value:h(!0),items:g(v)}),f=h(!1)},items(v){const{items:_}=v.detail;for(;r.length!==0;)r.remove(0);for(const E of _){const{displayValue:C,exportValue:L}=E,M=document.createElement("option");M.textContent=C,M.value=L,r.append(M)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(i,{value:h(!0),items:g(v)}),f=h(!1)},indices(v){const _=new Set(v.detail.indices);for(const E of v.target.options)E.selected=_.has(E.index);e.setValue(i,{value:h(!0)}),f=h(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,b)}),r.addEventListener("input",b=>{var _;const y=h(!0),v=h(!1);e.setValue(i,{value:y}),b.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:f,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],b=>b.target.value)):r.addEventListener("input",function(b){e.setValue(i,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Cb extends Ee{constructor(e){const{data:i,elements:s}=e;super(e,{isRenderable:Ee._hasPopupData(i)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new QR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${hy}${s}`).join(",")),this.container}}var Sc,Wg,Zg,Ec,Al,ve,Ys,wc,Jh,td,Tc,Ks,jn,$s,ed,Qs,id,_l,xl,ie,mg,Rb,_S,xS,SS,ES,bg,yg,Mb;class QR{constructor({container:e,color:i,elements:s,titleObj:r,modificationDate:o,contentsObj:u,richText:h,parent:f,rect:g,parentRect:b,open:y}){T(this,ie);T(this,Sc,S(this,ie,SS).bind(this));T(this,Wg,S(this,ie,Mb).bind(this));T(this,Zg,S(this,ie,yg).bind(this));T(this,Ec,S(this,ie,bg).bind(this));T(this,Al,null);T(this,ve,null);T(this,Ys,null);T(this,wc,null);T(this,Jh,null);T(this,td,null);T(this,Tc,null);T(this,Ks,!1);T(this,jn,null);T(this,$s,null);T(this,ed,null);T(this,Qs,null);T(this,id,null);T(this,_l,null);T(this,xl,!1);var v;x(this,ve,e),x(this,id,r),x(this,Ys,u),x(this,Qs,h),x(this,td,f),x(this,Al,i),x(this,ed,g),x(this,Tc,b),x(this,Jh,s),x(this,wc,gy.toDateObject(o)),this.trigger=s.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",c(this,Ec)),_.addEventListener("mouseenter",c(this,Zg)),_.addEventListener("mouseleave",c(this,Wg)),_.classList.add("popupTriggerArea");for(const _ of s)(v=_.container)==null||v.addEventListener("keydown",c(this,Sc));c(this,ve).hidden=!0,y&&S(this,ie,bg).call(this)}render(){if(c(this,jn))return;const e=x(this,jn,document.createElement("div"));if(e.className="popup",c(this,Al)){const o=e.style.outlineColor=dt.makeHexColor(...c(this,Al));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=dt.makeHexColor(...c(this,Al).map(h=>Math.floor(.7*(255-h)+h)))}const i=document.createElement("span");i.className="header";const s=document.createElement("h1");if(i.append(s),{dir:s.dir,str:s.textContent}=c(this,id),e.append(i),c(this,wc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,wc).valueOf()})),i.append(o)}const r=c(this,ie,mg);if(r)mS.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(c(this,Ys));e.append(o)}c(this,ve).append(e)}_formatContents({str:e,dir:i}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=i;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,u=r.length;o<u;++o){const h=r[o];s.append(document.createTextNode(h)),o<u-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:i}){var s;c(this,_l)||x(this,_l,{contentsObj:c(this,Ys),richText:c(this,Qs)}),e&&x(this,$s,null),i&&(x(this,Qs,S(this,ie,xS).call(this,i)),x(this,Ys,null)),(s=c(this,jn))==null||s.remove(),x(this,jn,null)}resetEdited(){var e;c(this,_l)&&({contentsObj:Ai(this,Ys)._,richText:Ai(this,Qs)._}=c(this,_l),x(this,_l,null),(e=c(this,jn))==null||e.remove(),x(this,jn,null),x(this,$s,null))}forceHide(){x(this,xl,this.isVisible),c(this,xl)&&(c(this,ve).hidden=!0)}maybeShow(){c(this,xl)&&(c(this,jn)||S(this,ie,yg).call(this),x(this,xl,!1),c(this,ve).hidden=!1)}get isVisible(){return c(this,ve).hidden===!1}}Sc=new WeakMap,Wg=new WeakMap,Zg=new WeakMap,Ec=new WeakMap,Al=new WeakMap,ve=new WeakMap,Ys=new WeakMap,wc=new WeakMap,Jh=new WeakMap,td=new WeakMap,Tc=new WeakMap,Ks=new WeakMap,jn=new WeakMap,$s=new WeakMap,ed=new WeakMap,Qs=new WeakMap,id=new WeakMap,_l=new WeakMap,xl=new WeakMap,ie=new WeakSet,mg=function(){const e=c(this,Qs),i=c(this,Ys);return e!=null&&e.str&&(!(i!=null&&i.str)||i.str===e.str)&&c(this,Qs).html||null},Rb=function(){var e,i,s;return((s=(i=(e=c(this,ie,mg))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:s.fontSize)||0},_S=function(){var e,i,s;return((s=(i=(e=c(this,ie,mg))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:s.color)||null},xS=function(e){const i=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},r={style:{color:c(this,ie,_S),fontSize:c(this,ie,Rb)?`calc(${c(this,ie,Rb)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))i.push({name:"span",value:o,attributes:r});return s},SS=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Ks))&&S(this,ie,bg).call(this)},ES=function(){if(c(this,$s)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}}=c(this,td);let u=!!c(this,Tc),h=u?c(this,Tc):c(this,ed);for(const E of c(this,Jh))if(!h||dt.intersect(E.data.rect,h)!==null){h=E.data.rect,u=!0;break}const f=dt.normalizeRect([h[0],e[3]-h[1]+e[1],h[2],e[3]-h[3]+e[1]]),b=u?h[2]-h[0]+5:0,y=f[0]+b,v=f[1];x(this,$s,[100*(y-r)/i,100*(v-o)/s]);const{style:_}=c(this,ve);_.left=`${c(this,$s)[0]}%`,_.top=`${c(this,$s)[1]}%`},bg=function(){x(this,Ks,!c(this,Ks)),c(this,Ks)?(S(this,ie,yg).call(this),c(this,ve).addEventListener("click",c(this,Ec)),c(this,ve).addEventListener("keydown",c(this,Sc))):(S(this,ie,Mb).call(this),c(this,ve).removeEventListener("click",c(this,Ec)),c(this,ve).removeEventListener("keydown",c(this,Sc)))},yg=function(){c(this,jn)||this.render(),this.isVisible?c(this,Ks)&&c(this,ve).classList.add("focused"):(S(this,ie,ES).call(this),c(this,ve).hidden=!1,c(this,ve).style.zIndex=parseInt(c(this,ve).style.zIndex)+1e3)},Mb=function(){c(this,ve).classList.remove("focused"),!(c(this,Ks)||!this.isVisible)&&(c(this,ve).hidden=!0,c(this,ve).style.zIndex=parseInt(c(this,ve).style.zIndex)-1e3)};class wS extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Mt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const i of this.textContent){const s=document.createElement("span");s.textContent=i,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var nd;class WR extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,nd,null)}render(){this.container.classList.add("lineAnnotation");const i=this.data,{width:s,height:r}=oa(i.rect),o=this.svgFactory.create(s,r,!0),u=x(this,nd,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),u.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),u.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),u.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),u.setAttribute("stroke-width",i.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}nd=new WeakMap;var sd;class ZR extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,sd,null)}render(){this.container.classList.add("squareAnnotation");const i=this.data,{width:s,height:r}=oa(i.rect),o=this.svgFactory.create(s,r,!0),u=i.borderStyle.width,h=x(this,sd,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",u/2),h.setAttribute("y",u/2),h.setAttribute("width",s-u),h.setAttribute("height",r-u),h.setAttribute("stroke-width",u||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,sd)}addHighlightArea(){this.container.classList.add("highlightArea")}}sd=new WeakMap;var ad;class JR extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,ad,null)}render(){this.container.classList.add("circleAnnotation");const i=this.data,{width:s,height:r}=oa(i.rect),o=this.svgFactory.create(s,r,!0),u=i.borderStyle.width,h=x(this,ad,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",s/2),h.setAttribute("cy",r/2),h.setAttribute("rx",s/2-u/2),h.setAttribute("ry",r/2-u/2),h.setAttribute("stroke-width",u||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,ad)}addHighlightArea(){this.container.classList.add("highlightArea")}}ad=new WeakMap;var rd;class TS extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,rd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:u,height:h}=oa(i),f=this.svgFactory.create(u,h,!0);let g=[];for(let y=0,v=s.length;y<v;y+=2){const _=s[y]-i[0],E=i[3]-s[y+1];g.push(`${_},${E}`)}g=g.join(" ");const b=x(this,rd,this.svgFactory.createElement(this.svgElementName));return b.setAttribute("points",g),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),f.append(b),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,rd)}addHighlightArea(){this.container.classList.add("highlightArea")}}rd=new WeakMap;class tM extends TS{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class eM extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ld;class xy extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,ld,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Mt.HIGHLIGHT:Mt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:u,height:h}=oa(i),f=this.svgFactory.create(u,h,!0);for(const g of s){let b=[];for(let v=0,_=g.length;v<_;v+=2){const E=g[v]-i[0],C=i[3]-g[v+1];b.push(`${E},${C}`)}b=b.join(" ");const y=this.svgFactory.createElement(this.svgElementName);c(this,ld).push(y),y.setAttribute("points",b),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),f.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return c(this,ld)}addHighlightArea(){this.container.classList.add("highlightArea")}}ld=new WeakMap;class CS extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Mt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class iM extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class nM extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class sM extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class RS extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Mt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var od,cd,Db;class aM extends Ee{constructor(i){var r;super(i,{isRenderable:!0});T(this,cd);T(this,od,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",S(this,cd,Db).bind(this)),x(this,od,r);const{isMac:o}=Ei.platform;return i.addEventListener("keydown",u=>{u.key==="Enter"&&(o?u.metaKey:u.ctrlKey)&&S(this,cd,Db).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),i.append(r),i}getElementsToTriggerPopup(){return c(this,od)}addHighlightArea(){this.container.classList.add("highlightArea")}}od=new WeakMap,cd=new WeakSet,Db=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var ud,Sl,El,hd,ql,MS,Lb,cx;let rM=(cx=class{constructor({div:e,accessibilityManager:i,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:u,structTreeLayer:h}){T(this,ql);T(this,ud,null);T(this,Sl,null);T(this,El,new Map);T(this,hd,null);this.div=e,x(this,ud,i),x(this,Sl,s),x(this,hd,h||null),this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return c(this,El).size>0}async render(e){var u;const{annotations:i}=e,s=this.div;Ul(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new _y,annotationStorage:e.annotationStorage||new my,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const h of i){if(h.noHTML)continue;const f=h.annotationType===Pe.POPUP;if(f){const y=r.get(h.id);if(!y)continue;o.elements=y}else{const{width:y,height:v}=oa(h.rect);if(y<=0||v<=0)continue}o.data=h;const g=GR.create(o);if(!g.isRenderable)continue;if(!f&&h.popupRef){const y=r.get(h.popupRef);y?y.push(g):r.set(h.popupRef,[g])}const b=g.render();h.hidden&&(b.style.visibility="hidden"),await S(this,ql,MS).call(this,b,h.id),g._isEditable&&(c(this,El).set(g.data.id,g),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(g))}S(this,ql,Lb).call(this)}update({viewport:e}){const i=this.div;this.viewport=e,Ul(i,{rotation:e.rotation}),S(this,ql,Lb).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(c(this,El).values())}getEditableAnnotation(e){return c(this,El).get(e)}},ud=new WeakMap,Sl=new WeakMap,El=new WeakMap,hd=new WeakMap,ql=new WeakSet,MS=async function(e,i){var u,h;const s=e.firstChild||e,r=s.id=`${hy}${i}`,o=await((u=c(this,hd))==null?void 0:u.getAriaAttributes(r));if(o)for(const[f,g]of o)s.setAttribute(f,g);this.div.append(e),(h=c(this,ud))==null||h.moveElementInDOM(this.div,e,s,!1)},Lb=function(){if(!c(this,Sl))return;const e=this.div;for(const[i,s]of c(this,Sl)){const r=e.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}c(this,Sl).clear()},cx);const ig=/\r\n?|\n/g;var zn,Qi,dd,wl,Wi,Ne,DS,LS,NS,vg,ua,Ag,_g,OS,Ob,kS;const re=class re extends Qt{constructor(i){super({...i,name:"freeTextEditor"});T(this,Ne);T(this,zn);T(this,Qi,"");T(this,dd,`${this.id}-editor`);T(this,wl,null);T(this,Wi);x(this,zn,i.color||re._defaultColor||Qt._defaultLineColor),x(this,Wi,i.fontSize||re._defaultFontSize)}static get _keyboardManager(){const i=re.prototype,s=u=>u.isEmpty(),r=Bl.TRANSLATE_SMALL,o=Bl.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new Ld([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(i,s){Qt.initialize(i,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,s){switch(i){case xt.FREETEXT_SIZE:re._defaultFontSize=s;break;case xt.FREETEXT_COLOR:re._defaultColor=s;break}}updateParams(i,s){switch(i){case xt.FREETEXT_SIZE:S(this,Ne,DS).call(this,s);break;case xt.FREETEXT_COLOR:S(this,Ne,LS).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xt.FREETEXT_SIZE,re._defaultFontSize],[xt.FREETEXT_COLOR,re._defaultColor||Qt._defaultLineColor]]}get propertiesToUpdate(){return[[xt.FREETEXT_SIZE,c(this,Wi)],[xt.FREETEXT_COLOR,c(this,zn)]]}_translateEmpty(i,s){this._uiManager.translateSelectedEditors(i,s,!0)}getInitialTranslation(){const i=this.parentScale;return[-re._internalPadding*i,-(re._internalPadding+c(this,Wi))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Mt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),x(this,wl,new AbortController);const i=this._uiManager.combinedSignal(c(this,wl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,dd)),this._isDraggable=!0,(i=c(this,wl))==null||i.abort(),x(this,wl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var i;this.width||(this.enableEditMode(),this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=c(this,Qi),s=x(this,Qi,S(this,Ne,NS).call(this).trimEnd());if(i===s)return;const r=o=>{if(x(this,Qi,o),!o){this.remove();return}S(this,Ne,_g).call(this),this._uiManager.rebuild(this),S(this,Ne,vg).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(i)},mustExec:!1}),S(this,Ne,vg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){re._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,s;this.width&&(i=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,dd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,Wi)}px * var(--scale-factor))`,r.color=c(this,zn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Og(this,this.div,["dblclick","keydown"]),this.width){const[o,u]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,g]=this.getInitialTranslation();[f,g]=this.pageTranslationToScreen(f,g);const[b,y]=this.pageDimensions,[v,_]=this.pageTranslation;let E,C;switch(this.rotation){case 0:E=i+(h[0]-v)/b,C=s+this.height-(h[1]-_)/y;break;case 90:E=i+(h[0]-v)/b,C=s-(h[1]-_)/y,[f,g]=[g,-f];break;case 180:E=i-this.width+(h[0]-v)/b,C=s-(h[1]-_)/y,[f,g]=[-f,-g];break;case 270:E=i+(h[0]-v-this.height*y)/b,C=s+(h[1]-_-this.width*b)/y,[f,g]=[-g,f];break}this.setAt(E*o,C*u,f,g)}else this.setAt(i*o,s*u,this.width*o,this.height*u);S(this,Ne,_g).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var E,C,L;const s=i.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;i.preventDefault();const o=S(E=re,ua,Ob).call(E,s.getData("text")||"").replaceAll(ig,`
`);if(!o)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const h=u.getRangeAt(0);if(!o.includes(`
`)){h.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:g}=h,b=[],y=[];if(f.nodeType===Node.TEXT_NODE){const M=f.parentElement;if(y.push(f.nodeValue.slice(g).replaceAll(ig,"")),M!==this.editorDiv){let P=b;for(const j of this.editorDiv.childNodes){if(j===M){P=y;continue}P.push(S(C=re,ua,Ag).call(C,j))}}b.push(f.nodeValue.slice(0,g).replaceAll(ig,""))}else if(f===this.editorDiv){let M=b,P=0;for(const j of this.editorDiv.childNodes)P++===g&&(M=y),M.push(S(L=re,ua,Ag).call(L,j))}x(this,Qi,`${b.join(`
`)}${o}${y.join(`
`)}`),S(this,Ne,_g).call(this);const v=new Range;let _=b.reduce((M,P)=>M+P.length,0);for(const{firstChild:M}of this.editorDiv.childNodes)if(M.nodeType===Node.TEXT_NODE){const P=M.nodeValue.length;if(_<=P){v.setStart(M,_),v.setEnd(M,_);break}_-=P}u.removeAllRanges(),u.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(i,s,r){var h;let o=null;if(i instanceof wS){const{data:{defaultAppearanceData:{fontSize:f,fontColor:g},rect:b,rotation:y,id:v,popupRef:_},textContent:E,textPosition:C,parent:{page:{pageNumber:L}}}=i;if(!E||E.length===0)return null;o=i={annotationType:Mt.FREETEXT,color:Array.from(g),fontSize:f,value:E.join(`
`),position:C,pageIndex:L-1,rect:b.slice(0),rotation:y,id:v,deleted:!1,popupRef:_}}const u=await super.deserialize(i,s,r);return x(u,Wi,i.fontSize),x(u,zn,dt.makeHexColor(...i.color)),x(u,Qi,S(h=re,ua,Ob).call(h,i.value)),u.annotationElementId=i.id||null,u._initialData=o,u}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=re._internalPadding*this.parentScale,r=this.getRect(s,s),o=Qt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,zn)),u={annotationType:Mt.FREETEXT,color:o,fontSize:c(this,Wi),value:S(this,Ne,OS).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?u:this.annotationElementId&&!S(this,Ne,kS).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(i){const s=super.renderAnnotationElement(i);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${c(this,Wi)}px * var(--scale-factor))`,r.color=c(this,zn),s.replaceChildren();for(const u of c(this,Qi).split(`
`)){const h=document.createElement("div");h.append(u?document.createTextNode(u):document.createElement("br")),s.append(h)}const o=re._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(o,o),popupContent:c(this,Qi)}),s}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};zn=new WeakMap,Qi=new WeakMap,dd=new WeakMap,wl=new WeakMap,Wi=new WeakMap,Ne=new WeakSet,DS=function(i){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-c(this,Wi))*this.parentScale),x(this,Wi,o),S(this,Ne,vg).call(this)},r=c(this,Wi);this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},LS=function(i){const s=o=>{x(this,zn,this.editorDiv.style.color=o)},r=c(this,zn);this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},NS=function(){var r;const i=[];this.editorDiv.normalize();let s=null;for(const o of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(i.push(S(r=re,ua,Ag).call(r,o)),s=o);return i.join(`
`)},vg=function(){const[i,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:u}=this,h=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",o.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=h,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/i,this.height=r.height/s):(this.width=r.height/i,this.height=r.width/s),this.fixAndSetPosition()},ua=new WeakSet,Ag=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(ig,"")},_g=function(){if(this.editorDiv.replaceChildren(),!!c(this,Qi))for(const i of c(this,Qi).split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(s)}},OS=function(){return c(this,Qi).replaceAll(""," ")},Ob=function(i){return i.replaceAll(" ","")},kS=function(i){const{value:s,fontSize:r,color:o,pageIndex:u}=this._initialData;return this._hasBeenMoved||i.value!==s||i.fontSize!==r||i.color.some((h,f)=>h!==o[f])||i.pageIndex!==u},T(re,ua),_t(re,"_freeTextDefaultContent",""),_t(re,"_internalPadding",0),_t(re,"_defaultColor",null),_t(re,"_defaultFontSize",10),_t(re,"_type","freetext"),_t(re,"_editorType",Mt.FREETEXT);let Nb=re;class PS{toSVGPath(){le("Abstract method `toSVGPath` must be implemented.")}get box(){le("Abstract getter `box` must be implemented.")}serialize(e,i){le("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){le("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){le("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Zi,Hn,Cc,Rc,cs,kt,Tl,Cl,fd,gd,Mc,Dc,nr,pd,Jg,tp,Ue,sh,jS,zS,HS,FS,US,BS;const js=class js{constructor({x:e,y:i},s,r,o,u,h=0){T(this,Ue);T(this,Zi);T(this,Hn,[]);T(this,Cc);T(this,Rc);T(this,cs,[]);T(this,kt,new Float64Array(18));T(this,Tl);T(this,Cl);T(this,fd);T(this,gd);T(this,Mc);T(this,Dc);T(this,nr,[]);x(this,Zi,s),x(this,Dc,o*r),x(this,Rc,u),c(this,kt).set([NaN,NaN,NaN,NaN,e,i],6),x(this,Cc,h),x(this,gd,c(js,pd)*r),x(this,fd,c(js,tp)*r),x(this,Mc,r),c(this,nr).push(e,i)}isEmpty(){return isNaN(c(this,kt)[8])}add({x:e,y:i}){var et;x(this,Tl,e),x(this,Cl,i);const[s,r,o,u]=c(this,Zi);let[h,f,g,b]=c(this,kt).subarray(8,12);const y=e-g,v=i-b,_=Math.hypot(y,v);if(_<c(this,fd))return!1;const E=_-c(this,gd),C=E/_,L=C*y,M=C*v;let P=h,j=f;h=g,f=b,g+=L,b+=M,(et=c(this,nr))==null||et.push(e,i);const z=-M/E,I=L/E,H=z*c(this,Dc),X=I*c(this,Dc);return c(this,kt).set(c(this,kt).subarray(2,8),0),c(this,kt).set([g+H,b+X],4),c(this,kt).set(c(this,kt).subarray(14,18),12),c(this,kt).set([g-H,b-X],16),isNaN(c(this,kt)[6])?(c(this,cs).length===0&&(c(this,kt).set([h+H,f+X],2),c(this,cs).push(NaN,NaN,NaN,NaN,(h+H-s)/o,(f+X-r)/u),c(this,kt).set([h-H,f-X],14),c(this,Hn).push(NaN,NaN,NaN,NaN,(h-H-s)/o,(f-X-r)/u)),c(this,kt).set([P,j,h,f,g,b],6),!this.isEmpty()):(c(this,kt).set([P,j,h,f,g,b],6),Math.abs(Math.atan2(j-f,P-h)-Math.atan2(M,L))<Math.PI/2?([h,f,g,b]=c(this,kt).subarray(2,6),c(this,cs).push(NaN,NaN,NaN,NaN,((h+g)/2-s)/o,((f+b)/2-r)/u),[h,f,P,j]=c(this,kt).subarray(14,18),c(this,Hn).push(NaN,NaN,NaN,NaN,((P+h)/2-s)/o,((j+f)/2-r)/u),!0):([P,j,h,f,g,b]=c(this,kt).subarray(0,6),c(this,cs).push(((P+5*h)/6-s)/o,((j+5*f)/6-r)/u,((5*h+g)/6-s)/o,((5*f+b)/6-r)/u,((h+g)/2-s)/o,((f+b)/2-r)/u),[g,b,h,f,P,j]=c(this,kt).subarray(12,18),c(this,Hn).push(((P+5*h)/6-s)/o,((j+5*f)/6-r)/u,((5*h+g)/6-s)/o,((5*f+b)/6-r)/u,((h+g)/2-s)/o,((f+b)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,cs),i=c(this,Hn);if(isNaN(c(this,kt)[6])&&!this.isEmpty())return S(this,Ue,jS).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);S(this,Ue,HS).call(this,s);for(let r=i.length-6;r>=6;r-=6)isNaN(i[r])?s.push(`L${i[r+4]} ${i[r+5]}`):s.push(`C${i[r]} ${i[r+1]} ${i[r+2]} ${i[r+3]} ${i[r+4]} ${i[r+5]}`);return S(this,Ue,zS).call(this,s),s.join(" ")}newFreeDrawOutline(e,i,s,r,o,u){return new IS(e,i,s,r,o,u)}getOutlines(){var y;const e=c(this,cs),i=c(this,Hn),s=c(this,kt),[r,o,u,h]=c(this,Zi),f=new Float64Array((((y=c(this,nr))==null?void 0:y.length)??0)+2);for(let v=0,_=f.length-2;v<_;v+=2)f[v]=(c(this,nr)[v]-r)/u,f[v+1]=(c(this,nr)[v+1]-o)/h;if(f[f.length-2]=(c(this,Tl)-r)/u,f[f.length-1]=(c(this,Cl)-o)/h,isNaN(s[6])&&!this.isEmpty())return S(this,Ue,FS).call(this,f);const g=new Float64Array(c(this,cs).length+24+c(this,Hn).length);let b=e.length;for(let v=0;v<b;v+=2){if(isNaN(e[v])){g[v]=g[v+1]=NaN;continue}g[v]=e[v],g[v+1]=e[v+1]}b=S(this,Ue,BS).call(this,g,b);for(let v=i.length-6;v>=6;v-=6)for(let _=0;_<6;_+=2){if(isNaN(i[v+_])){g[b]=g[b+1]=NaN,b+=2;continue}g[b]=i[v+_],g[b+1]=i[v+_+1],b+=2}return S(this,Ue,US).call(this,g,b),this.newFreeDrawOutline(g,f,c(this,Zi),c(this,Mc),c(this,Cc),c(this,Rc))}};Zi=new WeakMap,Hn=new WeakMap,Cc=new WeakMap,Rc=new WeakMap,cs=new WeakMap,kt=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,fd=new WeakMap,gd=new WeakMap,Mc=new WeakMap,Dc=new WeakMap,nr=new WeakMap,pd=new WeakMap,Jg=new WeakMap,tp=new WeakMap,Ue=new WeakSet,sh=function(){const e=c(this,kt).subarray(4,6),i=c(this,kt).subarray(16,18),[s,r,o,u]=c(this,Zi);return[(c(this,Tl)+(e[0]-i[0])/2-s)/o,(c(this,Cl)+(e[1]-i[1])/2-r)/u,(c(this,Tl)+(i[0]-e[0])/2-s)/o,(c(this,Cl)+(i[1]-e[1])/2-r)/u]},jS=function(){const[e,i,s,r]=c(this,Zi),[o,u,h,f]=S(this,Ue,sh).call(this);return`M${(c(this,kt)[2]-e)/s} ${(c(this,kt)[3]-i)/r} L${(c(this,kt)[4]-e)/s} ${(c(this,kt)[5]-i)/r} L${o} ${u} L${h} ${f} L${(c(this,kt)[16]-e)/s} ${(c(this,kt)[17]-i)/r} L${(c(this,kt)[14]-e)/s} ${(c(this,kt)[15]-i)/r} Z`},zS=function(e){const i=c(this,Hn);e.push(`L${i[4]} ${i[5]} Z`)},HS=function(e){const[i,s,r,o]=c(this,Zi),u=c(this,kt).subarray(4,6),h=c(this,kt).subarray(16,18),[f,g,b,y]=S(this,Ue,sh).call(this);e.push(`L${(u[0]-i)/r} ${(u[1]-s)/o} L${f} ${g} L${b} ${y} L${(h[0]-i)/r} ${(h[1]-s)/o}`)},FS=function(e){const i=c(this,kt),[s,r,o,u]=c(this,Zi),[h,f,g,b]=S(this,Ue,sh).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(i[2]-s)/o,(i[3]-r)/u,NaN,NaN,NaN,NaN,(i[4]-s)/o,(i[5]-r)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(i[16]-s)/o,(i[17]-r)/u,NaN,NaN,NaN,NaN,(i[14]-s)/o,(i[15]-r)/u],0),this.newFreeDrawOutline(y,e,c(this,Zi),c(this,Mc),c(this,Cc),c(this,Rc))},US=function(e,i){const s=c(this,Hn);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],i),i+=6},BS=function(e,i){const s=c(this,kt).subarray(4,6),r=c(this,kt).subarray(16,18),[o,u,h,f]=c(this,Zi),[g,b,y,v]=S(this,Ue,sh).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-o)/h,(s[1]-u)/f,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(r[0]-o)/h,(r[1]-u)/f],i),i+=24},T(js,pd,8),T(js,Jg,2),T(js,tp,c(js,pd)+c(js,Jg));let Pg=js;var Lc,Rl,Ws,md,Ji,bd,Se,Hi,ah,rh,GS;class IS extends PS{constructor(i,s,r,o,u,h){super();T(this,Hi);T(this,Lc);T(this,Rl,null);T(this,Ws);T(this,md);T(this,Ji);T(this,bd);T(this,Se);x(this,Se,i),x(this,Ji,s),x(this,Lc,r),x(this,bd,o),x(this,Ws,u),x(this,md,h),S(this,Hi,GS).call(this,h);const{x:f,y:g,width:b,height:y}=c(this,Rl);for(let v=0,_=i.length;v<_;v+=2)i[v]=(i[v]-f)/b,i[v+1]=(i[v+1]-g)/y;for(let v=0,_=s.length;v<_;v+=2)s[v]=(s[v]-f)/b,s[v+1]=(s[v+1]-g)/y}toSVGPath(){const i=[`M${c(this,Se)[4]} ${c(this,Se)[5]}`];for(let s=6,r=c(this,Se).length;s<r;s+=6){if(isNaN(c(this,Se)[s])){i.push(`L${c(this,Se)[s+4]} ${c(this,Se)[s+5]}`);continue}i.push(`C${c(this,Se)[s]} ${c(this,Se)[s+1]} ${c(this,Se)[s+2]} ${c(this,Se)[s+3]} ${c(this,Se)[s+4]} ${c(this,Se)[s+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,s,r,o],u){const h=r-i,f=o-s;let g,b;switch(u){case 0:g=S(this,Hi,ah).call(this,c(this,Se),i,o,h,-f),b=S(this,Hi,ah).call(this,c(this,Ji),i,o,h,-f);break;case 90:g=S(this,Hi,rh).call(this,c(this,Se),i,s,h,f),b=S(this,Hi,rh).call(this,c(this,Ji),i,s,h,f);break;case 180:g=S(this,Hi,ah).call(this,c(this,Se),r,s,-h,f),b=S(this,Hi,ah).call(this,c(this,Ji),r,s,-h,f);break;case 270:g=S(this,Hi,rh).call(this,c(this,Se),r,o,-h,-f),b=S(this,Hi,rh).call(this,c(this,Ji),r,o,-h,-f);break}return{outline:Array.from(g),points:[Array.from(b)]}}get box(){return c(this,Rl)}newOutliner(i,s,r,o,u,h=0){return new Pg(i,s,r,o,u,h)}getNewOutline(i,s){const{x:r,y:o,width:u,height:h}=c(this,Rl),[f,g,b,y]=c(this,Lc),v=u*b,_=h*y,E=r*b+f,C=o*y+g,L=this.newOutliner({x:c(this,Ji)[0]*v+E,y:c(this,Ji)[1]*_+C},c(this,Lc),c(this,bd),i,c(this,md),s??c(this,Ws));for(let M=2;M<c(this,Ji).length;M+=2)L.add({x:c(this,Ji)[M]*v+E,y:c(this,Ji)[M+1]*_+C});return L.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Lc=new WeakMap,Rl=new WeakMap,Ws=new WeakMap,md=new WeakMap,Ji=new WeakMap,bd=new WeakMap,Se=new WeakMap,Hi=new WeakSet,ah=function(i,s,r,o,u){const h=new Float64Array(i.length);for(let f=0,g=i.length;f<g;f+=2)h[f]=s+i[f]*o,h[f+1]=r+i[f+1]*u;return h},rh=function(i,s,r,o,u){const h=new Float64Array(i.length);for(let f=0,g=i.length;f<g;f+=2)h[f]=s+i[f+1]*o,h[f+1]=r+i[f]*u;return h},GS=function(i){const s=c(this,Se);let r=s[4],o=s[5],u=r,h=o,f=r,g=o,b=r,y=o;const v=i?Math.max:Math.min;for(let M=6,P=s.length;M<P;M+=6){if(isNaN(s[M]))u=Math.min(u,s[M+4]),h=Math.min(h,s[M+5]),f=Math.max(f,s[M+4]),g=Math.max(g,s[M+5]),y<s[M+5]?(b=s[M+4],y=s[M+5]):y===s[M+5]&&(b=v(b,s[M+4]));else{const j=dt.bezierBoundingBox(r,o,...s.slice(M,M+6));u=Math.min(u,j[0]),h=Math.min(h,j[1]),f=Math.max(f,j[2]),g=Math.max(g,j[3]),y<j[3]?(b=j[2],y=j[3]):y===j[3]&&(b=v(b,j[2]))}r=s[M+4],o=s[M+5]}const _=u-c(this,Ws),E=h-c(this,Ws),C=f-u+2*c(this,Ws),L=g-h+2*c(this,Ws);x(this,Rl,{x:_,y:E,width:C,height:L,lastPoint:[b,y]})};var yd,sr,Fn,Ti,qS,xg,VS,XS,kb;class W_{constructor(e,i=0,s=0,r=!0){T(this,Ti);T(this,yd);T(this,sr,[]);T(this,Fn,[]);let o=1/0,u=-1/0,h=1/0,f=-1/0;const g=10**-4;for(const{x:L,y:M,width:P,height:j}of e){const z=Math.floor((L-i)/g)*g,I=Math.ceil((L+P+i)/g)*g,H=Math.floor((M-i)/g)*g,X=Math.ceil((M+j+i)/g)*g,W=[z,H,X,!0],et=[I,H,X,!1];c(this,sr).push(W,et),o=Math.min(o,z),u=Math.max(u,I),h=Math.min(h,H),f=Math.max(f,X)}const b=u-o+2*s,y=f-h+2*s,v=o-s,_=h-s,E=c(this,sr).at(r?-1:-2),C=[E[0],E[2]];for(const L of c(this,sr)){const[M,P,j]=L;L[0]=(M-v)/b,L[1]=(P-_)/y,L[2]=(j-_)/y}x(this,yd,{x:v,y:_,width:b,height:y,lastPoint:C})}getOutlines(){c(this,sr).sort((i,s)=>i[0]-s[0]||i[1]-s[1]||i[2]-s[2]);const e=[];for(const i of c(this,sr))i[3]?(e.push(...S(this,Ti,kb).call(this,i)),S(this,Ti,VS).call(this,i)):(S(this,Ti,XS).call(this,i),e.push(...S(this,Ti,kb).call(this,i)));return S(this,Ti,qS).call(this,e)}}yd=new WeakMap,sr=new WeakMap,Fn=new WeakMap,Ti=new WeakSet,qS=function(e){const i=[],s=new Set;for(const u of e){const[h,f,g]=u;i.push([h,f,u],[h,g,u])}i.sort((u,h)=>u[1]-h[1]||u[0]-h[0]);for(let u=0,h=i.length;u<h;u+=2){const f=i[u][2],g=i[u+1][2];f.push(g),g.push(f),s.add(f),s.add(g)}const r=[];let o;for(;s.size>0;){const u=s.values().next().value;let[h,f,g,b,y]=u;s.delete(u);let v=h,_=f;for(o=[h,g],r.push(o);;){let E;if(s.has(b))E=b;else if(s.has(y))E=y;else break;s.delete(E),[h,f,g,b,y]=E,v!==h&&(o.push(v,_,h,_===f?f:g),v=h),_=_===f?g:f}o.push(v,_)}return new lM(r,c(this,yd))},xg=function(e){const i=c(this,Fn);let s=0,r=i.length-1;for(;s<=r;){const o=s+r>>1,u=i[o][0];if(u===e)return o;u<e?s=o+1:r=o-1}return r+1},VS=function([,e,i]){const s=S(this,Ti,xg).call(this,e);c(this,Fn).splice(s,0,[e,i])},XS=function([,e,i]){const s=S(this,Ti,xg).call(this,e);for(let r=s;r<c(this,Fn).length;r++){const[o,u]=c(this,Fn)[r];if(o!==e)break;if(o===e&&u===i){c(this,Fn).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,u]=c(this,Fn)[r];if(o!==e)break;if(o===e&&u===i){c(this,Fn).splice(r,1);return}}},kb=function(e){const[i,s,r]=e,o=[[i,s,r]],u=S(this,Ti,xg).call(this,r);for(let h=0;h<u;h++){const[f,g]=c(this,Fn)[h];for(let b=0,y=o.length;b<y;b++){const[,v,_]=o[b];if(!(g<=v||_<=f)){if(v>=f){if(_>g)o[b][1]=g;else{if(y===1)return[];o.splice(b,1),b--,y--}continue}o[b][2]=f,_>g&&o.push([i,g,_])}}}return o};var vd,Nc;class lM extends PS{constructor(i,s){super();T(this,vd);T(this,Nc);x(this,Nc,i),x(this,vd,s)}toSVGPath(){const i=[];for(const s of c(this,Nc)){let[r,o]=s;i.push(`M${r} ${o}`);for(let u=2;u<s.length;u+=2){const h=s[u],f=s[u+1];h===r?(i.push(`V${f}`),o=f):f===o&&(i.push(`H${h}`),r=h)}i.push("Z")}return i.join(" ")}serialize([i,s,r,o],u){const h=[],f=r-i,g=o-s;for(const b of c(this,Nc)){const y=new Array(b.length);for(let v=0;v<b.length;v+=2)y[v]=i+b[v]*f,y[v+1]=o-b[v+1]*g;h.push(y)}return h}get box(){return c(this,vd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}vd=new WeakMap,Nc=new WeakMap;class Pb extends Pg{newFreeDrawOutline(e,i,s,r,o,u){return new oM(e,i,s,r,o,u)}get classNamesForDrawing(){return["highlight","free"]}}class oM extends IS{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,i,s,r,o,u=0){return new Pb(e,i,s,r,o,u)}}var Un,Ml,Oc,ze,Ad,kc,_d,xd,ar,Bn,Pc,Sd,ee,jb,zb,Hb,Fr,YS,za;const Oi=class Oi{constructor({editor:e=null,uiManager:i=null}){T(this,ee);T(this,Un,null);T(this,Ml,null);T(this,Oc);T(this,ze,null);T(this,Ad,!1);T(this,kc,!1);T(this,_d,null);T(this,xd);T(this,ar,null);T(this,Bn,null);T(this,Pc);var s;e?(x(this,kc,!1),x(this,Pc,xt.HIGHLIGHT_COLOR),x(this,_d,e)):(x(this,kc,!0),x(this,Pc,xt.HIGHLIGHT_DEFAULT_COLOR)),x(this,Bn,(e==null?void 0:e._uiManager)||i),x(this,xd,c(this,Bn)._eventBus),x(this,Oc,(e==null?void 0:e.color)||((s=c(this,Bn))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),c(Oi,Sd)||x(Oi,Sd,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ft(this,"_keyboardManager",new Ld([[["Escape","mac+Escape"],Oi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Oi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Oi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Oi.prototype._moveToPrevious],[["Home","mac+Home"],Oi.prototype._moveToBeginning],[["End","mac+End"],Oi.prototype._moveToEnd]]))}renderButton(){const e=x(this,Un,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const i=c(this,Bn)._signal;e.addEventListener("click",S(this,ee,Fr).bind(this),{signal:i}),e.addEventListener("keydown",S(this,ee,Hb).bind(this),{signal:i});const s=x(this,Ml,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=c(this,Oc),e.append(s),e}renderMainDropdown(){const e=x(this,ze,S(this,ee,jb).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,Un)){S(this,ee,Fr).call(this,e);return}const i=e.target.getAttribute("data-color");i&&S(this,ee,zb).call(this,i,e)}_moveToNext(e){var i,s;if(!c(this,ee,za)){S(this,ee,Fr).call(this,e);return}if(e.target===c(this,Un)){(i=c(this,ze).firstChild)==null||i.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var i,s;if(e.target===((i=c(this,ze))==null?void 0:i.firstChild)||e.target===c(this,Un)){c(this,ee,za)&&this._hideDropdownFromKeyboard();return}c(this,ee,za)||S(this,ee,Fr).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var i;if(!c(this,ee,za)){S(this,ee,Fr).call(this,e);return}(i=c(this,ze).firstChild)==null||i.focus()}_moveToEnd(e){var i;if(!c(this,ee,za)){S(this,ee,Fr).call(this,e);return}(i=c(this,ze).lastChild)==null||i.focus()}hideDropdown(){var e,i;(e=c(this,ze))==null||e.classList.add("hidden"),(i=c(this,ar))==null||i.abort(),x(this,ar,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,kc)){if(!c(this,ee,za)){(e=c(this,_d))==null||e.unselect();return}this.hideDropdown(),c(this,Un).focus({preventScroll:!0,focusVisible:c(this,Ad)})}}updateColor(e){if(c(this,Ml)&&(c(this,Ml).style.backgroundColor=e),!c(this,ze))return;const i=c(this,Bn).highlightColors.values();for(const s of c(this,ze).children)s.setAttribute("aria-selected",i.next().value===e)}destroy(){var e,i;(e=c(this,Un))==null||e.remove(),x(this,Un,null),x(this,Ml,null),(i=c(this,ze))==null||i.remove(),x(this,ze,null)}};Un=new WeakMap,Ml=new WeakMap,Oc=new WeakMap,ze=new WeakMap,Ad=new WeakMap,kc=new WeakMap,_d=new WeakMap,xd=new WeakMap,ar=new WeakMap,Bn=new WeakMap,Pc=new WeakMap,Sd=new WeakMap,ee=new WeakSet,jb=function(){const e=document.createElement("div"),i=c(this,Bn)._signal;e.addEventListener("contextmenu",En,{signal:i}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of c(this,Bn).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",c(Oi,Sd)[s]);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=r,o.setAttribute("aria-selected",r===c(this,Oc)),o.addEventListener("click",S(this,ee,zb).bind(this,r),{signal:i}),e.append(o)}return e.addEventListener("keydown",S(this,ee,Hb).bind(this),{signal:i}),e},zb=function(e,i){i.stopPropagation(),c(this,xd).dispatch("switchannotationeditorparams",{source:this,type:c(this,Pc),value:e})},Hb=function(e){Oi._keyboardManager.exec(this,e)},Fr=function(e){if(c(this,ee,za)){this.hideDropdown();return}if(x(this,Ad,e.detail===0),c(this,ar)||(x(this,ar,new AbortController),window.addEventListener("pointerdown",S(this,ee,YS).bind(this),{signal:c(this,Bn).combinedSignal(c(this,ar))})),c(this,ze)){c(this,ze).classList.remove("hidden");return}const i=x(this,ze,S(this,ee,jb).call(this));c(this,Un).append(i)},YS=function(e){var i;(i=c(this,ze))!=null&&i.contains(e.target)||this.hideDropdown()},za=function(){return c(this,ze)&&!c(this,ze).classList.contains("hidden")},T(Oi,Sd,null);let jg=Oi;var jc,Ed,Zs,Dl,zc,yn,wd,Td,Ll,In,pi,ji,Hc,Js,He,Fc,vn,Cd,Ct,Fb,Sg,KS,$S,QS,Ub,Ur,xn,Bo,WS,Eg,lh,ZS,JS,tE,eE,iE;const Gt=class Gt extends Qt{constructor(i){super({...i,name:"highlightEditor"});T(this,Ct);T(this,jc,null);T(this,Ed,0);T(this,Zs);T(this,Dl,null);T(this,zc,null);T(this,yn,null);T(this,wd,null);T(this,Td,0);T(this,Ll,null);T(this,In,null);T(this,pi,null);T(this,ji,!1);T(this,Hc,null);T(this,Js);T(this,He,null);T(this,Fc,"");T(this,vn);T(this,Cd,"");this.color=i.color||Gt._defaultColor,x(this,vn,i.thickness||Gt._defaultThickness),x(this,Js,i.opacity||Gt._defaultOpacity),x(this,Zs,i.boxes||null),x(this,Cd,i.methodOfCreation||""),x(this,Fc,i.text||""),this._isDraggable=!1,i.highlightId>-1?(x(this,ji,!0),S(this,Ct,Sg).call(this,i),S(this,Ct,Ur).call(this)):c(this,Zs)&&(x(this,jc,i.anchorNode),x(this,Ed,i.anchorOffset),x(this,wd,i.focusNode),x(this,Td,i.focusOffset),S(this,Ct,Fb).call(this),S(this,Ct,Ur).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=Gt.prototype;return Ft(this,"_keyboardManager",new Ld([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,ji)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,vn),methodOfCreation:c(this,Cd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,s){var r;Qt.initialize(i,s),Gt._defaultColor||(Gt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(i,s){switch(i){case xt.HIGHLIGHT_DEFAULT_COLOR:Gt._defaultColor=s;break;case xt.HIGHLIGHT_THICKNESS:Gt._defaultThickness=s;break}}translateInPage(i,s){}get toolbarPosition(){return c(this,Hc)}updateParams(i,s){switch(i){case xt.HIGHLIGHT_COLOR:S(this,Ct,KS).call(this,s);break;case xt.HIGHLIGHT_THICKNESS:S(this,Ct,$S).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xt.HIGHLIGHT_DEFAULT_COLOR,Gt._defaultColor],[xt.HIGHLIGHT_THICKNESS,Gt._defaultThickness]]}get propertiesToUpdate(){return[[xt.HIGHLIGHT_COLOR,this.color||Gt._defaultColor],[xt.HIGHLIGHT_THICKNESS,c(this,vn)||Gt._defaultThickness],[xt.HIGHLIGHT_FREE,c(this,ji)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(x(this,zc,new jg({editor:this})),i.addColorPicker(c(this,zc))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(S(this,Ct,lh).call(this))}getBaseTranslation(){return[0,0]}getRect(i,s){return super.getRect(i,s,S(this,Ct,lh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){S(this,Ct,Ub).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,Ct,Ur).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var r;let s=!1;this.parent&&!i?S(this,Ct,Ub).call(this):i&&(S(this,Ct,Ur).call(this,i),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),s&&this.select()}rotate(i){var o,u,h;const{drawLayer:s}=this.parent;let r;c(this,ji)?(i=(i-this.rotation+360)%360,r=S(o=Gt,xn,Bo).call(o,c(this,In).box,i)):r=S(u=Gt,xn,Bo).call(u,this,i),s.rotate(c(this,pi),i),s.rotate(c(this,He),i),s.updateBox(c(this,pi),r),s.updateBox(c(this,He),S(h=Gt,xn,Bo).call(h,c(this,yn).box,i))}render(){if(this.div)return this.div;const i=super.render();c(this,Fc)&&(i.setAttribute("aria-label",c(this,Fc)),i.setAttribute("role","mark")),c(this,ji)?i.classList.add("free"):this.div.addEventListener("keydown",S(this,Ct,WS).bind(this),{signal:this._uiManager._signal});const s=x(this,Ll,document.createElement("div"));i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=c(this,Dl);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),Og(this,c(this,Ll),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){this.isSelected||this.parent.drawLayer.addClass(c(this,He),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(c(this,He),"hovered")}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:S(this,Ct,Eg).call(this,!0);break;case 1:case 3:S(this,Ct,Eg).call(this,!1);break}}select(){var i,s;super.select(),c(this,He)&&((i=this.parent)==null||i.drawLayer.removeClass(c(this,He),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(c(this,He),"selected"))}unselect(){var i;super.unselect(),c(this,He)&&((i=this.parent)==null||i.drawLayer.removeClass(c(this,He),"selected"),c(this,ji)||S(this,Ct,Eg).call(this,!1))}get _mustFixPosition(){return!c(this,ji)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.show(c(this,pi),i),this.parent.drawLayer.show(c(this,He),i))}static startHighlighting(i,s,{target:r,x:o,y:u}){const{x:h,y:f,width:g,height:b}=r.getBoundingClientRect(),y=new AbortController,v=i.combinedSignal(y),_=C=>{C.preventDefault(),C.stopPropagation()},E=C=>{y.abort(),S(this,xn,eE).call(this,i,C)};window.addEventListener("blur",E,{signal:v}),window.addEventListener("pointerup",E,{signal:v}),window.addEventListener("pointerdown",_,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",En,{signal:v}),r.addEventListener("pointermove",S(this,xn,tE).bind(this,i),{signal:v}),this._freeHighlight=new Pb({x:o,y:u},[h,f,g,b],i.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(i,s,r){var C,L,M,P;let o=null;if(i instanceof CS){const{data:{quadPoints:j,rect:z,rotation:I,id:H,color:X,opacity:W,popupRef:et},parent:{page:{pageNumber:lt}}}=i;o=i={annotationType:Mt.HIGHLIGHT,color:Array.from(X),opacity:W,quadPoints:j,boxes:null,pageIndex:lt-1,rect:z.slice(0),rotation:I,id:H,deleted:!1,popupRef:et}}else if(i instanceof xy){const{data:{inkLists:j,rect:z,rotation:I,id:H,color:X,borderStyle:{rawWidth:W},popupRef:et},parent:{page:{pageNumber:lt}}}=i;o=i={annotationType:Mt.HIGHLIGHT,color:Array.from(X),thickness:W,inkLists:j,boxes:null,pageIndex:lt-1,rect:z.slice(0),rotation:I,id:H,deleted:!1,popupRef:et}}const{color:u,quadPoints:h,inkLists:f,opacity:g}=i,b=await super.deserialize(i,s,r);b.color=dt.makeHexColor(...u),x(b,Js,g||1),f&&x(b,vn,i.thickness),b.annotationElementId=i.id||null,b._initialData=o;const[y,v]=b.pageDimensions,[_,E]=b.pageTranslation;if(h){const j=x(b,Zs,[]);for(let z=0;z<h.length;z+=8)j.push({x:(h[z]-_)/y,y:1-(h[z+1]-E)/v,width:(h[z+2]-h[z])/y,height:(h[z+1]-h[z+5])/v});S(C=b,Ct,Fb).call(C),S(L=b,Ct,Ur).call(L),b.rotate(b.rotation)}else if(f){x(b,ji,!0);const j=f[0],z={x:j[0]-_,y:v-(j[1]-E)},I=new Pb(z,[0,0,y,v],1,c(b,vn)/2,!0,.001);for(let W=0,et=j.length;W<et;W+=2)z.x=j[W]-_,z.y=v-(j[W+1]-E),I.add(z);const{id:H,clipPathId:X}=s.drawLayer.draw(I,b.color,b._defaultOpacity,!0);S(M=b,Ct,Sg).call(M,{highlightOutlines:I.getOutlines(),highlightId:H,clipPathId:X}),S(P=b,Ct,Ur).call(P)}return b}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Qt._colorManager.convert(this.color),o={annotationType:Mt.HIGHLIGHT,color:r,opacity:c(this,Js),thickness:c(this,vn),quadPoints:S(this,Ct,ZS).call(this),outlines:S(this,Ct,JS).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:S(this,Ct,lh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!S(this,Ct,iE).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};jc=new WeakMap,Ed=new WeakMap,Zs=new WeakMap,Dl=new WeakMap,zc=new WeakMap,yn=new WeakMap,wd=new WeakMap,Td=new WeakMap,Ll=new WeakMap,In=new WeakMap,pi=new WeakMap,ji=new WeakMap,Hc=new WeakMap,Js=new WeakMap,He=new WeakMap,Fc=new WeakMap,vn=new WeakMap,Cd=new WeakMap,Ct=new WeakSet,Fb=function(){const i=new W_(c(this,Zs),.001);x(this,In,i.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,In).box;const s=new W_(c(this,Zs),.0025,.001,this._uiManager.direction==="ltr");x(this,yn,s.getOutlines());const{lastPoint:r}=c(this,yn).box;x(this,Hc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Sg=function({highlightOutlines:i,highlightId:s,clipPathId:r}){var y,v;if(x(this,In,i),x(this,yn,i.getNewOutline(c(this,vn)/2+1.5,.0025)),s>=0)x(this,pi,s),x(this,Dl,r),this.parent.drawLayer.finalizeLine(s,i),x(this,He,this.parent.drawLayer.drawOutline(c(this,yn)));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,pi),i),this.parent.drawLayer.updateBox(c(this,pi),S(y=Gt,xn,Bo).call(y,c(this,In).box,(_-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,He),c(this,yn)),this.parent.drawLayer.updateBox(c(this,He),S(v=Gt,xn,Bo).call(v,c(this,yn).box,_))}const{x:u,y:h,width:f,height:g}=i.box;switch(this.rotation){case 0:this.x=u,this.y=h,this.width=f,this.height=g;break;case 90:{const[_,E]=this.parentDimensions;this.x=h,this.y=1-u,this.width=f*E/_,this.height=g*_/E;break}case 180:this.x=1-u,this.y=1-h,this.width=f,this.height=g;break;case 270:{const[_,E]=this.parentDimensions;this.x=1-h,this.y=u,this.width=f*E/_,this.height=g*_/E;break}}const{lastPoint:b}=c(this,yn).box;x(this,Hc,[(b[0]-u)/f,(b[1]-h)/g])},KS=function(i){const s=(u,h)=>{var f,g,b;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(c(this,pi),u),(g=c(this,zc))==null||g.updateColor(u),x(this,Js,h),(b=this.parent)==null||b.drawLayer.changeOpacity(c(this,pi),h)},r=this.color,o=c(this,Js);this.addCommands({cmd:s.bind(this,i,Gt._defaultOpacity),undo:s.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},$S=function(i){const s=c(this,vn),r=o=>{x(this,vn,o),S(this,Ct,QS).call(this,o)};this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},QS=function(i){if(!c(this,ji))return;S(this,Ct,Sg).call(this,{highlightOutlines:c(this,In).getNewOutline(i/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},Ub=function(){c(this,pi)===null||!this.parent||(this.parent.drawLayer.remove(c(this,pi)),x(this,pi,null),this.parent.drawLayer.remove(c(this,He)),x(this,He,null))},Ur=function(i=this.parent){c(this,pi)===null&&({id:Ai(this,pi)._,clipPathId:Ai(this,Dl)._}=i.drawLayer.draw(c(this,In),this.color,c(this,Js)),x(this,He,i.drawLayer.drawOutline(c(this,yn))),c(this,Ll)&&(c(this,Ll).style.clipPath=c(this,Dl)))},xn=new WeakSet,Bo=function({x:i,y:s,width:r,height:o},u){switch(u){case 90:return{x:1-s-o,y:i,width:o,height:r};case 180:return{x:1-i-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-i-r,width:o,height:r}}return{x:i,y:s,width:r,height:o}},WS=function(i){Gt._keyboardManager.exec(this,i)},Eg=function(i){if(!c(this,jc))return;const s=window.getSelection();i?s.setPosition(c(this,jc),c(this,Ed)):s.setPosition(c(this,wd),c(this,Td))},lh=function(){return c(this,ji)?this.rotation:0},ZS=function(){if(c(this,ji))return null;const[i,s]=this.pageDimensions,[r,o]=this.pageTranslation,u=c(this,Zs),h=new Float32Array(u.length*8);let f=0;for(const{x:g,y:b,width:y,height:v}of u){const _=g*i+r,E=(1-b-v)*s+o;h[f]=h[f+4]=_,h[f+1]=h[f+3]=E,h[f+2]=h[f+6]=_+y*i,h[f+5]=h[f+7]=E+v*s,f+=8}return h},JS=function(i){return c(this,In).serialize(i,S(this,Ct,lh).call(this))},tE=function(i,s){this._freeHighlight.add(s)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},eE=function(i,s){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},iE=function(i){const{color:s}=this._initialData;return i.color.some((r,o)=>r!==s[o])},T(Gt,xn),_t(Gt,"_defaultColor",null),_t(Gt,"_defaultOpacity",1),_t(Gt,"_defaultThickness",12),_t(Gt,"_type","highlight"),_t(Gt,"_editorType",Mt.HIGHLIGHT),_t(Gt,"_freeHighlightId",-1),_t(Gt,"_freeHighlight",null),_t(Gt,"_freeHighlightClipId","");let zg=Gt;var Nl,Ol,us,ta,An,kl,Pl,jl,ea,Uc,zl,Hl,rr,nt,nE,sE,aE,rE,Ib,lE,Gb,oE,cE,uE,hE,dE,Br,qb,Vb,Xb,wg,Tg,Io,Yb,Cg,da,fE,Kb,gE,pE,$b,Rg,oh;const de=class de extends Qt{constructor(i){super({...i,name:"inkEditor"});T(this,nt);T(this,Nl,0);T(this,Ol,0);T(this,us,null);T(this,ta,new Path2D);T(this,An,!1);T(this,kl,null);T(this,Pl,!1);T(this,jl,!1);T(this,ea,null);T(this,Uc,null);T(this,zl,0);T(this,Hl,0);T(this,rr,null);this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i,s){Qt.initialize(i,s)}static updateDefaultParams(i,s){switch(i){case xt.INK_THICKNESS:de._defaultThickness=s;break;case xt.INK_COLOR:de._defaultColor=s;break;case xt.INK_OPACITY:de._defaultOpacity=s/100;break}}updateParams(i,s){switch(i){case xt.INK_THICKNESS:S(this,nt,nE).call(this,s);break;case xt.INK_COLOR:S(this,nt,sE).call(this,s);break;case xt.INK_OPACITY:S(this,nt,aE).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xt.INK_THICKNESS,de._defaultThickness],[xt.INK_COLOR,de._defaultColor||Qt._defaultLineColor],[xt.INK_OPACITY,Math.round(de._defaultOpacity*100)]]}get propertiesToUpdate(){return[[xt.INK_THICKNESS,this.thickness||de._defaultThickness],[xt.INK_COLOR,this.color||de._defaultColor||Qt._defaultLineColor],[xt.INK_OPACITY,Math.round(100*(this.opacity??de._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(S(this,nt,wg).call(this),S(this,nt,Tg).call(this)),this.isAttachedToDOM||(this.parent.add(this),S(this,nt,Io).call(this)),S(this,nt,oh).call(this)))}remove(){var i;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,us)&&(clearTimeout(c(this,us)),x(this,us,null)),(i=c(this,ea))==null||i.disconnect(),x(this,ea,null),super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&i===null&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,s]=this.parentDimensions,r=this.width*i,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){c(this,An)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,S(this,nt,qb).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),S(this,nt,Vb).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,An)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),x(this,An,!0),this.div.classList.add("disabled"),S(this,nt,oh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}canvasPointerdown(i){i.button!==0||!this.isInEditMode()||c(this,An)||(this.setInForeground(),i.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),S(this,nt,lE).call(this,i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),S(this,nt,Gb).call(this,i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),S(this,nt,Xb).call(this,i)}canvasPointerleave(i){S(this,nt,Xb).call(this,i)}get isResizable(){return!this.isEmpty()&&c(this,An)}render(){if(this.div)return this.div;let i,s;this.width&&(i=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,u,h]=S(this,nt,rE).call(this);if(this.setAt(r,o,0,0),this.setDims(u,h),S(this,nt,wg).call(this),this.width){const[f,g]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*g),this.setAt(i*f,s*g,this.width*f,this.height*g),x(this,jl,!0),S(this,nt,Io).call(this),this.setDims(this.width*f,this.height*g),S(this,nt,Br).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return S(this,nt,Tg).call(this),this.div}setDimensions(i,s){const r=Math.round(i),o=Math.round(s);if(c(this,zl)===r&&c(this,Hl)===o)return;x(this,zl,r),x(this,Hl,o),this.canvas.style.visibility="hidden";const[u,h]=this.parentDimensions;this.width=i/u,this.height=s/h,this.fixAndSetPosition(),c(this,An)&&S(this,nt,Yb).call(this,i,s),S(this,nt,Io).call(this),S(this,nt,Br).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(i,s,r){var L,M,P;if(i instanceof xy)return null;const o=await super.deserialize(i,s,r);o.thickness=i.thickness,o.color=dt.makeHexColor(...i.color),o.opacity=i.opacity;const[u,h]=o.pageDimensions,f=o.width*u,g=o.height*h,b=o.parentScale,y=i.thickness/2;x(o,An,!0),x(o,zl,Math.round(f)),x(o,Hl,Math.round(g));const{paths:v,rect:_,rotation:E}=i;for(let{bezier:j}of v){j=S(L=de,da,gE).call(L,j,_,E);const z=[];o.paths.push(z);let I=b*(j[0]-y),H=b*(j[1]-y);for(let W=2,et=j.length;W<et;W+=6){const lt=b*(j[W]-y),at=b*(j[W+1]-y),pt=b*(j[W+2]-y),bt=b*(j[W+3]-y),ft=b*(j[W+4]-y),ht=b*(j[W+5]-y);z.push([[I,H],[lt,at],[pt,bt],[ft,ht]]),I=ft,H=ht}const X=S(this,da,fE).call(this,z);o.bezierPath2D.push(X)}const C=S(M=o,nt,$b).call(M);return x(o,Ol,Math.max(Qt.MIN_SIZE,C[2]-C[0])),x(o,Nl,Math.max(Qt.MIN_SIZE,C[3]-C[1])),S(P=o,nt,Yb).call(P,f,g),o}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),s=Qt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Mt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:S(this,nt,pE).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Nl=new WeakMap,Ol=new WeakMap,us=new WeakMap,ta=new WeakMap,An=new WeakMap,kl=new WeakMap,Pl=new WeakMap,jl=new WeakMap,ea=new WeakMap,Uc=new WeakMap,zl=new WeakMap,Hl=new WeakMap,rr=new WeakMap,nt=new WeakSet,nE=function(i){const s=o=>{this.thickness=o,S(this,nt,oh).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},sE=function(i){const s=o=>{this.color=o,S(this,nt,Br).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},aE=function(i){const s=o=>{this.opacity=o,S(this,nt,Br).call(this)};i/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},rE=function(){const{parentRotation:i,parentDimensions:[s,r]}=this;switch(i){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},Ib=function(){const{ctx:i,color:s,opacity:r,thickness:o,parentScale:u,scaleFactor:h}=this;i.lineWidth=o*u/h,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${s}${DC(r)}`},lE=function(i,s){this.canvas.addEventListener("contextmenu",En,{signal:this._uiManager._signal}),S(this,nt,Vb).call(this),x(this,kl,new AbortController);const r=this._uiManager.combinedSignal(c(this,kl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,c(this,jl)||(x(this,jl,!0),S(this,nt,Io).call(this),this.thickness||(this.thickness=de._defaultThickness),this.color||(this.color=de._defaultColor||Qt._defaultLineColor),this.opacity??(this.opacity=de._defaultOpacity)),this.currentPath.push([i,s]),x(this,Pl,!1),S(this,nt,Ib).call(this),x(this,rr,()=>{S(this,nt,uE).call(this),c(this,rr)&&window.requestAnimationFrame(c(this,rr))}),window.requestAnimationFrame(c(this,rr))},Gb=function(i,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===r&&s===o)return;const u=this.currentPath;let h=c(this,ta);if(u.push([i,s]),x(this,Pl,!0),u.length<=2){h.moveTo(...u[0]),h.lineTo(i,s);return}u.length===3&&(x(this,ta,h=new Path2D),h.moveTo(...u[0])),S(this,nt,hE).call(this,h,...u.at(-3),...u.at(-2),i,s)},oE=function(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);c(this,ta).lineTo(...i)},cE=function(i,s){x(this,rr,null),i=Math.min(Math.max(i,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),S(this,nt,Gb).call(this,i,s),S(this,nt,oE).call(this);let r;if(this.currentPath.length!==1)r=S(this,nt,dE).call(this);else{const g=[i,s];r=[[g,g.slice(),g.slice(),g]]}const o=c(this,ta),u=this.currentPath;this.currentPath=[],x(this,ta,new Path2D);const h=()=>{this.allRawPaths.push(u),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(S(this,nt,wg).call(this),S(this,nt,Tg).call(this)),S(this,nt,oh).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},uE=function(){if(!c(this,Pl))return;x(this,Pl,!1);const i=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(h=>h[0]),o=s.map(h=>h[1]);Math.min(...r)-i,Math.max(...r)+i,Math.min(...o)-i,Math.max(...o)+i;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)u.stroke(h);u.stroke(c(this,ta)),u.restore()},hE=function(i,s,r,o,u,h,f){const g=(s+o)/2,b=(r+u)/2,y=(o+h)/2,v=(u+f)/2;i.bezierCurveTo(g+2*(o-g)/3,b+2*(u-b)/3,y+2*(o-y)/3,v+2*(u-v)/3,y,v)},dE=function(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const s=[];let r,[o,u]=i[0];for(r=1;r<i.length-2;r++){const[_,E]=i[r],[C,L]=i[r+1],M=(_+C)/2,P=(E+L)/2,j=[o+2*(_-o)/3,u+2*(E-u)/3],z=[M+2*(_-M)/3,P+2*(E-P)/3];s.push([[o,u],j,z,[M,P]]),[o,u]=[M,P]}const[h,f]=i[r],[g,b]=i[r+1],y=[o+2*(h-o)/3,u+2*(f-u)/3],v=[g+2*(h-g)/3,b+2*(f-b)/3];return s.push([[o,u],y,v,[g,b]]),s},Br=function(){if(this.isEmpty()){S(this,nt,Cg).call(this);return}S(this,nt,Ib).call(this);const{canvas:i,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,i.width,i.height),S(this,nt,Cg).call(this);for(const r of this.bezierPath2D)s.stroke(r)},qb=function(){if(c(this,Uc))return;x(this,Uc,new AbortController);const i=this._uiManager.combinedSignal(c(this,Uc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:i})},Vb=function(){var i;(i=this.pointerdownAC)==null||i.abort(),this.pointerdownAC=null},Xb=function(i){var s;(s=c(this,kl))==null||s.abort(),x(this,kl,null),S(this,nt,qb).call(this),c(this,us)&&clearTimeout(c(this,us)),x(this,us,setTimeout(()=>{x(this,us,null),this.canvas.removeEventListener("contextmenu",En)},10)),S(this,nt,cE).call(this,i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()},wg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Tg=function(){x(this,ea,new ResizeObserver(i=>{const s=i[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),c(this,ea).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=c(this,ea))==null||i.disconnect(),x(this,ea,null)},{once:!0})},Io=function(){if(!c(this,jl))return;const[i,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*s),S(this,nt,Cg).call(this)},Yb=function(i,s){const r=S(this,nt,Rg).call(this),o=(i-r)/c(this,Ol),u=(s-r)/c(this,Nl);this.scaleFactor=Math.min(o,u)},Cg=function(){const i=S(this,nt,Rg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)},da=new WeakSet,fE=function(i){const s=new Path2D;for(let r=0,o=i.length;r<o;r++){const[u,h,f,g]=i[r];r===0&&s.moveTo(...u),s.bezierCurveTo(h[0],h[1],f[0],f[1],g[0],g[1])}return s},Kb=function(i,s,r){const[o,u,h,f]=s;switch(r){case 0:for(let g=0,b=i.length;g<b;g+=2)i[g]+=o,i[g+1]=f-i[g+1];break;case 90:for(let g=0,b=i.length;g<b;g+=2){const y=i[g];i[g]=i[g+1]+o,i[g+1]=y+u}break;case 180:for(let g=0,b=i.length;g<b;g+=2)i[g]=h-i[g],i[g+1]+=u;break;case 270:for(let g=0,b=i.length;g<b;g+=2){const y=i[g];i[g]=h-i[g+1],i[g+1]=f-y}break;default:throw new Error("Invalid rotation")}return i},gE=function(i,s,r){const[o,u,h,f]=s;switch(r){case 0:for(let g=0,b=i.length;g<b;g+=2)i[g]-=o,i[g+1]=f-i[g+1];break;case 90:for(let g=0,b=i.length;g<b;g+=2){const y=i[g];i[g]=i[g+1]-u,i[g+1]=y-o}break;case 180:for(let g=0,b=i.length;g<b;g+=2)i[g]=h-i[g],i[g+1]-=u;break;case 270:for(let g=0,b=i.length;g<b;g+=2){const y=i[g];i[g]=f-i[g+1],i[g+1]=h-y}break;default:throw new Error("Invalid rotation")}return i},pE=function(i,s,r,o){var b,y;const u=[],h=this.thickness/2,f=i*s+h,g=i*r+h;for(const v of this.paths){const _=[],E=[];for(let C=0,L=v.length;C<L;C++){const[M,P,j,z]=v[C];if(M[0]===z[0]&&M[1]===z[1]&&L===1){const bt=i*M[0]+f,ft=i*M[1]+g;_.push(bt,ft),E.push(bt,ft);break}const I=i*M[0]+f,H=i*M[1]+g,X=i*P[0]+f,W=i*P[1]+g,et=i*j[0]+f,lt=i*j[1]+g,at=i*z[0]+f,pt=i*z[1]+g;C===0&&(_.push(I,H),E.push(I,H)),_.push(X,W,et,lt,at,pt),E.push(X,W),C===L-1&&E.push(at,pt)}u.push({bezier:S(b=de,da,Kb).call(b,_,o,this.rotation),points:S(y=de,da,Kb).call(y,E,o,this.rotation)})}return u},$b=function(){let i=1/0,s=-1/0,r=1/0,o=-1/0;for(const u of this.paths)for(const[h,f,g,b]of u){const y=dt.bezierBoundingBox(...h,...f,...g,...b);i=Math.min(i,y[0]),r=Math.min(r,y[1]),s=Math.max(s,y[2]),o=Math.max(o,y[3])}return[i,r,s,o]},Rg=function(){return c(this,An)?Math.ceil(this.thickness*this.parentScale):0},oh=function(i=!1){if(this.isEmpty())return;if(!c(this,An)){S(this,nt,Br).call(this);return}const s=S(this,nt,$b).call(this),r=S(this,nt,Rg).call(this);x(this,Ol,Math.max(Qt.MIN_SIZE,s[2]-s[0])),x(this,Nl,Math.max(Qt.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+c(this,Ol)*this.scaleFactor),u=Math.ceil(r+c(this,Nl)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=o/h,this.height=u/f,this.setAspectRatio(o,u);const g=this.translationX,b=this.translationY;this.translationX=-s[0],this.translationY=-s[1],S(this,nt,Io).call(this),S(this,nt,Br).call(this),x(this,zl,o),x(this,Hl,u),this.setDims(o,u);const y=i?r/this.scaleFactor/2:0;this.translate(g-this.translationX-y,b-this.translationY-y)},T(de,da),_t(de,"_defaultColor",null),_t(de,"_defaultOpacity",1),_t(de,"_defaultThickness",1),_t(de,"_type","ink"),_t(de,"_editorType",Mt.INK);let Bb=de;var ge,ri,lr,ia,or,Bc,hs,na,ds,tn,Ic,zt,ch,uh,Mg,Wb,mE,Dg,Zb,Lg,bE,yE;const fh=class fh extends Qt{constructor(i){super({...i,name:"stampEditor"});T(this,zt);T(this,ge,null);T(this,ri,null);T(this,lr,null);T(this,ia,null);T(this,or,null);T(this,Bc,"");T(this,hs,null);T(this,na,null);T(this,ds,null);T(this,tn,!1);T(this,Ic,!1);x(this,ia,i.bitmapUrl),x(this,or,i.bitmapFile)}static initialize(i,s){Qt.initialize(i,s)}static get supportedTypes(){return Ft(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Ft(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(i){return this.supportedTypes.includes(i)}static paste(i,s){s.pasteEditor(Mt.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const s=i.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(i=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:u,height:h}=i||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:o,width:u,height:h,channels:o.length/(u*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const g=f.output;return await this.setGuessedAltText(g),s&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var i,s;c(this,ri)&&(x(this,ge,null),this._uiManager.imageManager.deleteId(c(this,ri)),(i=c(this,hs))==null||i.remove(),x(this,hs,null),(s=c(this,na))==null||s.disconnect(),x(this,na,null),c(this,ds)&&(clearTimeout(c(this,ds)),x(this,ds,null))),super.remove()}rebuild(){if(!this.parent){c(this,ri)&&S(this,zt,Mg).call(this);return}super.rebuild(),this.div!==null&&(c(this,ri)&&c(this,hs)===null&&S(this,zt,Mg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,lr)||c(this,ge)||c(this,ia)||c(this,or)||c(this,ri))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,s;if(this.width&&(i=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),c(this,ge)?S(this,zt,Wb).call(this):S(this,zt,Mg).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(i*r,s*o,this.width*r,this.height*o)}return this.div}copyCanvas(i,s,r=!1){var _;i||(i=224);const{width:o,height:u}=c(this,ge),h=new X0;let f=c(this,ge),g=o,b=u,y=null;if(s){if(o>s||u>s){const W=Math.min(s/o,s/u);g=Math.floor(o*W),b=Math.floor(u*W)}y=document.createElement("canvas");const E=y.width=Math.ceil(g*h.sx),C=y.height=Math.ceil(b*h.sy);c(this,tn)||(f=S(this,zt,Dg).call(this,E,C));const L=y.getContext("2d");L.filter=this._uiManager.hcmFilter;let M="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":(_=window.matchMedia)!=null&&_.call(window,"(prefers-color-scheme: dark)").matches&&(M="#8f8f9d",P="#42414d");const j=15,z=j*h.sx,I=j*h.sy,H=new OffscreenCanvas(z*2,I*2),X=H.getContext("2d");X.fillStyle=M,X.fillRect(0,0,z*2,I*2),X.fillStyle=P,X.fillRect(0,0,z,I),X.fillRect(z,I,z,I),L.fillStyle=L.createPattern(H,"repeat"),L.fillRect(0,0,E,C),L.drawImage(f,0,0,f.width,f.height,0,0,E,C)}let v=null;if(r){let E,C;if(h.symmetric&&f.width<i&&f.height<i)E=f.width,C=f.height;else if(f=c(this,ge),o>i||u>i){const P=Math.min(i/o,i/u);E=Math.floor(o*P),C=Math.floor(u*P),c(this,tn)||(f=S(this,zt,Dg).call(this,E,C))}const M=new OffscreenCanvas(E,C).getContext("2d",{willReadFrequently:!0});M.drawImage(f,0,0,f.width,f.height,0,0,E,C),v={width:E,height:C,data:M.getImageData(0,0,E,C).data}}return{canvas:y,width:g,height:b,imageData:v}}getImageForAltText(){return c(this,hs)}static async deserialize(i,s,r){var C;let o=null;if(i instanceof RS){const{data:{rect:L,rotation:M,id:P,structParent:j,popupRef:z},container:I,parent:{page:{pageNumber:H}}}=i,X=I.querySelector("canvas"),W=r.imageManager.getFromCanvas(I.id,X);X.remove();const et=((C=await s._structTree.getAriaAttributes(`${hy}${P}`))==null?void 0:C.get("aria-label"))||"";o=i={annotationType:Mt.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:H-1,rect:L.slice(0),rotation:M,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:et},isSvg:!1,structParent:j,popupRef:z}}const u=await super.deserialize(i,s,r),{rect:h,bitmap:f,bitmapUrl:g,bitmapId:b,isSvg:y,accessibilityData:v}=i;b&&r.imageManager.isValidId(b)?(x(u,ri,b),f&&x(u,ge,f)):x(u,ia,g),x(u,tn,y);const[_,E]=u.pageDimensions;return u.width=(h[2]-h[0])/_,u.height=(h[3]-h[1])/E,u.annotationElementId=i.id||null,v&&(u.altTextData=v),u._initialData=o,x(u,Ic,!!o),u}serialize(i=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Mt.STAMP,bitmapId:c(this,ri),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,tn),structTreeParentId:this._structTreeParentId};if(i)return r.bitmapUrl=S(this,zt,Lg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:u}=this.serializeAltText(!1);if(!o&&u&&(r.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=S(this,zt,yE).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const h=c(this,tn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(c(this,ri)))s.stamps.set(c(this,ri),{area:h,serialized:r}),r.bitmap=S(this,zt,Lg).call(this,!1);else if(c(this,tn)){const f=s.stamps.get(c(this,ri));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=S(this,zt,Lg).call(this,!1))}return r}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}};ge=new WeakMap,ri=new WeakMap,lr=new WeakMap,ia=new WeakMap,or=new WeakMap,Bc=new WeakMap,hs=new WeakMap,na=new WeakMap,ds=new WeakMap,tn=new WeakMap,Ic=new WeakMap,zt=new WeakSet,ch=function(i,s=!1){if(!i){this.remove();return}x(this,ge,i.bitmap),s||(x(this,ri,i.id),x(this,tn,i.isSvg)),i.file&&x(this,Bc,i.file.name),S(this,zt,Wb).call(this)},uh=function(){if(x(this,lr,null),this._uiManager.enableWaiting(!1),!!c(this,hs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,ge)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,ge)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Mg=function(){if(c(this,ri)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,ri)).then(r=>S(this,zt,ch).call(this,r,!0)).finally(()=>S(this,zt,uh).call(this));return}if(c(this,ia)){const r=c(this,ia);x(this,ia,null),this._uiManager.enableWaiting(!0),x(this,lr,this._uiManager.imageManager.getFromUrl(r).then(o=>S(this,zt,ch).call(this,o)).finally(()=>S(this,zt,uh).call(this)));return}if(c(this,or)){const r=c(this,or);x(this,or,null),this._uiManager.enableWaiting(!0),x(this,lr,this._uiManager.imageManager.getFromFile(r).then(o=>S(this,zt,ch).call(this,o)).finally(()=>S(this,zt,uh).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=fh.supportedTypesStr;const s=this._uiManager._signal;x(this,lr,new Promise(r=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),S(this,zt,ch).call(this,o)}r()},{signal:s}),i.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>S(this,zt,uh).call(this))),i.click()},Wb=function(){const{div:i}=this;let{width:s,height:r}=c(this,ge);const[o,u]=this.pageDimensions,h=.75;if(this.width)s=this.width*o,r=this.height*u;else if(s>h*o||r>h*u){const y=Math.min(h*o/s,h*u/r);s*=y,r*=y}const[f,g]=this.parentDimensions;this.setDims(s*f/o,r*g/u),this._uiManager.enableWaiting(!1);const b=x(this,hs,document.createElement("canvas"));b.setAttribute("role","img"),this.addContainer(b),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),S(this,zt,Zb).call(this,s,r),S(this,zt,bE).call(this),c(this,Ic)||(this.parent.addUndoableEditor(this),x(this,Ic,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Bc)&&b.setAttribute("aria-label",c(this,Bc))},mE=function(i,s){var h;const[r,o]=this.parentDimensions;this.width=i/r,this.height=s/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,ds)!==null&&clearTimeout(c(this,ds)),x(this,ds,setTimeout(()=>{x(this,ds,null),S(this,zt,Zb).call(this,i,s)},200))},Dg=function(i,s){const{width:r,height:o}=c(this,ge);let u=r,h=o,f=c(this,ge);for(;u>2*i||h>2*s;){const g=u,b=h;u>2*i&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),h>2*s&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const y=new OffscreenCanvas(u,h);y.getContext("2d").drawImage(f,0,0,g,b,0,0,u,h),f=y.transferToImageBitmap()}return f},Zb=function(i,s){const r=new X0,o=Math.ceil(i*r.sx),u=Math.ceil(s*r.sy),h=c(this,hs);if(!h||h.width===o&&h.height===u)return;h.width=o,h.height=u;const f=c(this,tn)?c(this,ge):S(this,zt,Dg).call(this,o,u),g=h.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,o,u)},Lg=function(i){if(i){if(c(this,tn)){const o=this._uiManager.imageManager.getSvgUrl(c(this,ri));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=c(this,ge),s.getContext("2d").drawImage(c(this,ge),0,0),s.toDataURL()}if(c(this,tn)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*dr.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*dr.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(o,u);return h.getContext("2d").drawImage(c(this,ge),0,0,c(this,ge).width,c(this,ge).height,0,0,o,u),h.transferToImageBitmap()}return structuredClone(c(this,ge))},bE=function(){this._uiManager._signal&&(x(this,na,new ResizeObserver(i=>{const s=i[0].contentRect;s.width&&s.height&&S(this,zt,mE).call(this,s.width,s.height)})),c(this,na).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=c(this,na))==null||i.disconnect(),x(this,na,null)},{once:!0}))},yE=function(i){var g;const{rect:s,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,u=i.rect.every((b,y)=>Math.abs(b-s[y])<1),h=i.pageIndex===r,f=(((g=i.accessibilityData)==null?void 0:g.alt)||"")===o;return{isSame:u&&h&&f,isSameAltText:f}},_t(fh,"_type","stamp"),_t(fh,"_editorType",Mt.STAMP);let Qb=fh;var Fl,Gc,fs,cr,sa,en,ur,qc,Vc,mi,aa,mt,hr,li,vE,ty,ey,iy,Ng;const Rn=class Rn{constructor({uiManager:e,pageIndex:i,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:u,drawLayer:h,textLayer:f,viewport:g,l10n:b}){T(this,li);T(this,Fl);T(this,Gc,!1);T(this,fs,null);T(this,cr,null);T(this,sa,null);T(this,en,new Map);T(this,ur,!1);T(this,qc,!1);T(this,Vc,!1);T(this,mi,null);T(this,aa,null);T(this,mt);const y=[...c(Rn,hr).values()];if(!Rn._initialized){Rn._initialized=!0;for(const v of y)v.initialize(b,e)}e.registerEditorTypes(y),x(this,mt,e),this.pageIndex=i,this.div=s,x(this,Fl,o),x(this,fs,u),this.viewport=g,x(this,mi,f),this.drawLayer=h,this._structTree=r,c(this,mt).addLayer(this)}get isEmpty(){return c(this,en).size===0}get isInvisible(){return this.isEmpty&&c(this,mt).getMode()===Mt.NONE}updateToolbar(e){c(this,mt).updateToolbar(e)}updateMode(e=c(this,mt).getMode()){switch(S(this,li,Ng).call(this),e){case Mt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Mt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Mt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const s of c(Rn,hr).values())i.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var i;return e===((i=c(this,mi))==null?void 0:i.div)}addInkEditorIfNeeded(e){if(c(this,mt).getMode()!==Mt.INK)return;if(!e){for(const s of c(this,en).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,mt).setEditingState(e)}addCommands(e){c(this,mt).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var i;(i=c(this,fs))==null||i.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of c(this,en).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(c(this,mt).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!c(this,fs))return;const i=c(this,fs).getEditableAnnotations();for(const s of i){if(s.hide(),c(this,mt).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;x(this,Vc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const o of c(this,en).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else i.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(c(this,fs)){const o=c(this,fs).getEditableAnnotations();for(const u of o){const{id:h}=u.data;if(c(this,mt).isDeletedAnnotationElement(h))continue;let f=i.get(h);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=e.get(h),f&&(c(this,mt).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}S(this,li,Ng).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of c(Rn,hr).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(this,Vc,!1)}getEditableAnnotation(e){var i;return((i=c(this,fs))==null?void 0:i.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,mt).getActive()!==e&&c(this,mt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,mi))!=null&&e.div&&!c(this,aa)){x(this,aa,new AbortController);const i=c(this,mt).combinedSignal(c(this,aa));c(this,mi).div.addEventListener("pointerdown",S(this,li,vE).bind(this),{signal:i}),c(this,mi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,mi))!=null&&e.div&&c(this,aa)&&(c(this,aa).abort(),x(this,aa,null),c(this,mi).div.classList.remove("highlighting"))}enableClick(){if(c(this,cr))return;x(this,cr,new AbortController);const e=c(this,mt).combinedSignal(c(this,cr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=c(this,cr))==null||e.abort(),x(this,cr,null)}attach(e){c(this,en).set(e.id,e);const{annotationElementId:i}=e;i&&c(this,mt).isDeletedAnnotationElement(i)&&c(this,mt).removeDeletedAnnotationElement(e)}detach(e){var i;c(this,en).delete(e.id),(i=c(this,Fl))==null||i.removePointerInTextLayer(e.contentDiv),!c(this,Vc)&&e.annotationElementId&&c(this,mt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,mt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,qc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var i;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,mt).addDeletedAnnotationElement(e.annotationElementId),Qt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(i=e.parent)==null||i.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,mt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,mt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!c(this,sa)&&(e._focusEventsAllowed=!1,x(this,sa,setTimeout(()=>{x(this,sa,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,mt)._signal}),i.focus())},0))),e._structTreeParentId=(s=c(this,Fl))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const i=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:i,undo:s,mustExec:!1})}getNextId(){return c(this,mt).getId()}combinedSignal(e){return c(this,mt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,li,ty))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,i){c(this,mt).updateToolbar(e),c(this,mt).updateMode(e);const{offsetX:s,offsetY:r}=S(this,li,iy).call(this),o=this.getNextId(),u=S(this,li,ey).call(this,{parent:this,id:o,x:s,y:r,uiManager:c(this,mt),isCentered:!0,...i});u&&this.add(u)}async deserialize(e){var i;return await((i=c(Rn,hr).get(e.annotationType??e.annotationEditorType))==null?void 0:i.deserialize(e,this,c(this,mt)))||null}createAndAddNewEditor(e,i,s={}){const r=this.getNextId(),o=S(this,li,ey).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,mt),isCentered:i,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(S(this,li,iy).call(this),!0)}setSelected(e){c(this,mt).setSelected(e)}toggleSelected(e){c(this,mt).toggleSelected(e)}unselect(e){c(this,mt).unselect(e)}pointerup(e){const{isMac:i}=Ei.platform;if(!(e.button!==0||e.ctrlKey&&i)&&e.target===this.div&&c(this,ur)){if(x(this,ur,!1),!c(this,Gc)){x(this,Gc,!0);return}if(c(this,mt).getMode()===Mt.STAMP){c(this,mt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,mt).getMode()===Mt.HIGHLIGHT&&this.enableTextSelection(),c(this,ur)){x(this,ur,!1);return}const{isMac:i}=Ei.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;x(this,ur,!0);const s=c(this,mt).getActive();x(this,Gc,!s||s.isEmpty())}findNewParent(e,i,s){const r=c(this,mt).findParent(i,s);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,i;((e=c(this,mt).getActive())==null?void 0:e.parent)===this&&(c(this,mt).commitOrRemove(),c(this,mt).setActiveEditor(null)),c(this,sa)&&(clearTimeout(c(this,sa)),x(this,sa,null));for(const s of c(this,en).values())(i=c(this,Fl))==null||i.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,c(this,en).clear(),c(this,mt).removeLayer(this)}render({viewport:e}){this.viewport=e,Ul(this.div,e);for(const i of c(this,mt).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){c(this,mt).commitOrRemove(),S(this,li,Ng).call(this);const i=this.viewport.rotation,s=e.rotation;if(this.viewport=e,Ul(this.div,{rotation:s}),i!==s)for(const r of c(this,en).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return c(this,mt).viewParameters.realScale}};Fl=new WeakMap,Gc=new WeakMap,fs=new WeakMap,cr=new WeakMap,sa=new WeakMap,en=new WeakMap,ur=new WeakMap,qc=new WeakMap,Vc=new WeakMap,mi=new WeakMap,aa=new WeakMap,mt=new WeakMap,hr=new WeakMap,li=new WeakSet,vE=function(e){c(this,mt).unselectAll();const{target:i}=e;if(i===c(this,mi).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&c(this,mi).div.contains(i)){const{isMac:s}=Ei.platform;if(e.button!==0||e.ctrlKey&&s)return;c(this,mt).showAllEditors("highlight",!0,!0),c(this,mi).div.classList.add("free"),this.toggleDrawing(),zg.startHighlighting(this,c(this,mt).direction==="ltr",{target:c(this,mi).div,x:e.x,y:e.y}),c(this,mi).div.addEventListener("pointerup",()=>{c(this,mi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,mt)._signal}),e.preventDefault()}},ty=function(){return c(Rn,hr).get(c(this,mt).getMode())},ey=function(e){const i=c(this,li,ty);return i?new i.prototype.constructor(e):null},iy=function(){const{x:e,y:i,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),u=Math.max(0,i),h=Math.min(window.innerWidth,e+s),f=Math.min(window.innerHeight,i+r),g=(o+h)/2-e,b=(u+f)/2-i,[y,v]=this.viewport.rotation%180===0?[g,b]:[b,g];return{offsetX:y,offsetY:v}},Ng=function(){x(this,qc,!0);for(const e of c(this,en).values())e.isEmpty()&&e.remove();x(this,qc,!1)},_t(Rn,"_initialized",!1),T(Rn,hr,new Map([Nb,Bb,Qb,zg].map(e=>[e._editorType,e])));let Jb=Rn;var gs,Rd,Le,ra,Md,sy,Vl,ay,AE;const ni=class ni{constructor({pageIndex:e}){T(this,Vl);T(this,gs,null);T(this,Rd,0);T(this,Le,new Map);T(this,ra,new Map);this.pageIndex=e}setParent(e){if(!c(this,gs)){x(this,gs,e);return}if(c(this,gs)!==e){if(c(this,Le).size>0)for(const i of c(this,Le).values())i.remove(),e.append(i);x(this,gs,e)}}static get _svgFactory(){return Ft(this,"_svgFactory",new _y)}draw(e,i,s,r=!1){const o=Ai(this,Rd)._++,u=S(this,Vl,ay).call(this,e.box);u.classList.add(...e.classNamesForDrawing);const h=ni._svgFactory.createElement("defs");u.append(h);const f=ni._svgFactory.createElement("path");h.append(f);const g=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",g),f.setAttribute("d",e.toSVGPath()),r&&c(this,ra).set(o,f);const b=S(this,Vl,AE).call(this,h,g),y=ni._svgFactory.createElement("use");return u.append(y),u.setAttribute("fill",i),u.setAttribute("fill-opacity",s),y.setAttribute("href",`#${g}`),c(this,Le).set(o,u),{id:o,clipPathId:`url(#${b})`}}drawOutline(e){const i=Ai(this,Rd)._++,s=S(this,Vl,ay).call(this,e.box);s.classList.add(...e.classNamesForOutlining);const r=ni._svgFactory.createElement("defs");s.append(r);const o=ni._svgFactory.createElement("path");r.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e.mustRemoveSelfIntersections){const b=ni._svgFactory.createElement("mask");r.append(b),h=`mask_p${this.pageIndex}_${i}`,b.setAttribute("id",h),b.setAttribute("maskUnits","objectBoundingBox");const y=ni._svgFactory.createElement("rect");b.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const v=ni._svgFactory.createElement("use");b.append(v),v.setAttribute("href",`#${u}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=ni._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${u}`),h&&f.setAttribute("mask",`url(#${h})`);const g=f.cloneNode();return s.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),c(this,Le).set(i,s),i}finalizeLine(e,i){const s=c(this,ra).get(e);c(this,ra).delete(e),this.updateBox(e,i.box),s.setAttribute("d",i.toSVGPath())}updateLine(e,i){c(this,Le).get(e).firstChild.firstChild.setAttribute("d",i.toSVGPath())}updatePath(e,i){c(this,ra).get(e).setAttribute("d",i.toSVGPath())}updateBox(e,i){var s;S(s=ni,Md,sy).call(s,c(this,Le).get(e),i)}show(e,i){c(this,Le).get(e).classList.toggle("hidden",!i)}rotate(e,i){c(this,Le).get(e).setAttribute("data-main-rotation",i)}changeColor(e,i){c(this,Le).get(e).setAttribute("fill",i)}changeOpacity(e,i){c(this,Le).get(e).setAttribute("fill-opacity",i)}addClass(e,i){c(this,Le).get(e).classList.add(i)}removeClass(e,i){c(this,Le).get(e).classList.remove(i)}getSVGRoot(e){return c(this,Le).get(e)}remove(e){c(this,ra).delete(e),c(this,gs)!==null&&(c(this,Le).get(e).remove(),c(this,Le).delete(e))}destroy(){x(this,gs,null);for(const e of c(this,Le).values())e.remove();c(this,Le).clear(),c(this,ra).clear()}};gs=new WeakMap,Rd=new WeakMap,Le=new WeakMap,ra=new WeakMap,Md=new WeakSet,sy=function(e,{x:i=0,y:s=0,width:r=1,height:o=1}={}){const{style:u}=e;u.top=`${100*s}%`,u.left=`${100*i}%`,u.width=`${100*r}%`,u.height=`${100*o}%`},Vl=new WeakSet,ay=function(e){var s;const i=ni._svgFactory.create(1,1,!0);return c(this,gs).append(i),i.setAttribute("aria-hidden",!0),S(s=ni,Md,sy).call(s,i,e),i},AE=function(e,i){const s=ni._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${i}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=ni._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${i}`),o.classList.add("clip"),r},T(ni,Md);let ny=ni;var cM=Tt.AbortException,uM=Tt.AnnotationEditorLayer,hM=Tt.AnnotationEditorParamsType,dM=Tt.AnnotationEditorType,fM=Tt.AnnotationEditorUIManager,_E=Tt.AnnotationLayer,xE=Tt.AnnotationMode,gM=Tt.ColorPicker,pM=Tt.DOMSVGFactory,mM=Tt.DrawLayer,bM=Tt.FeatureTest,Sy=Tt.GlobalWorkerOptions,yM=Tt.ImageKind,vM=Tt.InvalidPDFException,AM=Tt.MissingPDFException,_M=Tt.OPS,xM=Tt.OutputScale,SM=Tt.PDFDataRangeTransport,EM=Tt.PDFDateString,wM=Tt.PDFWorker,TM=Tt.PasswordResponses,CM=Tt.PermissionFlag,RM=Tt.PixelsPerInch,MM=Tt.RenderingCancelledException,SE=Tt.TextLayer,DM=Tt.UnexpectedResponseException,LM=Tt.Util,NM=Tt.VerbosityLevel,OM=Tt.XfaLayer,kM=Tt.build,PM=Tt.createValidAbsoluteUrl,jM=Tt.fetchData,EE=Tt.getDocument,zM=Tt.getFilenameFromUrl,HM=Tt.getPdfFilenameFromUrl,FM=Tt.getXfaPageViewport,UM=Tt.isDataScheme,BM=Tt.isPdfFile,IM=Tt.noContextMenu,GM=Tt.normalizeUnicode,qM=Tt.setLayerDimensions,VM=Tt.shadow,wE=Tt.version;const XM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:cM,AnnotationEditorLayer:uM,AnnotationEditorParamsType:hM,AnnotationEditorType:dM,AnnotationEditorUIManager:fM,AnnotationLayer:_E,AnnotationMode:xE,ColorPicker:gM,DOMSVGFactory:pM,DrawLayer:mM,FeatureTest:bM,GlobalWorkerOptions:Sy,ImageKind:yM,InvalidPDFException:vM,MissingPDFException:AM,OPS:_M,OutputScale:xM,PDFDataRangeTransport:SM,PDFDateString:EM,PDFWorker:wM,PasswordResponses:TM,PermissionFlag:CM,PixelsPerInch:RM,RenderingCancelledException:MM,TextLayer:SE,UnexpectedResponseException:DM,Util:LM,VerbosityLevel:NM,XfaLayer:OM,build:kM,createValidAbsoluteUrl:PM,fetchData:jM,getDocument:EE,getFilenameFromUrl:zM,getPdfFilenameFromUrl:HM,getXfaPageViewport:FM,isDataScheme:UM,isPdfFile:BM,noContextMenu:IM,normalizeUnicode:GM,setLayerDimensions:qM,shadow:VM,version:wE},Symbol.toStringTag,{value:"Module"}));var Ye=function(p,e,i){if(i||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return p.concat(o||Array.prototype.slice.call(e))},YM=["onCopy","onCut","onPaste"],KM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],$M=["onFocus","onBlur"],QM=["onInput","onInvalid","onReset","onSubmit"],WM=["onLoad","onError"],ZM=["onKeyDown","onKeyPress","onKeyUp"],JM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],tD=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],eD=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],iD=["onSelect"],nD=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],sD=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],aD=["onScroll"],rD=["onWheel"],lD=["onAnimationStart","onAnimationEnd","onAnimationIteration"],oD=["onTransitionEnd"],cD=["onToggle"],uD=["onChange"],hD=Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye([],YM,!0),KM,!0),$M,!0),QM,!0),WM,!0),ZM,!0),JM,!0),tD,!0),eD,!0),iD,!0),nD,!0),sD,!0),aD,!0),rD,!0),lD,!0),oD,!0),uD,!0),cD,!0);function TE(p,e){var i={};return hD.forEach(function(s){var r=p[s];r&&(e?i[s]=function(o){return r(o,e(s))}:i[s]=r)}),i}function Od(p){var e=!1,i=new Promise(function(s,r){p.then(function(o){return!e&&s(o)}).catch(function(o){return!e&&r(o)})});return{promise:i,cancel:function(){e=!0}}}function CE(p){var e,i,s="";if(typeof p=="string"||typeof p=="number")s+=p;else if(typeof p=="object")if(Array.isArray(p)){var r=p.length;for(e=0;e<r;e++)p[e]&&(i=CE(p[e]))&&(s&&(s+=" "),s+=i)}else for(i in p)p[i]&&(s&&(s+=" "),s+=i);return s}function up(){for(var p,e,i=0,s="",r=arguments.length;i<r;i++)(p=arguments[i])&&(e=CE(p))&&(s&&(s+=" "),s+=e);return s}var dD="Invariant failed";function se(p,e){if(!p)throw new Error(dD)}var B0,Z_;function fD(){if(Z_)return B0;Z_=1;var p=function(){};return B0=p,B0}var gD=fD();const bi=e2(gD);var J_=Object.prototype.hasOwnProperty;function tx(p,e,i){for(i of p.keys())if(Xo(i,e))return i}function Xo(p,e){var i,s,r;if(p===e)return!0;if(p&&e&&(i=p.constructor)===e.constructor){if(i===Date)return p.getTime()===e.getTime();if(i===RegExp)return p.toString()===e.toString();if(i===Array){if((s=p.length)===e.length)for(;s--&&Xo(p[s],e[s]););return s===-1}if(i===Set){if(p.size!==e.size)return!1;for(s of p)if(r=s,r&&typeof r=="object"&&(r=tx(e,r),!r)||!e.has(r))return!1;return!0}if(i===Map){if(p.size!==e.size)return!1;for(s of p)if(r=s[0],r&&typeof r=="object"&&(r=tx(e,r),!r)||!Xo(s[1],e.get(r)))return!1;return!0}if(i===ArrayBuffer)p=new Uint8Array(p),e=new Uint8Array(e);else if(i===DataView){if((s=p.byteLength)===e.byteLength)for(;s--&&p.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(p)){if((s=p.byteLength)===e.byteLength)for(;s--&&p[s]===e[s];);return s===-1}if(!i||typeof p=="object"){s=0;for(i in p)if(J_.call(p,i)&&++s&&!J_.call(e,i)||!(i in e)||!Xo(p[i],e[i]))return!1;return Object.keys(e).length===s}}return p!==p&&e!==e}const RE=it.createContext(null);function Yo({children:p,type:e}){return R.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:p})}const pD="noopener noreferrer nofollow";class mD{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return se(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){se(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(i=>{se(this.pdfDocument),se(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(i):Array.isArray(e)?i(e):e.then(i)}).then(i=>{se(Array.isArray(i));const s=i[0];new Promise(r=>{se(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{se(!1)}):typeof s=="number"?r(s):se(!1)}).then(r=>{const o=r+1;se(this.pdfViewer),se(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const i=e-1;se(this.pdfViewer),se(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:e})}addLinkAttributes(e,i,s){e.href=i,e.rel=this.externalLinkRel||pD,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const ex={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},hp=typeof window<"u",ME=hp&&window.location.protocol==="file:";function bD(p){return typeof p<"u"}function zr(p){return bD(p)&&p!==null}function yD(p){return typeof p=="string"}function vD(p){return p instanceof ArrayBuffer}function AD(p){return se(hp),p instanceof Blob}function ry(p){return yD(p)&&/^data:/.test(p)}function ix(p){se(ry(p));const[e="",i=""]=p.split(",");return e.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function _D(){return hp&&window.devicePixelRatio||1}const DE="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function nx(){bi(!ME,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${DE}`)}function xD(){bi(!ME,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${DE}`)}function Gl(p){p!=null&&p.cancel&&p.cancel()}function ly(p,e){return Object.defineProperty(p,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(p,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(p,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(p,"originalHeight",{get(){return this.view[3]},configurable:!0}),p}function SD(p){return p.name==="RenderingCancelledException"}function ED(p){return new Promise((e,i)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return i(new Error("Error while reading a file."));e(s.result)},s.onerror=r=>{if(!r.target)return i(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return i(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},s.readAsArrayBuffer(p)})}function wD(p,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return p}}function Xc(){return it.useReducer(wD,{value:void 0,error:void 0})}var TD=function(p,e,i,s){function r(o){return o instanceof i?o:new i(function(u){u(o)})}return new(i||(i=Promise))(function(o,u){function h(b){try{g(s.next(b))}catch(y){u(y)}}function f(b){try{g(s.throw(b))}catch(y){u(y)}}function g(b){b.done?o(b.value):r(b.value).then(h,f)}g((s=s.apply(p,e||[])).next())})},sx=function(p,e){var i={};for(var s in p)Object.prototype.hasOwnProperty.call(p,s)&&e.indexOf(s)<0&&(i[s]=p[s]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(p);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(p,s[r])&&(i[s[r]]=p[s[r]]);return i};const{PDFDataRangeTransport:CD}=XM,RD=(p,e)=>{switch(e){case ex.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");p(i);break}case ex.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");p(i);break}}};function ax(p){return typeof p=="object"&&p!==null&&("data"in p||"range"in p||"url"in p)}const MD=it.forwardRef(function(e,i){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:h,file:f,inputRef:g,imageResourcesPath:b,loading:y="Loading PDF",noData:v="No PDF file specified.",onItemClick:_,onLoadError:E,onLoadProgress:C,onLoadSuccess:L,onPassword:M=RD,onSourceError:P,onSourceSuccess:j,options:z,renderMode:I,rotate:H}=e,X=sx(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,et]=Xc(),{value:lt,error:at}=W,[pt,bt]=Xc(),{value:ft,error:ht}=pt,U=it.useRef(new mD),V=it.useRef([]),Z=it.useRef(void 0),St=it.useRef(void 0);f&&f!==Z.current&&ax(f)&&(bi(!Xo(f,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=f),z&&z!==St.current&&(bi(!Xo(z,St.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),St.current=z);const N=it.useRef({scrollPageIntoView:qt=>{const{dest:oe,pageNumber:Be,pageIndex:Te=Be-1}=qt;if(_){_({dest:oe,pageIndex:Te,pageNumber:Be});return}const Je=V.current[Te];if(Je){Je.scrollIntoView();return}bi(!1,`An internal link leading to page ${Be} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});it.useImperativeHandle(i,()=>({linkService:U,pages:V,viewer:N}),[]);function K(){j&&j()}function tt(){at&&(bi(!1,at.toString()),P&&P(at))}function J(){et({type:"RESET"})}it.useEffect(J,[f,et]);const ot=it.useCallback(()=>TD(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return ry(f)?{data:ix(f)}:(nx(),{url:f});if(f instanceof CD)return{range:f};if(vD(f))return{data:f};if(hp&&AD(f))return{data:yield ED(f)};if(se(typeof f=="object"),se(ax(f)),"url"in f&&typeof f.url=="string"){if(ry(f.url)){const{url:qt}=f,oe=sx(f,["url"]),Be=ix(qt);return Object.assign({data:Be},oe)}nx()}return f}),[f]);it.useEffect(()=>{const qt=Od(ot());return qt.promise.then(oe=>{et({type:"RESOLVE",value:oe})}).catch(oe=>{et({type:"REJECT",error:oe})}),()=>{Gl(qt)}},[ot,et]),it.useEffect(()=>{if(!(typeof lt>"u")){if(lt===!1){tt();return}K()}},[lt]);function Et(){ft&&(L&&L(ft),V.current=new Array(ft.numPages),U.current.setDocument(ft))}function ct(){ht&&(bi(!1,ht.toString()),E&&E(ht))}it.useEffect(function(){bt({type:"RESET"})},[bt,lt]),it.useEffect(function(){if(!lt)return;const oe=z?Object.assign(Object.assign({},lt),z):lt,Be=EE(oe);C&&(Be.onProgress=C),M&&(Be.onPassword=M);const Te=Be,Je=Te.promise.then(br=>{bt({type:"RESOLVE",value:br})}).catch(br=>{Te.destroyed||bt({type:"REJECT",error:br})});return()=>{Je.finally(()=>Te.destroy())}},[z,bt,lt]),it.useEffect(()=>{if(!(typeof ft>"u")){if(ft===!1){ct();return}Et()}},[ft]),it.useEffect(function(){U.current.setViewer(N.current),U.current.setExternalLinkRel(u),U.current.setExternalLinkTarget(h)},[u,h]);const wt=it.useCallback((qt,oe)=>{V.current[qt]=oe},[]),Ht=it.useCallback(qt=>{delete V.current[qt]},[]),we=it.useMemo(()=>({imageResourcesPath:b,linkService:U.current,onItemClick:_,pdf:ft,registerPage:wt,renderMode:I,rotate:H,unregisterPage:Ht}),[b,_,ft,wt,I,H,Ht]),Wt=it.useMemo(()=>TE(X,()=>ft),[X,ft]);function qn(){return R.jsx(RE.Provider,{value:we,children:s})}function ps(){return f?ft==null?R.jsx(Yo,{type:"loading",children:typeof y=="function"?y():y}):ft===!1?R.jsx(Yo,{type:"error",children:typeof o=="function"?o():o}):qn():R.jsx(Yo,{type:"no-data",children:typeof v=="function"?v():v})}return R.jsx("div",Object.assign({className:up("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},Wt,{children:ps()}))});function LE(){return it.useContext(RE)}function NE(){for(var p=[],e=0;e<arguments.length;e++)p[e]=arguments[e];var i=p.filter(Boolean);if(i.length<=1){var s=i[0];return s||null}return function(o){i.forEach(function(u){typeof u=="function"?u(o):u&&(u.current=o)})}}const OE=it.createContext(null),kE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},DD=/^H(\d+)$/;function LD(p){return p in kE}function dp(p){return"children"in p}function PE(p){return dp(p)?p.children.length===1&&0 in p.children&&"id"in p.children[0]:!1}function ND(p){const e={};if(dp(p)){const{role:i}=p,s=i.match(DD);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(LD(i)){const r=kE[i];r&&(e.role=r)}}return e}function jE(p){const e={};if(dp(p)){if(p.alt!==void 0&&(e["aria-label"]=p.alt),p.lang!==void 0&&(e.lang=p.lang),PE(p)){const[i]=p.children;if(i){const s=jE(i);return Object.assign(Object.assign({},e),s)}}}else"id"in p&&(e["aria-owns"]=p.id);return e}function OD(p){return p?Object.assign(Object.assign({},ND(p)),jE(p)):null}function zE({className:p,node:e}){const i=it.useMemo(()=>OD(e),[e]),s=it.useMemo(()=>!dp(e)||PE(e)?null:e.children.map((r,o)=>R.jsx(zE,{node:r},o)),[e]);return R.jsx("span",Object.assign({className:p},i,{children:s}))}function fp(){return it.useContext(OE)}function kD(){const p=fp();se(p);const{onGetStructTreeError:e,onGetStructTreeSuccess:i}=p,[s,r]=Xc(),{value:o,error:u}=s,{customTextRenderer:h,page:f}=p;function g(){o&&i&&i(o)}function b(){u&&(bi(!1,u.toString()),e&&e(u))}return it.useEffect(function(){r({type:"RESET"})},[r,f]),it.useEffect(function(){if(h||!f)return;const v=Od(f.getStructTree()),_=v;return v.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>Gl(_)},[h,f,r]),it.useEffect(()=>{if(o!==void 0){if(o===!1){b();return}g()}},[o]),o?R.jsx(zE,{className:"react-pdf__Page__structTree structTree",node:o}):null}const rx=xE;function PD(p){const e=fp();se(e);const i=Object.assign(Object.assign({},e),p),{_className:s,canvasBackground:r,devicePixelRatio:o=_D(),onRenderError:u,onRenderSuccess:h,page:f,renderForms:g,renderTextLayer:b,rotate:y,scale:v}=i,{canvasRef:_}=p;se(f);const E=it.useRef(null);function C(){f&&h&&h(ly(f,v))}function L(z){SD(z)||(bi(!1,z.toString()),u&&u(z))}const M=it.useMemo(()=>f.getViewport({scale:v*o,rotation:y}),[o,f,y,v]),P=it.useMemo(()=>f.getViewport({scale:v,rotation:y}),[f,y,v]);it.useEffect(function(){if(!f)return;f.cleanup();const{current:I}=E;if(!I)return;I.width=M.width,I.height=M.height,I.style.width=`${Math.floor(P.width)}px`,I.style.height=`${Math.floor(P.height)}px`,I.style.visibility="hidden";const H={annotationMode:g?rx.ENABLE_FORMS:rx.ENABLE,canvasContext:I.getContext("2d",{alpha:!1}),viewport:M};r&&(H.background=r);const X=f.render(H),W=X;return X.promise.then(()=>{I.style.visibility="",C()}).catch(L),()=>Gl(W)},[r,f,g,M,P]);const j=it.useCallback(()=>{const{current:z}=E;z&&(z.width=0,z.height=0)},[]);return it.useEffect(()=>j,[j]),R.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:NE(_,E),style:{display:"block",userSelect:"none"},children:b?R.jsx(kD,{}):null})}function jD(p){return"str"in p}function zD(){const p=fp();se(p);const{customTextRenderer:e,onGetTextError:i,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:u,pageIndex:h,pageNumber:f,rotate:g,scale:b}=p;se(u);const[y,v]=Xc(),{value:_,error:E}=y,C=it.useRef(null);bi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function L(){_&&s&&s(_)}function M(){E&&(bi(!1,E.toString()),i&&i(E))}it.useEffect(function(){v({type:"RESET"})},[u,v]),it.useEffect(function(){if(!u)return;const W=Od(u.getTextContent()),et=W;return W.promise.then(lt=>{v({type:"RESOLVE",value:lt})}).catch(lt=>{v({type:"REJECT",error:lt})}),()=>Gl(et)},[u,v]),it.useEffect(()=>{if(_!==void 0){if(_===!1){M();return}L()}},[_]);const P=it.useCallback(()=>{o&&o()},[o]),j=it.useCallback(X=>{bi(!1,X.toString()),r&&r(X)},[r]);function z(){const X=C.current;X&&X.classList.add("selecting")}function I(){const X=C.current;X&&X.classList.remove("selecting")}const H=it.useMemo(()=>u.getViewport({scale:b,rotation:g}),[u,g,b]);return it.useLayoutEffect(function(){if(!u||!_)return;const{current:W}=C;if(!W)return;W.innerHTML="";const et=u.streamTextContent({includeMarkedContent:!0}),lt={container:W,textContentSource:et,viewport:H},at=new SE(lt),pt=at;return at.render().then(()=>{const bt=document.createElement("div");bt.className="endOfContent",W.append(bt);const ft=W.querySelectorAll('[role="presentation"]');if(e){let ht=0;_.items.forEach((U,V)=>{if(!jD(U))return;const Z=ft[ht];if(!Z)return;const St=e(Object.assign({pageIndex:h,pageNumber:f,itemIndex:V},U));Z.innerHTML=St,ht+=U.str&&U.hasEOL?2:1})}P()}).catch(j),()=>Gl(pt)},[e,j,P,u,h,f,_,H]),R.jsx("div",{className:up("react-pdf__Page__textContent","textLayer"),onMouseUp:I,onMouseDown:z,ref:C})}function HD(){const p=LE(),e=fp();se(e);const i=Object.assign(Object.assign({},p),e),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:g,pdf:b,renderForms:y,rotate:v,scale:_=1}=i;se(b),se(g),se(r);const[E,C]=Xc(),{value:L,error:M}=E,P=it.useRef(null);bi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function j(){L&&u&&u(L)}function z(){M&&(bi(!1,M.toString()),o&&o(M))}it.useEffect(function(){C({type:"RESET"})},[C,g]),it.useEffect(function(){if(!g)return;const et=Od(g.getAnnotations()),lt=et;return et.promise.then(at=>{C({type:"RESOLVE",value:at})}).catch(at=>{C({type:"REJECT",error:at})}),()=>{Gl(lt)}},[C,g]),it.useEffect(()=>{if(L!==void 0){if(L===!1){z();return}j()}},[L]);function I(){f&&f()}function H(W){bi(!1,`${W}`),h&&h(W)}const X=it.useMemo(()=>g.getViewport({scale:_,rotation:v}),[g,v,_]);return it.useEffect(function(){if(!b||!g||!r||!L)return;const{current:et}=P;if(!et)return;const lt=X.clone({dontFlip:!0}),at={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:et,l10n:null,page:g,structTreeLayer:null,viewport:lt},pt={annotations:L,annotationStorage:b.annotationStorage,div:et,imageResourcesPath:s,linkService:r,page:g,renderForms:y,viewport:lt};et.innerHTML="";try{new _E(at).render(pt),I()}catch(bt){H(bt)}return()=>{}},[L,s,r,g,b,y,X]),R.jsx("div",{className:up("react-pdf__Page__annotations","annotationLayer"),ref:P})}var FD=function(p,e){var i={};for(var s in p)Object.prototype.hasOwnProperty.call(p,s)&&e.indexOf(s)<0&&(i[s]=p[s]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(p);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(p,s[r])&&(i[s[r]]=p[s[r]]);return i};const lx=1;function UD(p){const e=LE(),i=Object.assign(Object.assign({},e),p),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:u,children:h,className:f,customRenderer:g,customTextRenderer:b,devicePixelRatio:y,error:v="Failed to load the page.",height:_,inputRef:E,loading:C="Loading page",noData:L="No page specified.",onGetAnnotationsError:M,onGetAnnotationsSuccess:P,onGetStructTreeError:j,onGetStructTreeSuccess:z,onGetTextError:I,onGetTextSuccess:H,onLoadError:X,onLoadSuccess:W,onRenderAnnotationLayerError:et,onRenderAnnotationLayerSuccess:lt,onRenderError:at,onRenderSuccess:pt,onRenderTextLayerError:bt,onRenderTextLayerSuccess:ft,pageIndex:ht,pageNumber:U,pdf:V,registerPage:Z,renderAnnotationLayer:St=!0,renderForms:N=!1,renderMode:K="canvas",renderTextLayer:tt=!0,rotate:J,scale:ot=lx,unregisterPage:Et,width:ct}=i,wt=FD(i,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ht,we]=Xc(),{value:Wt,error:qn}=Ht,ps=it.useRef(null);se(V);const qt=zr(U)?U-1:ht??null,oe=U??(zr(ht)?ht+1:null),Be=J??(Wt?Wt.rotate:null),Te=it.useMemo(()=>{if(!Wt)return null;let Ce=1;const Fi=ot??lx;if(ct||_){const Ie=Wt.getViewport({scale:1,rotation:Be});ct?Ce=ct/Ie.width:_&&(Ce=_/Ie.height)}return Fi*Ce},[_,Wt,Be,ot,ct]);it.useEffect(function(){return()=>{zr(qt)&&r&&Et&&Et(qt)}},[r,V,qt,Et]);function Je(){if(W){if(!Wt||!Te)return;W(ly(Wt,Te))}if(r&&Z){if(!zr(qt)||!ps.current)return;Z(qt,ps.current)}}function br(){qn&&(bi(!1,qn.toString()),X&&X(qn))}it.useEffect(function(){we({type:"RESET"})},[we,V,qt]),it.useEffect(function(){if(!V||!oe)return;const Fi=Od(V.getPage(oe)),Ie=Fi;return Fi.promise.then(Yc=>{we({type:"RESOLVE",value:Yc})}).catch(Yc=>{we({type:"REJECT",error:Yc})}),()=>Gl(Ie)},[we,V,oe]),it.useEffect(()=>{if(Wt!==void 0){if(Wt===!1){br();return}Je()}},[Wt,Te]);const kd=it.useMemo(()=>Wt&&zr(qt)&&oe&&zr(Be)&&zr(Te)?{_className:s,canvasBackground:o,customTextRenderer:b,devicePixelRatio:y,onGetAnnotationsError:M,onGetAnnotationsSuccess:P,onGetStructTreeError:j,onGetStructTreeSuccess:z,onGetTextError:I,onGetTextSuccess:H,onRenderAnnotationLayerError:et,onRenderAnnotationLayerSuccess:lt,onRenderError:at,onRenderSuccess:pt,onRenderTextLayerError:bt,onRenderTextLayerSuccess:ft,page:Wt,pageIndex:qt,pageNumber:oe,renderForms:N,renderTextLayer:tt,rotate:Be,scale:Te}:null,[s,o,b,y,M,P,j,z,I,H,et,lt,at,pt,bt,ft,Wt,qt,oe,N,tt,Be,Te]),Pd=it.useMemo(()=>TE(wt,()=>Wt&&(Te?ly(Wt,Te):void 0)),[wt,Wt,Te]),ms=`${qt}@${Te}/${Be}`;function gp(){switch(K){case"custom":return se(g),R.jsx(g,{},`${ms}_custom`);case"none":return null;case"canvas":default:return R.jsx(PD,{canvasRef:u},`${ms}_canvas`)}}function jd(){return tt?R.jsx(zD,{},`${ms}_text`):null}function pp(){return St?R.jsx(HD,{},`${ms}_annotations`):null}function mp(){return R.jsxs(OE.Provider,{value:kd,children:[gp(),jd(),pp(),h]})}function yr(){return oe?V===null||Wt===void 0||Wt===null?R.jsx(Yo,{type:"loading",children:typeof C=="function"?C():C}):V===!1||Wt===!1?R.jsx(Yo,{type:"error",children:typeof v=="function"?v():v}):mp():R.jsx(Yo,{type:"no-data",children:typeof L=="function"?L():L})}return R.jsx("div",Object.assign({className:up(s,f),"data-page-number":oe,ref:NE(E,ps),style:{"--scale-factor":`${Te}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Pd,{children:yr()}))}xD();Sy.workerSrc="pdf.worker.mjs";typeof window<"u"&&(Sy.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${wE}/pdf.worker.min.js`);function BD({onClose:p}){const[e,i]=it.useState(0),[s,r]=it.useState(1),[o,u]=it.useState(1),[h,f]=it.useState(0),[g,b]=it.useState(!0),[y,v]=it.useState(""),_="/resume.pdf";it.useEffect(()=>{fetch(_,{method:"HEAD"}).then(H=>{if(!H.ok)throw new Error(`PDF file not found: ${H.status}`);const X=H.headers.get("content-type");if(!(X!=null&&X.includes("pdf")))throw new Error(`File is not a PDF. Content-Type: ${X}`)}).then(()=>{b(!1)}).catch(H=>{v(`Cannot load PDF file: ${H.message}`),b(!1)})},[_]);function E({numPages:H}){i(H),b(!1),v("")}function C(H){console.error(" PDF load error detail:",H),v("Failed to load PDF. Please check that resume.pdf is a valid PDF file."),b(!1)}const L=()=>{r(H=>Math.max(H-1,1))},M=()=>{r(H=>Math.min(H+1,e))},P=()=>{u(H=>Math.min(H+.2,3))},j=()=>{u(H=>Math.max(H-.2,.5))},z=()=>{f(H=>(H+90)%360)},I=()=>{const H=document.createElement("a");H.href=_,H.download="resume.pdf",H.target="_blank",document.body.appendChild(H),H.click(),document.body.removeChild(H)};return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:R.jsxs("div",{className:"bg-white w-full h-full max-w-6xl max-h-[90vh] rounded-lg shadow-2xl flex flex-col",children:[R.jsx("div",{className:"bg-white border-b p-4 rounded-t-lg",children:R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[R.jsx(mx,{size:20}),"Close"]}),R.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e>0&&R.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-lg",children:[R.jsx("button",{onClick:L,disabled:s<=1,className:"px-2 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 rounded",children:""}),R.jsxs("span",{className:"text-sm font-medium",children:[s," / ",e]}),R.jsx("button",{onClick:M,disabled:s>=e,className:"px-2 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 rounded",children:""})]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("button",{onClick:j,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Zoom Out",children:R.jsx(W2,{size:16})}),R.jsxs("span",{className:"text-sm font-medium px-2",children:[Math.round(o*100),"%"]}),R.jsx("button",{onClick:P,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Zoom In",children:R.jsx($2,{size:16})})]}),R.jsx("button",{onClick:z,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Rotate",children:R.jsx(B2,{size:16})}),R.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[R.jsx(R2,{size:16}),"Download"]})]})]})}),R.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 p-4",children:R.jsx("div",{className:"flex justify-center",children:R.jsxs("div",{className:"bg-white shadow-lg",children:[g&&!y&&R.jsx("div",{className:"flex items-center justify-center h-96 w-full",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),R.jsx("p",{className:"text-gray-600",children:"Loading resume..."})]})}),y&&R.jsx("div",{className:"flex items-center justify-center h-96 w-full p-8",children:R.jsxs("div",{className:"text-center text-red-600 max-w-md",children:[R.jsx("div",{className:"mb-4 text-6xl",children:""}),R.jsx("h3",{className:"text-lg font-semibold mb-2",children:"PDF Loading Error"}),R.jsx("p",{className:"mb-4 text-sm",children:y}),R.jsxs("div",{className:"text-left text-xs text-gray-600 bg-gray-50 p-3 rounded",children:[R.jsx("p",{className:"font-semibold mb-2",children:"Troubleshooting steps:"}),R.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[R.jsx("li",{children:"Ensure resume.pdf is in the public folder"}),R.jsx("li",{children:"Check that the file is a valid PDF"}),R.jsx("li",{children:"Try refreshing the page"}),R.jsx("li",{children:"Check browser console for more details"})]})]})]})}),!g&&!y&&R.jsx(MD,{file:_,onLoadSuccess:E,onLoadError:C,loading:R.jsx("div",{className:"flex items-center justify-center h-96 w-full",children:R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),options:{cMapUrl:"https://unpkg.com/pdfjs-dist@3.11.174/cmaps/",cMapPacked:!0},children:R.jsx(UD,{pageNumber:s,scale:o,rotate:h,loading:R.jsx("div",{className:"flex items-center justify-center h-96 w-96",children:R.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})})]})})})]})})}function ID(){const[p,e]=it.useState("home"),[i,s]=it.useState(!1);return R.jsxs("div",{className:"min-h-screen bg-white",children:[R.jsx(Z2,{activeSection:p,setActiveSection:e,onResumeClick:()=>s(!0)}),i&&R.jsx(BD,{onClose:()=>s(!1)}),R.jsxs("main",{children:[R.jsx(tC,{}),R.jsx(rC,{}),R.jsx(nC,{}),R.jsx(eC,{}),R.jsx(sC,{})]}),R.jsx(aC,{})]})}h2.createRoot(document.getElementById("root")).render(R.jsx(it.StrictMode,{children:R.jsx(ID,{})}));
